{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js!/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/kefu/mobile/user/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/kefu/mobile/user/index.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport userLabels from \"./userLabel\";\nimport { userInfo, userGroupApi, putGroupApi, userLabel } from '@/api/kefu';\nimport vuePickers from 'vue-pickers';\nimport dayjs from \"dayjs\";\nexport default {\n  name: \"index\",\n  components: {\n    userLabels: userLabels,\n    vuePickers: vuePickers\n  },\n  filters: {\n    getDay: function getDay(val) {\n      if (val) {\n        return dayjs.unix(val).format(\"YYYY年M月D日\");\n      }\n    },\n    typeFilters: function typeFilters(value) {\n      var statusMap = {\n        h5: \"H5\",\n        wechat: \"公众号\",\n        routine: \"小程序\",\n        pc: \"PC\"\n      };\n      return statusMap[value];\n    }\n  },\n  data: function data() {\n    return {\n      change: false,\n      //模态框显示隐藏\n      activeUserInfo: '',\n      pickerVisible: false,\n      //分组选择\n      groupList: [],\n      //分组\n      labelList: [] //标签\n\n    };\n  },\n  mounted: function mounted() {\n    this.getGroup();\n    this.getUserInfo();\n  },\n  methods: {\n    //获取用户标签\n    getList: function getList() {\n      var _this = this;\n\n      userLabel(this.$route.params.uid).then(function (res) {\n        _this.labelList = res.data || [];\n\n        if (_this.labelList.length) {\n          _this.change = true;\n        } else {\n          _this.$dialog.error('暂无标签');\n        }\n      }).catch(function (err) {\n        _this.$dialog.error(err.msg);\n      });\n    },\n    //获取用户详情\n    getUserInfo: function getUserInfo() {\n      var _this2 = this;\n\n      userInfo(this.$route.params.uid).then(function (res) {\n        _this2.activeUserInfo = res.data;\n      }).catch(function (err) {\n        _this2.$dialog.error(err.msg);\n      });\n    },\n    //获取用户分组\n    getGroup: function getGroup() {\n      var _this3 = this;\n\n      var obj = {\n        id: 0,\n        group_name: \"无\"\n      };\n      userGroupApi().then(function (res) {\n        res.data.unshift(obj);\n        var tdata = [];\n        res.data.map(function (item) {\n          tdata.push({\n            label: item.group_name,\n            value: item.id\n          });\n        });\n        _this3.groupList = [tdata];\n      }).catch(function (err) {\n        _this3.$dialog.error(err.msg);\n      });\n    },\n    editLabel: function editLabel() {\n      this.change = false;\n      this.getUserInfo();\n    },\n    onShowLabel: function onShowLabel() {\n      this.getList();\n    },\n    showName: function showName() {\n      this.pickerVisible = true;\n    },\n    cancel: function cancel() {},\n    // 选择分组\n    confirm: function confirm(res) {\n      var _this4 = this;\n\n      putGroupApi(this.$route.params.uid, res[0].value).then(function (res) {\n        _this4.$Message.success(res.msg);\n\n        _this4.getUserInfo();\n      }).catch(function (err) {\n        _this4.$dialog.error(err.msg);\n      });\n    },\n    closeChange: function closeChange(msg) {\n      this.change = msg;\n    }\n  }\n};",null]}