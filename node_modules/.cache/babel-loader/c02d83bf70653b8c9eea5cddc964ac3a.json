{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js!/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/store/statistics/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/store/statistics/index.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState } from 'vuex';\nimport { headerApi, orderCharts, storeApi, operateApi } from '@/api/store';\nimport echartsFrom from '@/components/echarts/index';\nimport cardsData from \"@/components/cards/cards\";\nimport timeOptions from \"@/utils/timeOptions\";\nexport default {\n  name: \"home\",\n  components: {\n    cardsData: cardsData,\n    echartsFrom: echartsFrom\n  },\n  data: function data() {\n    return {\n      loading: false,\n      optionData: {},\n      formValidate: {\n        status: \"\",\n        extract_type: \"\",\n        nireid: \"\",\n        data: \"thirtyday\",\n        page: 1,\n        limit: 20\n      },\n      timeVal: [],\n      options: timeOptions,\n      cardLists: [],\n      extractStatistics: {},\n      series: [],\n      yAxisData: [],\n      infoList: {},\n      infoLists: {},\n      circle: 'circle1',\n      inlie: 'inlie',\n      columns: [{\n        title: '门店名称',\n        key: 'name',\n        minWidth: 80\n      }, {\n        title: '门店实际收款',\n        width: 180,\n        key: 'store_price'\n      }, {\n        title: '门店商品销售额',\n        key: 'store_order_price',\n        minWidth: 100\n      }, {\n        title: '门店商品销量',\n        key: 'store_product_count',\n        minWidth: 100\n      }, {\n        title: '门店新增用户数',\n        key: 'store_user_count',\n        minWidth: 100\n      }],\n      columns2: [{\n        title: '头像',\n        slot: 'avatar',\n        minWidth: 50\n      }, {\n        title: '用户名称',\n        minWidth: 100,\n        slot: 'nickname'\n      }, {\n        title: '订单号',\n        key: 'order_id',\n        minWidth: 100\n      }, {\n        title: '交易金额',\n        slot: 'pay_price',\n        minWidth: 100\n      }, {\n        title: '成交时间',\n        slot: 'pay_time',\n        minWidth: 100\n      }],\n      tabList: [],\n      tabList2: []\n    };\n  },\n  computed: _objectSpread({}, mapState('admin/layout', ['isMobile']), {\n    labelWidth: function labelWidth() {\n      return this.isMobile ? undefined : 80;\n    },\n    labelPosition: function labelPosition() {\n      return this.isMobile ? \"top\" : \"right\";\n    }\n  }),\n  created: function created() {\n    this.cardList();\n    this.orderchart();\n    this.staff();\n    this.trends();\n  },\n  methods: {\n    int: function int() {\n      this.cardList();\n      this.orderchart();\n      this.trends();\n      this.staff();\n    },\n    trends: function trends() {\n      var _this = this;\n\n      operateApi({\n        data: this.formValidate.data\n      }).then(function (res) {\n        _this.infoList = res.data || {};\n        _this.series = _this.infoList.series || [], _this.yAxisData = [{\n          type: 'value',\n          name: '',\n          axisLine: {\n            show: false\n          },\n          axisTick: {\n            show: false\n          },\n          axisLabel: {\n            textStyle: {\n              color: '#7F8B9C'\n            }\n          },\n          splitLine: {\n            show: true,\n            lineStyle: {\n              color: '#F5F7F9'\n            }\n          }\n        }, {\n          type: 'value',\n          name: '',\n          axisLine: {\n            show: false\n          },\n          axisTick: {\n            show: false\n          },\n          axisLabel: {\n            textStyle: {\n              color: '#7F8B9C'\n            }\n          },\n          splitLine: {\n            show: true,\n            lineStyle: {\n              color: '#F5F7F9'\n            }\n          }\n        }];\n      });\n    },\n    orderchart: function orderchart() {\n      var _this2 = this;\n\n      orderCharts({\n        data: this.formValidate.data\n      }).then(function (res) {\n        _this2.tabList2 = res.data.order_list;\n        _this2.infoLists = res.data;\n      });\n    },\n    staff: function staff() {\n      var _this3 = this;\n\n      storeApi({\n        data: this.formValidate.data\n      }).then(function (res) {\n        _this3.tabList = res.data;\n      });\n    },\n    // 选择时间\n    selectChange: function selectChange(tab) {\n      this.formValidate.page = 1;\n      this.formValidate.data = tab;\n      this.timeVal = [];\n      this.int();\n    },\n    // 具体日期\n    onchangeTime: function onchangeTime(e) {\n      this.timeVal = e;\n      this.formValidate.data = this.timeVal[0] ? this.timeVal.join(\"-\") : \"\";\n\n      if (e[0] == '') {\n        this.formValidate.data = 'thirtyday';\n      }\n\n      this.formValidate.page = 1;\n      this.int();\n    },\n    cardList: function cardList() {\n      var _this4 = this;\n\n      headerApi({\n        data: this.formValidate.data\n      }).then(function (res) {\n        _this4.extractStatistics = res.data;\n        _this4.cardLists = [{\n          col: 6,\n          count: _this4.extractStatistics.store_income,\n          name: \"门店订单金额\",\n          className: \"iconmendiandingdanjine\",\n          type: 1\n        }, {\n          col: 6,\n          count: _this4.extractStatistics.store_use_yue,\n          name: \"余额消耗金额\",\n          className: \"iconyuexiaohaojine\",\n          type: 1\n        }, {\n          col: 6,\n          count: _this4.extractStatistics.recharge_price,\n          name: \"用户充值金额\",\n          className: \"iconmendianxinzengyonghushu\",\n          type: 1\n        }, {\n          col: 6,\n          count: _this4.extractStatistics.cashier_order_price,\n          name: \"收银订单金额\",\n          className: \"iconshouyindingdanjine\",\n          type: 1\n        }, {\n          col: 6,\n          count: _this4.extractStatistics.vip_price,\n          name: \"付费会员金额\",\n          className: \"iconfufeihuiyuanjine\",\n          type: 1\n        }, {\n          col: 6,\n          count: _this4.extractStatistics.store_order_price,\n          name: \"分配订单金额\",\n          className: \"iconfenpeidingdanjine\",\n          type: 1\n        }, {\n          col: 6,\n          count: _this4.extractStatistics.store_writeoff_order_price,\n          name: \"核销订单金额\",\n          className: \"iconhexiaodingdanjine\",\n          type: 1\n        }, {\n          col: 6,\n          count: _this4.extractStatistics.store_user_count,\n          name: \"门店新增用户数\",\n          className: \"iconxinzengyonghushu1\",\n          type: 1\n        }, {\n          col: 6,\n          count: _this4.extractStatistics.store_pay_user_count,\n          name: \"门店成交用户数\",\n          className: \"iconmendianchengjiaoyonghushu\",\n          type: 1\n        }, {\n          col: 6,\n          count: _this4.extractStatistics.card_count,\n          name: \"微信会员卡激活数\",\n          className: \"iconhuiyuankajihuoshu\",\n          type: 1\n        }];\n      });\n    },\n    // 监听页面宽度变化，刷新表格\n    handleResize: function handleResize() {\n      if (this.infoList) this.$refs.visitChart.handleResize();\n    }\n  }\n};",null]}