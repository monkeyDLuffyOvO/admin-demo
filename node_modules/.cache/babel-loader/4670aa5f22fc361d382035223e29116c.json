{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js!/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/components/rightConfig/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/components/rightConfig/index.vue","mtime":1640264908000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getCategory as _getCategory, getByCategory as _getByCategory, getProduct, diySave, storeStatus as _storeStatus } from '@/api/diy';\nimport toolCom from '@/components/diyComponents/index.js';\nimport { mapMutations } from 'vuex';\nimport { mapState } from 'vuex';\nexport default {\n  name: \"rightConfig\",\n  components: _objectSpread({}, toolCom),\n  props: {\n    name: {\n      type: null,\n      default: ''\n    },\n    pageId: {\n      type: Number,\n      default: 0\n    }\n  },\n  computed: {\n    // ...mapState({\n    //     defultArr:(state)=>state.goodSelect.component,\n    // })\n    defultArr: function defultArr() {\n      this.$store.dispatch('admin/user/getPageName');\n      var names = this.$store.state.admin.user.pageName;\n      return this.$store.state.admin[names].component;\n    }\n  },\n  watch: {\n    name: {\n      handler: function handler(nVal, oVal) {\n        this.rCom = [];\n        var diy = this.$store.state.admin.user.pageName;\n        this.configData = this.$store.state.admin[diy].defaultConfig[nVal];\n        this.rCom = this.$store.state.admin[diy].component[nVal].list;\n\n        if (this.configData.selectConfig) {\n          var type = this.configData.selectConfig.type ? this.configData.selectConfig.type : '';\n          this.configData.selectConfig.list = this.categoryList;\n\n          if (type) {\n            this.getByCategory();\n          } else {\n            this.getCategory();\n          }\n        }\n      },\n      deep: true\n    },\n    'defultArr': {\n      handler: function handler(nVal, oVal) {\n        this.rCom = [];\n        var tempArr = this.objToArray(nVal);\n        this.rCom = nVal[this.name].list;\n      },\n      deep: true\n    }\n  },\n  data: function data() {\n    return {\n      rCom: [],\n      configData: {},\n      isShow: true,\n      categoryList: [],\n      status: 0\n    };\n  },\n  mounted: function mounted() {\n    this.storeStatus();\n  },\n  methods: {\n    storeStatus: function storeStatus() {\n      var _this = this;\n\n      _storeStatus().then(function (res) {\n        _this.status = parseInt(res.data.store_status);\n      });\n    },\n    getCategory: function getCategory() {\n      var _this2 = this;\n\n      _getCategory().then(function (res) {\n        var data = [];\n        res.data.map(function (item) {\n          data.push({\n            title: item.title,\n            pid: item.pid,\n            activeValue: item.id.toString()\n          });\n        });\n        _this2.categoryList = data;\n\n        _this2.bus.$emit('upData', data);\n      });\n    },\n    //获取二级分类\n    getByCategory: function getByCategory() {\n      var _this3 = this;\n\n      _getByCategory().then(function (res) {\n        var data = [];\n        res.data.map(function (item) {\n          data.push({\n            title: item.cate_name,\n            pid: item.pid,\n            activeValue: item.id.toString()\n          });\n        });\n        _this3.categoryList = data;\n\n        _this3.bus.$emit('upData', data);\n      });\n    },\n    // 保存数据\n    saveConfig: function saveConfig() {\n      var _this4 = this;\n\n      var diy = this.$store.state.admin.user.pageName;\n      var data = this.$store.state.admin[diy].defaultConfig;\n      var periphery = this.$store.state.admin[diy].periphery;\n\n      if (this.name == 'z_tabBar') {\n        if (!periphery || !this.status) {\n          var list = data.z_tabBar.tabBarList.list;\n\n          for (var i = 0; i < list.length; i++) {\n            if (list[i].link == '/pages/storeList/index' || list[i].link == 'pages/storeList/index') {\n              return this.$Message.error('请先开启您的周边功能(/pages/storeList/index)');\n            }\n          }\n        }\n\n        if (data.z_tabBar.tabBarList.list.length < 2) {\n          return this.$Message.error('您最少应添加2个导航');\n        }\n      }\n\n      diySave(this.pageId, {\n        value: data\n      }).then(function (res) {\n        _this4.$Message.success('保存成功');\n      });\n    },\n    // 对象转数组\n    objToArray: function objToArray(array) {\n      var arr = [];\n\n      for (var i in array) {\n        arr.push(array[i]);\n      }\n\n      return arr;\n    }\n  }\n};",null]}