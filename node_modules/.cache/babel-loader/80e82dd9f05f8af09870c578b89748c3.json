{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js!/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/setting/notification/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/setting/notification/index.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getNotificationList, getNotificationInfo, noticeStatus } from \"@/api/notification.js\";\nimport { routineSyncTemplate, wechatSyncTemplate } from \"@/api/app\";\nexport default {\n  data: function data() {\n    return {\n      modalTitle: \"\",\n      notificationModal: false,\n      headerList: [{\n        label: \"通知会员\",\n        value: \"1\"\n      }, {\n        label: \"通知平台\",\n        value: \"2\"\n      }],\n      columns: [{\n        title: \"ID\",\n        key: \"id\",\n        align: \"center\",\n        width: 50\n      }, {\n        title: \"通知类型\",\n        slot: \"name\",\n        align: \"center\",\n        width: 200\n      }, {\n        title: \"通知场景说明\",\n        slot: \"title\",\n        align: \"center\",\n        minWidth: 200\n      }, {\n        title: \"站内信\",\n        slot: \"is_system\",\n        align: \"center\",\n        minWidth: 100\n      }, {\n        title: \"公众号模板\",\n        slot: \"is_wechat\",\n        align: \"center\",\n        minWidth: 100\n      }, {\n        title: \"小程序订阅\",\n        slot: \"is_routine\",\n        align: \"center\",\n        minWidth: 100\n      }, {\n        title: \"发送短信\",\n        slot: \"is_sms\",\n        align: \"center\",\n        minWidth: 100\n      }, {\n        title: \"企业微信\",\n        slot: \"is_ent_wechat\",\n        align: \"center\",\n        minWidth: 100\n      }, {\n        title: \"设置\",\n        slot: \"setting\",\n        width: 150,\n        align: \"center\"\n      }],\n      levelLists: [],\n      currentTab: \"1\",\n      loading: false,\n      formData: {},\n      industry: null\n    };\n  },\n  created: function created() {\n    this.changeTab(this.currentTab);\n  },\n  methods: {\n    changeSwitch: function changeSwitch(row, item) {\n      var _this = this;\n\n      noticeStatus(item, row[item], row.id).then(function (res) {\n        _this.$Message.success(res.msg);\n      }).catch(function (err) {\n        _this.$Message.error(err.msg);\n      });\n    },\n    changeTab: function changeTab(data) {\n      var _this2 = this;\n\n      getNotificationList(data).then(function (res) {\n        _this2.levelLists = res.data.list;\n        _this2.industry = res.data.industry;\n      });\n    },\n    // 同步订阅消息\n    syncTemplate: function syncTemplate() {\n      var _this3 = this;\n\n      routineSyncTemplate().then(function (res) {\n        _this3.$Message.success(res.msg);\n\n        _this3.changeTab(_this3.currentTab);\n      }).catch(function (res) {\n        _this3.$Message.error(res.msg);\n      });\n    },\n    // 同步公众号模板消息\n    wechatTemplate: function wechatTemplate() {\n      var _this4 = this;\n\n      wechatSyncTemplate().then(function (res) {\n        _this4.$Message.success(res.msg);\n\n        _this4.changeTab(_this4.currentTab);\n      }).catch(function (res) {\n        _this4.$Message.error(res.msg);\n      });\n    },\n    // 开启关闭\n    changeStatus: function changeStatus() {},\n    // 列表\n    notice: function notice() {},\n    // 设置\n    setting: function setting(item, row) {\n      this.$router.push({\n        path: \"/admin/setting/notification/notificationEdit?id=\" + row.id\n      });\n    },\n    getData: function getData(keys, row, item) {\n      var _this5 = this;\n\n      this.formData = {};\n      getNotificationInfo(row.id, item).then(function (res) {\n        keys.map(function (i, v) {\n          _this5.formData[i] = res.data[i];\n        });\n        _this5.formData.type = item;\n        _this5.notificationModal = true;\n      });\n    }\n  }\n};",null]}