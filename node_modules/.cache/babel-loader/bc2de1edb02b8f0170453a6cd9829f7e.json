{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js!/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/setting/devise/template.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/setting/devise/template.vue","mtime":1640264908000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { diyGetInfo, diySave } from '@/api/diy';\nimport { mapMutations } from 'vuex';\nimport rightConfig from '@/components/rightConfig/index';\nimport links from './links';\nexport default {\n  name: \"index\",\n  components: {\n    rightConfig: rightConfig,\n    links: links\n  },\n  data: function data() {\n    return {\n      configName: '',\n      iframeUrl: '',\n      setConfig: '',\n      updataConfig: '',\n      pageId: 0\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    var pageId = this.$route.query.id;\n    var names = this.$route.query.name;\n    this.setConfig = 'admin/' + names + '/setConfig';\n    this.updataConfig = 'admin/' + names + '/updataConfig';\n    this.pageId = parseInt(pageId);\n    this.iframeUrl = \"\".concat(location.origin, \"?type=iframeMakkMinkkJuan\");\n    diyGetInfo(parseInt(pageId)).then(function (datas) {\n      var data = datas.data.info.value;\n\n      _this.upData(data);\n    });\n  },\n  mounted: function mounted() {\n    //监听子页面给当前页面传值\n    window.addEventListener(\"message\", this.handleMessage, false);\n  },\n  methods: {\n    //接收iframe值\n    handleMessage: function handleMessage(event) {\n      if (event.data.name) {\n        this.configName = event.data.name;\n        this.add(event.data.name);\n      }\n    },\n    add: function add(data) {\n      this.$store.commit(this.setConfig, data);\n    },\n    upData: function upData(data) {\n      this.$store.commit(this.updataConfig, data);\n    } // ...mapMutations({\n    //     add: 'diy/setConfig',\n    //     upData:'diy/updataConfig'\n    // })\n\n  }\n};",null]}