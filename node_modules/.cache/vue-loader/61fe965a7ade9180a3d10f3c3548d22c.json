{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/setting/cityDelivery/record.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/setting/cityDelivery/record.vue","mtime":1660787421000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapState } from \"vuex\";\nimport timeOptions from \"@/utils/timeOptions\";\nimport { deliveryList, merchantStoreListApi, deliveryCancelForm } from '@/api/setting';\nexport default {\n    name: \"record\",\n    components: {},\n    data() {\n        return {\n            options: timeOptions,\n            timeVal: [],\n            formData:{\n                keyword:'',\n                data:'',\n                store_id:0,\n                station_type:'',\n                status:'',\n                page:1,\n                limit:20\n            },\n            loading:false,\n            columns:[\n                {\n                    title: \"ID\",\n                    key: \"id\",\n                    width: 60,\n                },\n                {\n                    title: \"门店名称\",\n                    slot: \"info\",\n                    minWidth: 150,\n                },\n                {\n                    title: \"配送平台\",\n                    slot: \"stationType\",\n                    minWidth: 90,\n                },\n                {\n                    title: \"配送订单号\",\n                    key: \"delivery_no\",\n                    minWidth: 110,\n                },\n                {\n                    title: \"配送原订单号\",\n                    slot: \"yOrderId\",\n                    minWidth: 110,\n                },\n                {\n                    title: \"配送起点\",\n                    key: \"from_address\",\n                    minWidth: 130,\n                },\n                {\n                    title: \"配送终点\",\n                    key: \"to_address\",\n                    minWidth: 130,\n                },\n                {\n                    title: \"配送状态\",\n                    slot: \"status\",\n                    minWidth: 80,\n                },\n                {\n                    title: \"配送距离\",\n                    slot: \"distance\",\n                    minWidth: 80,\n                },\n                {\n                    title: \"配送费用\",\n                    key: \"fee\",\n                    minWidth: 80,\n                },\n                {\n                    title: \"消费时间\",\n                    key: \"add_time\",\n                    minWidth: 125,\n                },\n                {\n                    title: \"备注\",\n                    slot: \"mark\",\n                    minWidth: 80,\n                },\n                {\n                    title: '操作',\n                    slot: 'action',\n                    fixed: 'right',\n                    minWidth: 80\n                }\n            ],\n            data:[],\n            storeList:[],\n            total:0\n        };\n    },\n    computed: {\n        ...mapState(\"admin/layout\", [\"isMobile\"]),\n        labelWidth() {\n            return this.isMobile ? undefined : 96;\n        },\n        labelPosition() {\n            return this.isMobile ? \"top\" : \"right\";\n        },\n    },\n    created() {\n        this.getStoreList();\n        this.getList();\n    },\n    mounted() {},\n    methods: {\n        cancelOrder(row){\n            this.$modalForm(deliveryCancelForm(row.id)).then(() => this.getList())\n        },\n        orderReset(){\n           this.formData = {\n                keyword:'',\n                data:'',\n                store_id:0,\n                station_type:'',\n                status:'',\n                page:1,\n                limit:20\n            };\n            this.timeVal = [];\n            this.getList();\n        },\n        orderSearch(){\n            this.formData.page = 1;\n            this.getList();\n        },\n        pageChange(index){\n            this.formData.page = index;\n            this.getList()\n        },\n        limitChange(limit) {\n            this.formData.limit = limit;\n            this.getList()\n        },\n        getStoreList(){\n            merchantStoreListApi().then(res=>{\n                this.storeList = res.data;\n            }).catch(err=>{\n                this.$Message.error(err.msg);\n            })\n        },\n        getList(){\n            this.loading = true;\n            deliveryList(this.formData).then(res=>{\n                this.loading = false;\n                this.data = res.data.list;\n                this.total = res.data.count;\n            }).catch(err=>{\n                this.loading = false;\n                this.$Message.error(err.msg);\n            })\n        },\n        // 具体日期\n        onchangeTime(e) {\n            this.timeVal = e;\n            this.formData.data = this.timeVal.join(\"-\");\n            if (!e[0]) {\n                this.formData.data = \"\";\n            }\n        }\n    },\n};\n",null]}