{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/marketing/storeDiscounts/create.vue?vue&type=template&id=7a55a646&scoped=true&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/marketing/storeDiscounts/create.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["\n  <div class=\"form-submit\">\n    <div class=\"i-layout-page-header\">\n      <PageHeader class=\"product_tabs\" hidden-breadcrumb>\n        <div slot=\"title\">\n          <router-link :to=\"{ path: '/admin/marketing/store_discounts/index' }\"\n            >\n            <div class=\"font-sm after-line\">\n              <span class=\"iconfont iconfanhui\"></span>\n              <span class=\"pl10\">返回</span>\n            </div>\n            </router-link\n          >\n          <span\n            v-text=\"$route.query.id ? '编辑套餐信息' : '添加套餐信息'\"\n            class=\"mr20 ml16\"\n          ></span>\n        </div>\n      </PageHeader>\n    </div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <Row type=\"flex\" class=\"acea-row row-middle\">\n        <Col span=\"23\">\n          <Form\n            class=\"form\"\n            ref=\"formValidate\"\n            :rules=\"ruleValidate\"\n            :model=\"formValidate\"\n            @on-validate=\"validate\"\n            :label-width=\"labelWidth\"\n            :label-position=\"labelPosition\"\n            @submit.native.prevent\n          >\n            <Row v-show=\"current === 0\" type=\"flex\">\n              <Col span=\"24\">\n                <FormItem label=\"套餐名称：\" prop=\"title\" label-for=\"title\">\n                  <Input\n                    class=\"perW30\"\n                    placeholder=\"请输入套餐名称\"\n                    element-id=\"title\"\n                    v-model=\"formValidate.title\"\n                    :maxlength=\"20\"\n                  />\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem\n                  label=\"套餐时间：\"\n                  :prop=\"formValidate.is_time == 1 ? 'time' : ''\"\n                >\n                  <RadioGroup\n                    element-id=\"is_time\"\n                    v-model=\"formValidate.is_time\"\n                  >\n                    <Radio :label=\"0\">不限时</Radio>\n                    <Radio :label=\"1\" class=\"radio\">限时</Radio>\n                  </RadioGroup>\n                  <div\n                    class=\"acea-row row-middle\"\n                    v-if=\"formValidate.is_time == 1\"\n                  >\n                    <DatePicker\n                      :editable=\"false\"\n                      type=\"daterange\"\n                      format=\"yyyy-MM-dd\"\n                      placeholder=\"请选择套餐时间\"\n                      @on-change=\"onchangeTime\"\n                      class=\"perW30\"\n                      v-model=\"formValidate.time\"\n                    ></DatePicker>\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"套餐类型：\" prop=\"type\" label-for=\"type\">\n                  <RadioGroup element-id=\"type\" v-model=\"formValidate.type\">\n                    <Radio :label=\"0\" class=\"radio\">固定套餐</Radio>\n                    <Radio :label=\"1\">搭配套餐</Radio>\n                  </RadioGroup>\n                  <div class=\"ml100 grey\">\n                    {{\n                      formValidate.type == 0\n                        ? \"套餐内所有商品打包销售，消费者需成套购买整个套餐\"\n                        : \"套餐内主商品必选，搭配商品任意选择1件及以上即可购买套餐\"\n                    }}\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\" v-if=\"formValidate.type == 1\">\n                <FormItem\n                  label=\"套餐主商品：\"\n                  prop=\"products\"\n                  label-for=\"products\"\n                >\n                  <Table\n                    :data=\"specsMainData\"\n                    :columns=\"columns\"\n                    border\n                    @on-drag-drop=\"onDragDrop\"\n                  >\n                    <template slot-scope=\"{ row, index }\" slot=\"store_name\">\n                      <div class=\"product-data\">\n                        <img class=\"image\" :src=\"row.image\" />\n                        <div>{{ row.store_name }}</div>\n                      </div>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"attr\">\n                      <div v-for=\"(item, index) in row.attr\" :key=\"index\">\n                        {{ item.value }} | {{ item.price }}\n                      </div>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"setting\">\n                      <a @click=\"editGoods(row, index, 'Main')\">设置规格</a>\n                      <Divider type=\"vertical\" />\n                      <a @click=\"deleteGoods(index, 'Main')\">删除</a>\n                    </template>\n                  </Table>\n                  <Button\n                    v-if=\"specsMainData.length < 1\"\n                    type=\"primary\"\n                    class=\"submission mr15 mt20\"\n                    @click=\"addGoods('Main')\"\n                    >添加商品</Button\n                  >\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem\n                  :label=\"\n                    formValidate.type == 1 ? '套餐搭配商品：' : '套餐商品'\n                  \"\n                  prop=\"products\"\n                  label-for=\"products\"\n                >\n                  <Table\n                    :data=\"specsData\"\n                    :columns=\"columns\"\n                    border\n                    @on-drag-drop=\"onDragDrop\"\n                  >\n                    <template slot-scope=\"{ row, index }\" slot=\"store_name\">\n                      <div class=\"product-data\">\n                        <img class=\"image\" :src=\"row.image\" />\n                        <!-- <div>{{ row.store_name }}</div>\n                      </div> -->\n                        <div class=\"info\">\n                          <Tooltip max-width=\"200\" placement=\"bottom\">\n                            <span class=\"line2\">{{ row.store_name }}{{row.suk}}</span>\n                            <p slot=\"content\">{{ row.store_name }}{{row.suk}}</p>\n                          </Tooltip>\n                        </div>\n                      </div>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"attr\">\n                      <div v-for=\"(item, index) in row.attr\" :key=\"index\">\n                        {{ item.value }} | {{ item.price }}\n                      </div>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"setting\">\n                      <a @click=\"editGoods(row, index, 'Other')\">设置规格</a>\n                      <Divider type=\"vertical\" />\n                      <a @click=\"deleteGoods(index, 'Other')\">删除</a>\n                    </template>\n                  </Table>\n                  <Button\n                    v-if=\"specsData.length < 50\"\n                    type=\"primary\"\n                    class=\"submission mr15 mt20\"\n                    @click=\"addGoods('Other')\"\n                    >添加商品</Button\n                  >\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem prop=\"image\">\n                  <div class=\"custom-label\" slot=\"label\">\n                    <div>\n                      <div>套餐主图</div>\n                      <div>(750*750)</div>\n                    </div>\n                    <div>：</div>\n                  </div>\n                  <div class=\"acea-row\">\n                    <div class=\"pictrue\" v-if=\"formValidate.image\">\n                      <img v-lazy=\"formValidate.image\" />\n                      <Button\n                        shape=\"circle\"\n                        icon=\"md-close\"\n                        @click.native=\"handleRemove()\"\n                        class=\"btndel\"\n                      ></Button>\n                    </div>\n                    <div\n                      v-else\n                      class=\"upLoad acea-row row-center-wrapper\"\n                      @click=\"modalPicTap('dan', 'danFrom')\"\n                    >\n                      <Icon\n                        type=\"ios-camera-outline\"\n                        size=\"26\"\n                        class=\"iconfonts\"\n                      />\n                    </div>\n                  </div> </FormItem\n              ></Col>\n              <Col span=\"24\">\n                <FormItem\n                  label=\"套餐数量：\"\n                  :prop=\"formValidate.is_limit == 1 ? 'limit_num' : ''\"\n                  label-for=\"limit_num\"\n                >\n                  <RadioGroup\n                    element-id=\"is_limit\"\n                    v-model=\"formValidate.is_limit\"\n                  >\n                    <Radio :label=\"0\">不限量</Radio>\n                    <Radio :label=\"1\" class=\"radio\">限量</Radio>\n                  </RadioGroup>\n                  <InputNumber\n                    v-if=\"formValidate.is_limit == 1\"\n                    class=\"perW30\"\n                    placeholder=\"请输入限量数量\"\n                    element-id=\"limit_num\"\n                    v-model=\"formValidate.limit_num\"\n                    :min=\"0\"\n                    :max=\"99999\"\n                    :precision=\"0\"\n                  ></InputNumber>\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"关联用户标签：\" prop=\"link_ids\">\n\t\t\t\t\t\t\t\t\t<div class=\"labelInput acea-row row-between-wrapper\" @click=\"openLabel\">\n\t\t\t\t\t\t\t\t\t\t<div style=\"width: 90%;\">\n\t\t\t\t\t\t\t\t\t\t\t<div v-if=\"dataLabel.length\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Tag closable v-for=\"(item,index) in dataLabel\" @on-close=\"closeLabel(item)\">{{item.label_name}}</Tag>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"span\" v-else>选择用户关联标签</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"iconfont iconxiayi\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n                <!--  <div class=\"acea-row row-middle\">\n                    <Select\n                      multiple\n                      v-model=\"formValidate.link_ids\"\n                      class=\"perW30\"\n                      placeholder=\"关联用户标签\"\n                    >\n                      <Option\n                        v-for=\"item in userLabelList\"\n                        :value=\"item.id\"\n                        :key=\"item.id\"\n                        >{{ item.label_name }}</Option\n                      >\n                    </Select>\n                  </div> -->\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"排序：\" label-for=\"sort\">\n                  <InputNumber\n                    class=\"perW30\"\n                    placeholder=\"请输入排序序号\"\n                    element-id=\"sort\"\n                    v-model=\"formValidate.sort\"\n                    :min=\"0\"\n                    :max=\"999999\"\n                    :precision=\"0\"\n                  ></InputNumber>\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem\n                  label=\"套餐包邮：\"\n                  prop=\"free_shipping\"\n                  label-for=\"status\"\n                >\n                  <i-switch\n                    size=\"large\"\n                    element-id=\"free_shipping\"\n                    v-model=\"formValidate.free_shipping\"\n                    :false-value=\"0\"\n                    :true-value=\"1\"\n                  >\n                    <span false-value=\"0\" slot=\"close\">否</span>\n                    <span true-value=\"1\" slot=\"open\">是</span>\n                  </i-switch>\n                  <div class=\"ml100 grey\">\n                    不包邮时，将按照商品的运费模板进行计算\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"上架状态：\" prop=\"status\" label-for=\"status\">\n                  <i-switch\n                    size=\"large\"\n                    element-id=\"status\"\n                    v-model=\"formValidate.status\"\n                    :false-value=\"0\"\n                    :true-value=\"1\"\n                  >\n                    <span slot=\"close\">下架</span>\n                    <span slot=\"open\">上架</span>\n                  </i-switch>\n                </FormItem>\n              </Col>\n            </Row>\n\n            <!-- <FormItem>\n              <Button\n                type=\"primary\"\n                class=\"submission\"\n                :loading=\"submitOpen\"\n                @click=\"next('formValidate')\"\n              >\n                <div v-if=\"!submitOpen\">提交</div>\n                <div v-else>提交中</div>\n              </Button>\n            </FormItem> -->\n            <Spin size=\"large\" fix v-if=\"spinShow\"></Spin>\n          </Form>\n        </Col>\n      </Row>\n    </Card>\n    <Card :bordered=\"false\" dis-hover class=\"fixed-card\" :style=\"{left: `${!menuCollapse?'200px':isMobile?'0':'80px'}`}\">\n\t\t\t<Form>\n        <FormItem>\n          <Button\n            type=\"primary\"\n            class=\"submission\"\n            :loading=\"submitOpen\"\n            @click=\"next('formValidate')\"\n          >\n            <div v-if=\"!submitOpen\">提交</div>\n            <div v-else>提交中</div>\n          </Button>\n        </FormItem>\n\t\t\t</Form>\n\t\t</Card>\t\n    <!-- 上传图片-->\n    <Modal\n      v-model=\"modalPic\"\n      width=\"960px\"\n      scrollable\n      footer-hide\n      closable\n      title=\"上传商品图\"\n      :mask-closable=\"false\"\n      :z-index=\"1\"\n    >\n      <uploadPictures\n        :isChoice=\"isChoice\"\n        @getPic=\"getPic\"\n        v-if=\"modalPic\"\n      ></uploadPictures>\n    </Modal>\n    <Modal\n      v-model=\"modals\"\n      title=\"商品列表\"\n      footerHide\n      class=\"paymentFooter\"\n      scrollable\n      width=\"900\"\n      @on-cancel=\"cancel\"\n    >\n      <goods-list\n        ref=\"goodslist\"\n        v-if=\"modals\"\n        :ischeckbox=\"true\"\n        :goodsType=\"1\"\n        @getProductId=\"getProductId\"\n      ></goods-list>\n    </Modal>\n    <Modal\n      v-model=\"ggModel\"\n      title=\"规格设置\"\n      footerHide\n      class=\"paymentFooter\"\n      scrollable\n      width=\"900\"\n      @on-cancel=\"cancel\"\n    >\n      <div class=\"df\">\n        <span style=\"width: 75px\"> 优惠价：</span>\n        <InputNumber\n          class=\"m10\"\n          v-model=\"rate_price\"\n          :min=\"0\"\n          style=\"width: 100%\"\n        ></InputNumber>\n        <Button type=\"primary\" @click=\"changeRatePrice()\">\n          <div>批量添加</div>\n        </Button>\n      </div>\n      <Table\n        v-if=\"ggModel\"\n        :data=\"manyFormValidate\"\n        @on-selection-change=\"selectOne\"\n        :columns=\"header\"\n        border\n        height=\"500\"\n      >\n        <template slot-scope=\"{ row, index }\" slot=\"image\">\n          <div class=\"product-data\">\n            <img class=\"image\" :src=\"row.pic\" />\n          </div>\n        </template>\n      </Table>\n      <Button class=\"mt10\" type=\"primary\" @click=\"getAttr()\" long>\n        <div>提交</div>\n      </Button>\n    </Modal>\n\t\t<!-- 用户标签 -->\n\t\t<Modal\n\t\t  v-model=\"labelShow\"\n\t\t  scrollable\n\t\t  title=\"请选择用户标签\"\n\t\t  :closable=\"false\"\n\t\t  width=\"320\"\n\t\t  :footer-hide=\"true\"\n\t\t\t:mask-closable=\"false\"\n\t\t>\n\t\t  <userLabel ref=\"userLabel\" @activeData=\"activeData\" @close=\"labelClose\"></userLabel>\n\t\t</Modal>\n  </div>\n",null]}