{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/product/productList/index.vue?vue&type=template&id=b77c4908&scoped=true&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/product/productList/index.vue","mtime":1662448309000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["\n  <!-- 商品-商品列表 -->\n  <div class=\"article-manager\">\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\" :padding=\"0\">\n      <div class=\"new_card_pd\">\n        <Alert\n          v-if=\"alertShow\"\n          banner\n          closable\n          type=\"warning\"\n          class=\"ivu-mt\"\n          @on-close=\"closeAlert\"\n        >\n          <router-link to=\"/admin/product/add_product/0\"\n            >您有未完成的商品添加操作，点击此处可继续添加操作？</router-link\n          >\n        </Alert>\n        <Alert show-icon closable>\n          温馨提示：1.新增商品时可选统一规格或者多规格，满足商品不同销售属性场景；2.商品销售状态分为销售中且库存足够时才可下单购买\n        </Alert>\n        <!-- 条件筛选 -->\n        <Form\n          ref=\"artFrom\"\n          inline\n          :model=\"artFrom\"\n          :label-width=\"96\"\n          :label-position=\"labelPosition\"\n          @submit.native.prevent\n        >\n          <FormItem label=\"商品分类：\" prop=\"cate_id\">\n            <el-cascader\n              placeholder=\"请选择商品分类\"\n              class=\"input-add\"\n              size=\"mini\"\n              v-model=\"artFrom.cate_id\"\n              :options=\"data1\"\n              :props=\"props\"\n              @on-change=\"cascaderSearchs\"\n              filterable\n              clearable\n            >\n            </el-cascader>\n          </FormItem>\n          <FormItem label=\"供应商：\" prop=\"pid\" label-for=\"pid\">\n            <Select\n              v-model=\"artFrom.supplier_id\"\n              @on-change=\"userSearchs\"\n              clearable\n              class=\"input-add\"\n            >\n              <Option\n                v-for=\"item in supplierList\"\n                :value=\"item.id\"\n                :key=\"item.id\"\n                >{{ item.supplier_name }}</Option\n              >\n            </Select>\n          </FormItem>\n          <FormItem label=\"选择门店：\">\n            <Select\n              v-model=\"artFrom.store_id\"\n              clearable\n              filterable\n              @on-change=\"userSearchs\"\n              class=\"input-add\"\n            >\n              <Option v-for=\"item in staffData\" :value=\"item.id\" :key=\"item.id\"\n                >{{ item.name }}\n              </Option>\n            </Select>\n          </FormItem>\n          <FormItem label=\"商品搜索：\" label-for=\"store_name\">\n            <Input\n              placeholder=\"请输入商品名称,关键字,ID\"\n              v-model=\"artFrom.store_name\"\n              class=\"input-add\"\n            />\n            <Button type=\"primary\" @click=\"userSearchs()\">查询</Button>\n          </FormItem>\n        </Form>\n      </div>\n    </Card>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <!-- 相关操作 -->\n      <div class=\"new_tab\">\n        <Tabs v-model=\"artFrom.type\" @on-click=\"onClickTab\">\n          <TabPane\n            :label=\"item.name + ' (' + item.count + ')'\"\n            :name=\"item.type.toString()\"\n            v-for=\"(item, index) in headeNum\"\n            :key=\"index\"\n          />\n        </Tabs>\n      </div>\n      <div class=\"acea-row row-between-wrapper\">\n        <div class=\"Button\">\n          <router-link\n            v-auth=\"['product-product-save']\"\n            :to=\"'/admin/product/add_product'\"\n            ><Button type=\"primary\" class=\"bnt mr15\"\n              >添加商品</Button\n            ></router-link\n          >\n          <Button\n            v-auth=\"['product-crawl-save']\"\n            type=\"success\"\n            class=\"bnt mr15\"\n            @click=\"onCopy\"\n            >商品采集</Button\n          >\n          <Upload\n            ref=\"upload\"\n            v-if=\"openErp\"\n            :show-upload-list=\"false\"\n            :action=\"erpUrl\"\n            :before-upload=\"beforeUpload\"\n            :headers=\"header\"\n            :on-success=\"upFile\"\n            :format=\"['xlsx']\"\n            :on-format-error=\"handleFormatError\"\n          >\n            <Button>导入ERP商品</Button>\n          </Upload>\n          <Tooltip\n            content=\"本页至少选中一项\"\n            :disabled=\"!!formSelection.length\"\n          >\n            <Button\n              v-auth=\"['product-product-set_delivery_type']\"\n              class=\"bnt mr15\"\n              :disabled=\"!formSelection.length\"\n              @click=\"deliveryType\"\n              >配送方式</Button\n            >\n          </Tooltip>\n          <Tooltip\n            content=\"本页至少选中一项\"\n            :disabled=\"!!formSelection.length\"\n          >\n            <Button\n              v-auth=\"['product-product-product_show']\"\n              class=\"bnt mr15\"\n              :disabled=\"!formSelection.length\"\n              @click=\"onDismount\"\n              v-show=\"artFrom.type === '1'\"\n              >批量下架</Button\n            >\n          </Tooltip>\n          <Tooltip\n            content=\"本页至少选中一项\"\n            :disabled=\"!!formSelection.length\"\n          >\n            <Button\n              v-auth=\"['product-product-product_show']\"\n              class=\"bnt mr15\"\n              :disabled=\"!formSelection.length\"\n              @click=\"onShelves\"\n              v-show=\"artFrom.type === '2'\"\n              >批量上架</Button\n            >\n          </Tooltip>\n          <Tooltip\n            content=\"本页至少选中一项\"\n            :disabled=\"!!formSelection.length\"\n          >\n            <Button\n              v-auth=\"['export-storeProduct']\"\n              class=\"export\"\n              :disabled=\"!formSelection.length\"\n              @click=\"exports\"\n              >导出</Button\n            >\n          </Tooltip>\n        </div>\n        <div>\n          <Button v-if=\"openErp\" class=\"bnt mr15\" @click=\"frontDownload\"\n            >下载erp商品模板</Button\n          >\n        </div>\n      </div>\n      <!-- artFrom.type !== '1' && artFrom.type !== '2' ? columns2 : (artFrom.type === '6')?columns3 : columns -->\n      <!-- 商品列表表格 -->\n      <Table\n        ref=\"table\"\n        :columns=\"\n          artFrom.type === '4' || artFrom.type === '5'\n            ? columns2\n            : artFrom.type === '6'\n            ? columns3\n            : columns\n        \"\n        :data=\"tableList\"\n        class=\"ivu-mt\"\n        :loading=\"loading\"\n        highlight-row\n        @on-selection-change=\"onSelectTab\"\n        no-data-text=\"暂无数据\"\n        no-filtered-data-text=\"暂无筛选结果\"\n        @on-select-all=\"selectAll\"\n        @on-select-all-cancel=\"selectAll\"\n      >\n        <template slot-scope=\"{ row }\" slot=\"id\">\n          {{ row.id }}\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"image\">\n          <viewer>\n            <div class=\"tabBox_img\">\n              <img v-lazy=\"row.image\" />\n            </div>\n          </viewer>\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"store_name\">\n          <Tooltip\n            theme=\"dark\"\n            max-width=\"300\"\n            :delay=\"600\"\n            :content=\"row.store_name\"\n          >\n            <div class=\"line2\">{{ row.store_name }}</div>\n          </Tooltip>\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"product_type\">\n          <span v-if=\"row.product_type == 0\">普通商品</span>\n          <span v-if=\"row.product_type == 1\">卡密商品</span>\n          <span v-if=\"row.product_type == 3\">虚拟商品</span>\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"state\">\n          <i-switch\n            v-model=\"row.is_show\"\n            :value=\"row.is_show\"\n            :true-value=\"1\"\n            :false-value=\"0\"\n            :disabled=\"artFrom.type == 6 ? true : false\"\n            @on-change=\"changeSwitch(row)\"\n            size=\"large\"\n          >\n            <span slot=\"open\">上架</span>\n            <span slot=\"close\">下架</span>\n          </i-switch>\n          <div v-if=\"row.auto_off_time\" class=\"style-add\">\n            定时下架：<br />{{ row.auto_off_time | timeFormat }}\n          </div>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"action\">\n          <a @click=\"edit(row)\">编辑</a>\n          <Divider type=\"vertical\" />\n          <a @click=\"lookGoods(row.id)\">预览</a>\n          <Divider type=\"vertical\" />\n          <a v-if=\"artFrom.type === '0'\" @click=\"auditGoods(row)\">审核</a>\n          <Divider v-if=\"artFrom.type === '0'\" type=\"vertical\" />\n          <template>\n            <Dropdown\n              @on-click=\"changeMenu(row, $event, index)\"\n              :transfer=\"true\"\n            >\n              <a href=\"javascript:void(0)\">\n                更多\n                <Icon type=\"ios-arrow-down\"></Icon>\n              </a>\n              <DropdownMenu slot=\"list\">\n                <DropdownItem name=\"1\">查看评论</DropdownItem>\n                <DropdownItem name=\"2\" v-if=\"artFrom.type === '6'\"\n                  >恢复商品</DropdownItem\n                >\n                <DropdownItem name=\"3\"  v-if=\"artFrom.type !== '6' && row.type==0\">移到回收站</DropdownItem>\n                <DropdownItem\n                  name=\"4\"\n                  v-if=\"row.product_type != 1 && openErp == false\"\n                  >库存管理</DropdownItem\n                >\n                <DropdownItem\n                  name=\"5\"\n                  v-if=\"artFrom.type === '1' || artFrom.type === '2'\"\n                  >强制下架</DropdownItem\n                >\n              </DropdownMenu>\n            </Dropdown>\n          </template>\n        </template>\n        <!-- <template slot-scope=\"{ row, index }\" slot=\"action\">\n          <a @click=\"edit(row)\">编辑</a>\n          <Divider type=\"vertical\" />\n          <a @click.stop=\"lookGoods(row.id)\">预览</a>\n          <Divider type=\"vertical\" />\n          <router-link :to=\"{ path: '/admin/product/product_reply/' + row.id }\"\n            ><a>查看评论</a></router-link\n          >\n          <Divider type=\"vertical\" />\n          <a @click=\"del(row, '恢复商品', index)\" v-if=\"artFrom.type === '6'\"\n            >恢复商品</a\n          >\n          <a @click=\"del(row, '移入回收站', index)\" v-else>移到回收站</a>\n\t\t  <Divider type=\"vertical\" v-if=\"row.product_type!=1\" />\n\t\t  <a @click=\"stockControl(row)\" v-if=\"row.product_type!=1\">库存管理</a>\n        </template> -->\n      </Table>\n      <div class=\"acea-row row-right page\">\n        <Page\n          :total=\"total\"\n          :current=\"artFrom.page\"\n          show-elevator\n          show-total\n          @on-change=\"pageChange\"\n          :page-size=\"artFrom.limit\"\n        />\n      </div>\n      <attribute\n        :attrTemplate=\"attrTemplate\"\n        v-on:changeTemplate=\"changeTemplate\"\n      ></attribute>\n    </Card>\n    <!-- 生成淘宝京东表单-->\n    <Modal\n      v-model=\"modals\"\n      :z-index=\"100\"\n      class=\"Box\"\n      scrollable\n      footer-hide\n      closable\n      title=\"复制淘宝、天猫、京东、苏宁、1688\"\n      :mask-closable=\"false\"\n      width=\"1200\"\n      height=\"500\"\n    >\n      <tao-bao ref=\"taobaos\" v-if=\"modals\" @on-close=\"onClose\"></tao-bao>\n    </Modal>\n    <!-- 配送方式 -->\n    <Modal\n      v-model=\"modalsType\"\n      scrollable\n      title=\"配送方式\"\n      :closable=\"false\"\n      class-name=\"vertical-center-modal\"\n    >\n      <Form :label-width=\"90\" @submit.native.prevent>\n        <FormItem label=\"配送方式：\" class=\"deliveryStyle\" required>\n          <CheckboxGroup v-model=\"delivery_type\">\n            <Checkbox label=\"1\">快递</Checkbox>\n            <Checkbox label=\"3\">门店配送</Checkbox>\n            <Checkbox label=\"2\">到店自提</Checkbox>\n          </CheckboxGroup>\n        </FormItem>\n      </Form>\n      <div slot=\"footer\">\n        <Button type=\"primary\" @click=\"putDelivery\">提交</Button>\n        <Button @click=\"cancelDelivery\">取消</Button>\n      </div>\n    </Modal>\n    <!-- 商品弹窗 -->\n    <div v-if=\"isProductBox\">\n      <div class=\"bg\" @click.stop=\"isProductBox = false\"></div>\n      <goodsDetail :goodsId=\"goodsId\" :product=\"1\"></goodsDetail>\n    </div>\n    <stockEdit ref=\"stock\" @stockChange=\"stockChange\"></stockEdit>\n  </div>\n",null]}