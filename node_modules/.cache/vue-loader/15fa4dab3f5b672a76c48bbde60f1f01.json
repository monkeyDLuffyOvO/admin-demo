{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/marketing/addPiecesDiscount/index.vue?vue&type=template&id=21cdf02d&scoped=true&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/marketing/addPiecesDiscount/index.vue","mtime":1652425470000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["\n<div class=\"form-submit\">\n\t<div class=\"i-layout-page-header\">\n\t\t<PageHeader class=\"product_tabs\" hidden-breadcrumb>\n\t\t  <div slot=\"title\">\n\t\t    <router-link :to=\"{ path: '/admin/marketing/discount/pieces_discount' }\"\n\t\t      >\n\t\t\t\t\t<div class=\"font-sm after-line\">\n\t\t\t\t\t\t\t<span class=\"iconfont iconfanhui\"></span>\n\t\t\t\t\t\t\t<span class=\"pl10\">返回</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t</router-link\n\t\t    >\n\t\t    <span\n\t\t      v-text=\"$route.params.id !== '0' ? '编辑第N件N折' : '添加第N件N折'\"\n\t\t      class=\"mr20 ml16\"\n\t\t    ></span>\n\t\t  </div>\n\t\t</PageHeader>\n\t</div>\n\t<Card :bordered=\"false\" dis-hover class=\"ivu-mt\" style=\"margin-bottom: 79px;\">\n\t\t<Tabs v-model=\"currentTab\">\n\t\t\t<TabPane\n\t\t\t   v-for=\"(item, index) in headTab\"\n\t\t\t   :key=\"index\"\n\t\t\t   :label=\"item.name\"\n\t\t\t   :name=\"item.type\"\n\t\t\t ></TabPane>\n\t\t</Tabs>\n\t\t<Form\n\t\t  class=\"formValidate mt20\"\n\t\t  ref=\"formValidate\"\n\t\t  :rules=\"ruleValidate\"\n\t\t  :model=\"formValidate\"\n\t\t  :label-width=\"labelWidth\"\n\t\t  :label-position=\"labelPosition\"\n\t\t  @submit.native.prevent\n\t\t>\n\t\t  <Row :gutter=\"24\" type=\"flex\" v-show=\"currentTab === '1'\">\n\t\t\t\t<FormItem label=\"优惠类型：\" props=\"coupon_type\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"productType\"\n\t\t\t\t\t\t:class=\"formValidate.n_piece_n_discount == item.id ? 'on' : ''\n\t\t\t\t\t\t\"\n\t\t\t\t\t\tv-for=\"(item, index) in discountType\"\n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t@click=\"discountTypeTap(item)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"name\" :class=\"formValidate.n_piece_n_discount == item.id?'on':''\">{{ item.name }}</div>\n\t\t\t\t\t\t<div class=\"title\">({{ item.title }})</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"formValidate.n_piece_n_discount == item.id\"\n\t\t\t\t\t\t\tclass=\"jiao\"\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"formValidate.n_piece_n_discount == item.id\"\n\t\t\t\t\t\t\tclass=\"iconfont iconduihao\"\n\t\t\t\t\t\t></div>\n\t\t\t\t\t</div>\n\t\t\t\t</FormItem>\n\t\t\t\t<Col span=\"24\">\n\t\t\t\t  <FormItem label=\"活动名称：\" prop=\"name\">\n\t\t\t\t    <Input\n\t\t\t\t      v-model=\"formValidate.name\"\n\t\t\t\t      placeholder=\"请输入活动名称\"\n\t\t\t\t      v-width=\"'50%'\"\n\t\t\t\t    />\n\t\t\t\t  </FormItem>\n\t\t\t\t</Col>\n\t\t\t\t<Col span=\"24\">\n\t\t\t\t\t<FormItem label=\"活动时间：\" prop=\"section_time\">\n\t\t\t\t\t\t<div class=\"acea-row row-middle\">\n\t\t\t\t\t\t\t<DatePicker :editable=\"false\" type=\"daterange\" format=\"yyyy-MM-dd\" placeholder=\"请选择活动时间\"\n\t\t\t\t\t\t\t            @on-change=\"onchangeTime\" v-width=\"'50%'\" :value=\"formValidate.section_time\" v-model=\"formValidate.section_time\"></DatePicker>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</FormItem>\n\t\t\t\t</Col>\n\t\t\t\t<Col span=\"24\" v-if=\"formValidate.n_piece_n_discount == 3\">\n\t\t\t\t  <FormItem label=\"优惠设置：\" prop=\"threshold\">\n\t\t\t\t\t\t<InputNumber v-width=\"'150'\" :precision=\"0\" :max=\"99999999\" :min=\"1\" v-model=\"formValidate.threshold\"></InputNumber><span class=\"ml10 mr10\">件</span>\n\t\t\t\t\t\t<InputNumber v-width=\"'150'\" :precision=\"0\" :max=\"100\" :min=\"1\" v-model=\"formValidate.discount\"></InputNumber><span class=\"ml10\">%</span>\n\t\t\t\t  </FormItem>\n\t\t\t\t</Col>\n\t\t\t\t<Col span=\"24\">\n\t\t\t\t  <FormItem label=\"关联标签：\">\n\t\t\t\t    <i-switch v-model=\"formValidate.is_label\" :true-value=\"1\" :false-value=\"0\" size=\"large\">\n\t\t\t\t      <span slot=\"open\">开启</span>\n\t\t\t\t      <span slot=\"close\">关闭</span>\n\t\t\t\t    </i-switch>\n\t\t\t\t\t\t<div class=\"acea-row row-middle mt10\" v-if=\"formValidate.is_label\">\n\t\t\t\t\t\t\t<div class=\"labelInput acea-row row-between-wrapper\" @click=\"openLabel\">\n\t\t\t\t\t\t\t\t<div style=\"width: 90%;\">\n\t\t\t\t\t\t\t\t\t<div v-if=\"dataLabel.length\">\n\t\t\t\t\t\t\t\t\t\t<Tag closable v-for=\"(item,index) in dataLabel\" @on-close=\"closeLabel(item)\">{{item.label_name}}</Tag>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span class=\"span\" v-else>选择用户关联标签</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"iconfont iconxiayi\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span class=\"addClass\" @click=\"addLabel\">新增标签</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t  </FormItem>\n\t\t\t\t</Col>\n\t\t\t\t<Col span=\"24\">\n\t\t\t\t  <FormItem label=\"优惠叠加：\" prop=\"is_overlay\">\n\t\t\t\t\t\t<RadioGroup v-model=\"formValidate.is_overlay\" vertical>\n\t\t\t\t\t\t\t<Radio label=\"0\">\n\t\t\t\t\t\t\t\t\t<Icon type=\"social-apple\"></Icon>\n\t\t\t\t\t\t\t\t\t<span>不叠加其他营销活动</span>\n\t\t\t\t\t\t\t</Radio>\n\t\t\t\t\t\t\t<Radio label=\"1\">\n\t\t\t\t\t\t\t\t\t<Icon type=\"social-android\"></Icon>\n\t\t\t\t\t\t\t\t\t<span>叠加其他营销活动</span>\n\t\t\t\t\t\t\t</Radio>\n\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t\t<CheckboxGroup\n\t\t\t\t\t\t  v-if=\"formValidate.is_overlay == 1\"\n\t\t\t\t\t\t  size=\"small\" \n\t\t\t\t\t\t  v-model=\"formValidate.overlay\"\n\t\t\t\t\t\t  class=\"checkAlls\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t  <Checkbox :label=\"item.type\" v-for=\"(item,index) in activityType\">{{item.name}}</Checkbox>\n\t\t\t\t\t\t</CheckboxGroup>\n\t\t\t\t  </FormItem>\t\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<div v-show=\"currentTab === '2'\">\n\t\t\t\t<Row :gutter=\"24\" type=\"flex\">\n\t\t\t\t\t<Col span=\"24\">\n\t\t\t\t\t  <RadioGroup v-model=\"formValidate.product_partake_type\">\n\t\t\t\t\t    <Radio :label=\"1\">全部商品参与</Radio>\n\t\t\t\t\t    <Radio :label=\"2\">指定商品参与</Radio>\n\t\t\t\t\t    <Radio :label=\"3\">指定商品不参与</Radio>\n\t\t\t\t\t  </RadioGroup>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span=\"24\" class=\"mt20\" v-if=\"formValidate.product_partake_type !=1\">\n\t\t\t\t\t   <Button type=\"primary\" @click=\"addGoods\">添加商品</Button>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<div class=\"vxeTable\" v-if=\"formValidate.product_partake_type !=1\">\n\t\t\t\t\t<vxe-table\n\t\t\t\t\t         border=\"inner\"\n\t\t\t\t\t         ref=\"xTree\"\n\t\t\t\t\t         :column-config=\"{resizable: true}\"\n\t\t\t\t\t         row-id=\"id\"\n\t\t\t\t\t         :tree-config=\"{children: 'attrValue',reserve:true}\"\n\t\t\t\t\t         :data=\"tableData\">\n\t\t\t\t\t         <vxe-column field=\"info\" title=\"商品信息\" tree-node min-width=\"300\">\n\t\t\t\t\t\t\t\t<template v-slot=\"{ row }\">\n\t\t\t\t\t\t\t\t\t<div class=\"imgPic acea-row row-middle\">\n\t\t\t\t\t\t\t\t\t<viewer>\n\t\t\t\t\t\t\t\t\t\t<div class=\"pictrue\"><img v-lazy=\"row.image\" /></div>\n\t\t\t\t\t\t\t\t\t</viewer>\n\t\t\t\t\t\t\t\t\t<div class=\"info\">\n\t\t\t\t\t\t\t\t\t\t<Tooltip max-width=\"200\" placement=\"bottom\" transfer>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"line2\">{{ row.store_name }}{{row.suk}}</span>\n\t\t\t\t\t\t\t\t\t\t\t<p slot=\"content\">{{ row.store_name }}{{row.suk}}</p>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</vxe-column>\n\t\t\t\t\t         <vxe-column field=\"cate_name\" title=\"商品分类\" min-width=\"150\"></vxe-column>\n\t\t\t\t\t         <vxe-column field=\"store_label\" title=\"商品标签\" min-width=\"150\"></vxe-column>\n\t\t\t\t\t         <vxe-column field=\"price\" title=\"售价\" min-width=\"80\"></vxe-column>\n\t\t\t\t\t\t\t\t\t <vxe-column field=\"cost\" title=\"成本价\" min-width=\"80\"></vxe-column>\n\t\t\t\t\t\t\t\t\t <vxe-column field=\"stock\" title=\"库存\" min-width=\"80\"></vxe-column>\n\t\t\t\t\t\t\t\t\t <vxe-column field=\"date\" title=\"操作\" min-width=\"150\" fixed=\"right\" align=\"center\">\n\t\t\t\t\t\t\t\t\t\t <template v-slot=\"{ row }\">\n\t\t\t\t\t\t\t\t\t\t     <a @click=\"del(row)\">删除</a>\n\t\t\t\t\t\t\t\t\t\t </template>\n\t\t\t\t\t\t\t\t\t </vxe-column>\n\t\t\t\t\t       </vxe-table>\t\t\t \n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Form>\n\t</Card>\n\t<Card :bordered=\"false\" dis-hover class=\"fixed-card\">\n\t\t<Form>\n\t\t\t<FormItem>\n\t\t\t\t<Button \n\t\t\t\t\tv-if=\"currentTab !== '1'\" \n\t\t\t\t\t@click=\"upTab\" \n\t\t\t\t\tstyle=\"margin-right:10px\"\n\t\t\t\t\t>上一步</Button>\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\tclass=\"submission\"\n\t\t\t\t\tv-if=\"currentTab !== '2'\"\n\t\t\t\t\t@click=\"downTab('formValidate')\"\n\t\t\t\t\t>下一步</Button\n\t\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t  v-else\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\tclass=\"submission\"\n\t\t\t\t\t@click=\"handleSubmit('formValidate')\"\n\t\t\t\t\t>保存并发布</Button\n\t\t\t\t>\n\t\t\t</FormItem>\n\t\t</Form>\n\t</Card>\t\n\t<!-- 用户标签 -->\n\t<Modal\n\t  v-model=\"labelShow\"\n\t  scrollable\n\t  title=\"请选择用户标签\"\n\t  :closable=\"false\"\n\t  width=\"320\"\n\t  :footer-hide=\"true\"\n\t\t:mask-closable=\"false\"\n\t>\n\t  <userLabel ref=\"userLabel\" @activeData=\"activeData\" @close=\"labelClose\"></userLabel>\n\t</Modal>\n\t<Modal v-model=\"modals\" title=\"商品列表\" footerHide  class=\"paymentFooter\" scrollable width=\"900\" @on-cancel=\"cancel\">\n\t    <goods-list ref=\"goodslist\" :ischeckbox=\"true\" :isdiy=\"true\"  @getProductId=\"getProductId\" v-if=\"modals\"></goods-list>\n\t</Modal>\n</div>\n",null]}