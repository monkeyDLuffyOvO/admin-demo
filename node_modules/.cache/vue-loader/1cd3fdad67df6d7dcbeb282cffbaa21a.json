{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/user/list/index.vue?vue&type=template&id=54fabd91&scoped=true&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/user/list/index.vue","mtime":1662534299000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["\n<!-- 用户-用户列表 -->\n  <div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\" :padding=\"0\">\n      <div class=\"padding-add\">\n        <!-- 筛选条件 -->\n        <Form\n          ref=\"userFrom\"\n          :model=\"userFrom\"\n          :label-width=\"labelWidth\"\n          :label-position=\"labelPosition\"\n          @submit.native.prevent\n        >\n          <Row :gutter=\"24\">\n            <Col span=\"18\">\n              <Row>\n                <Col span=\"24\">\n                  <Row>\n                    <Col v-bind=\"grid\">\n                      <FormItem label=\"用户搜索：\" label-for=\"nickname\">\n                        <Input\n                          v-model=\"userFrom.nickname\"\n                          placeholder=\"请输入\"\n                          element-id=\"nickname\"\n                          clearable\n                          class=\"input-add\"\n                        >\n                          <Select\n                            v-model=\"field_key\"\n                            slot=\"prepend\"\n                            style=\"width: 80px\"\n                          >\n                            <Option value=\"all\">全部</Option>\n                            <Option value=\"uid\">UID</Option>\n                            <Option value=\"phone\">手机号</Option>\n                            <Option value=\"nickname\">用户昵称</Option>\n                          </Select>\n                        </Input>\n                      </FormItem>\n                    </Col>\n                  </Row>\n                </Col>\n              </Row>\n            </Col>\n            <template v-if=\"collapse\">\n              <Col span=\"18\">\n                <Row>\n                  <Col v-bind=\"grid\">\n                    <FormItem label=\"用户分组：\" label-for=\"group_id\">\n                      <Select\n                        v-model=\"userFrom.group_id\"\n                        placeholder=\"请选择\"\n                        element-id=\"group_id\"\n                        clearable\n                         class=\"input-add\"\n                      >\n                        <Option value=\"\">全部</Option>\n                        <Option\n                          :value=\"item.id\"\n                          v-for=\"(item, index) in groupList\"\n                          :key=\"index\"\n                          >{{ item.group_name }}</Option\n                        >\n                      </Select>\n                    </FormItem>\n                  </Col>\n                  <Col v-bind=\"grid\">\n                    <FormItem label=\"用户标签：\" label-for=\"label_id\">\n                      <div\n                        class=\"labelInput acea-row row-between-wrapper\"\n                        @click=\"openLabelList\"\n                      >\n                        <div style=\"width:85%;\">\n                          <div v-if=\"dataLabel.length\">\n                            <Tag\n                              closable\n                              v-for=\"(item, index) in dataLabel\"\n                              :key=\"index\"\n                              @on-close=\"closeLabel(item)\"\n                              >{{ item.label_name }}</Tag\n                            >\n                          </div>\n                          <span class=\"span\" v-else>请选择</span>\n                        </div>\n                        <div class=\"iconfont iconxiayi\"></div>\n                      </div>\n                    </FormItem>\n                  </Col>\n                  <Col v-bind=\"grid\">\n                    <FormItem label=\"性别：\" label-for=\"sex\">\n                      <Select\n                        v-model=\"userFrom.sex\"\n                        placeholder=\"请选择\"\n                        clearable\n                         class=\"input-add\"\n                      >\n                        <Option value=\"\">全部</Option>\n                        <Option value=\"1\">男</Option>\n                        <Option value=\"2\">女</Option>\n                        <Option value=\"0\">未知</Option>\n                      </Select>\n                    </FormItem>\n                  </Col>\n                </Row>\n              </Col>\n              <Col span=\"18\">\n                <Row>\n                  <Col v-bind=\"grid\">\n                    <FormItem label=\"会员等级：\" label-for=\"level\">\n                      <Select\n                        v-model=\"userFrom.level\"\n                        placeholder=\"请选择\"\n                        element-id=\"level\"\n                        clearable\n                        class=\"input-add\"\n                      >\n                        <Option value=\"\">全部</Option>\n                        <Option\n                          :value=\"item.id\"\n                          v-for=\"(item, index) in levelList\"\n                          :key=\"index\"\n                          >{{ item.name }}</Option\n                        >\n                      </Select>\n                    </FormItem>\n                  </Col>\n                  <Col v-bind=\"grid\">\n                    <FormItem label=\"付费会员：\" label-for=\"isMember\">\n                      <Select\n                        v-model=\"userFrom.isMember\"\n                        placeholder=\"请选择\"\n                        clearable\n                         class=\"input-add\"\n                      >\n                        <Option value=\"\">全部</Option>\n                        <Option value=\"1\">是</Option>\n                        <Option value=\"0\">否</Option>\n                      </Select>\n                    </FormItem>\n                  </Col>\n                  <Col v-bind=\"grid\">\n                    <FormItem label=\"身份：\">\n                      <Select\n                        v-model=\"userFrom.is_promoter\"\n                        placeholder=\"请选择\"\n                        clearable\n                        class=\"input-add\"\n                      >\n                        <Option value=\"\">全部</Option>\n                        <Option value=\"1\">推广员</Option>\n                        <Option value=\"0\">普通用户</Option>\n                      </Select>\n                    </FormItem>\n                  </Col>\n                </Row>\n              </Col>\n\n              <Col span=\"18\">\n                <Row>\n                  <Col v-bind=\"grid\" class=\"dateMedia\">\n                    <FormItem label=\"访问时间：\" label-for=\"user_time\">\n                      <DatePicker\n                        :editable=\"false\"\n                        @on-change=\"onchangeTime\"\n                        :value=\"timeVal\"\n                        format=\"yyyy/MM/dd\"\n                        type=\"daterange\"\n                        placement=\"bottom-start\"\n                        placeholder=\"自定义时间\"\n                        :options=\"options\"\n                         class=\"input-add\"\n                      ></DatePicker>\n                    </FormItem>\n                  </Col>\n                  <Col v-bind=\"grid\">\n                    <FormItem label=\"访问情况：\" label-for=\"user_time_type\">\n                      <Select\n                        v-model=\"userFrom.user_time_type\"\n                        placeholder=\"请选择\"\n                        element-id=\"user_time_type\"\n                        clearable\n                         class=\"input-add\"\n                      >\n                        <Option value=\"all\">全部</Option>\n                        <Option value=\"visitno\">时间段未访问</Option>\n                        <Option value=\"visit\">时间段访问过</Option>\n                        <Option value=\"add_time\">首次访问</Option>\n                      </Select>\n                    </FormItem>\n                  </Col>\n                   <Col v-bind=\"grid\">\n                    <FormItem label=\"下单次数：\" label-for=\"pay_count\">\n                      <Select\n                        v-model=\"userFrom.pay_count\"\n                        placeholder=\"请选择\"\n                        element-id=\"pay_count\"\n                        clearable\n                         class=\"input-add\"\n                      >\n                        <Option value=\"\">全部</Option>\n                        <Option value=\"-1\">0次</Option>\n                        <Option value=\"0\">1次以上</Option>\n                        <Option value=\"1\">2次以上</Option>\n                        <Option value=\"2\">3次以上</Option>\n                        <Option value=\"3\">4次以上</Option>\n                        <Option value=\"4\">5次以上</Option>\n                      </Select>\n                    </FormItem>\n                  </Col>\n                </Row>\n              </Col>\n              <Col span=\"18\">\n                <Row>\n                  <Col v-bind=\"grid\">\n                    <FormItem label=\"国家：\" label-for=\"country\">\n                      <Select\n                        v-model=\"userFrom.country\"\n                        placeholder=\"请选择\"\n                        element-id=\"country\"\n                        clearable\n                        @on-change=\"changeCountry\"\n                         class=\"input-add\"\n                      >\n                        <Option value=\"\">全部</Option>\n                        <Option value=\"domestic\">中国</Option>\n                        <Option value=\"abroad\">其他</Option>\n                      </Select>\n                    </FormItem>\n                  </Col>\n                  <Col v-bind=\"grid\" v-if=\"userFrom.country === 'domestic'\">\n                    <FormItem label=\"省份：\">\n                      <Cascader\n                        :data=\"addresData\"\n                        :value=\"address\"\n                        v-model=\"address\"\n                        @on-change=\"handleChange\"\n                        class=\"input-add\"\n                      ></Cascader>\n                    </FormItem>\n                  </Col>\n                </Row>\n              </Col>\n\n            </template>\n            <Col span=\"6\" class=\"ivu-text-right userFrom\">\n              <FormItem>\n                <Button\n                  type=\"primary\"\n                  label=\"default\"\n                  class=\"mr15\"\n                  @click=\"userSearchs\"\n                  >搜索</Button\n                >\n                <Button class=\"ResetSearch\" @click=\"reset('userFrom')\"\n                  >重置</Button\n                >\n                <a v-font=\"14\" class=\"ivu-ml-8\" @click=\"collapse = !collapse\">\n                  <template v-if=\"!collapse\">\n                    展开 <Icon type=\"ios-arrow-down\" />\n                  </template>\n                  <template v-else>\n                    收起 <Icon type=\"ios-arrow-up\" />\n                  </template>\n                </a>\n              </FormItem>\n            </Col>\n          </Row>\n        </Form>\n      </div>\n    </Card>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt listbox\">\n      <div class=\"new_tab\">\n        <!-- Tab栏切换 -->\n        <Tabs @on-click=\"onClickTab\">\n          <TabPane\n            :label=\"item.name\"\n            :name=\"item.type\"\n            v-for=\"(item, index) in headeNum\"\n            :key=\"index\"\n          />\n        </Tabs>\n      </div>\n      <Row type=\"flex\" justify=\"space-between\">\n        <!-- 相关操作 -->\n        <Col span=\"24\">\n          <Button\n            v-auth=\"['admin-user-save']\"\n            type=\"primary\"\n            class=\"mr20\"\n            @click=\"save\"\n            >添加用户</Button\n          >\n          <Tooltip\n            content=\"本页至少选中一项\"\n            :disabled=\"!!selectionList.length\"\n          >\n            <Button\n              v-auth=\"['admin-user-coupon']\"\n              type=\"primary\"\n              class=\"mr20\"\n              :disabled=\"!selectionList.length\"\n              @click=\"onSend\"\n              >发送优惠券</Button\n            >\n          </Tooltip>\n          <Button\n            v-auth=\"['admin-wechat-news']\"\n            class=\"greens mr20\"\n            size=\"default\"\n            @click=\"onSendPic\"\n            v-if=\"userFrom.user_type === 'wechat'\"\n          >\n            <Icon type=\"md-list\"></Icon>\n            发送图文消息\n          </Button>\n          <Tooltip\n            content=\"本页至少选中一项\"\n            :disabled=\"!!selectionList.length\"\n          >\n            <Button\n              v-auth=\"['admin-user-group_set']\"\n              class=\"mr20\"\n              :disabled=\"!selectionList.length\"\n              @click=\"setGroup\"\n              >批量设置分组</Button\n            >\n          </Tooltip>\n          <Tooltip\n            content=\"本页至少选中一项\"\n            :disabled=\"!!selectionList.length\"\n          >\n            <Button\n              v-auth=\"['admin-user-set_label']\"\n              class=\"mr20\"\n              :disabled=\"!selectionList.length\"\n              @click=\"setLabel\"\n              >批量设置标签</Button\n            >\n          </Tooltip>\n          <!--<Button v-auth=\"['admin-user-synchro']\" class=\"mr20\" @click=\"synchro\"-->\n          <!--&gt;同步公众号用户</Button-->\n          <!--&gt;-->\n        </Col>\n        <!-- <Col span=\"24\" class=\"userAlert\" v-if=\"selectionList.length\">\n                    <Alert show-icon> 已选择<i class=\"userI\"> {{selectionList.length}} </i>项</Alert>\n                </Col> -->\n      </Row>\n      <!-- 用户列表表格 -->\n      <Table\n        :columns=\"columns\"\n        :data=\"userLists\"\n        class=\"mt25\"\n        ref=\"table\"\n        highlight-row\n        :loading=\"loading\"\n        no-userFrom-text=\"暂无数据\"\n        no-filtered-userFrom-text=\"暂无筛选结果\"\n        @on-selection-change=\"onSelectTab\"\n        @on-sort-change=\"sortChanged\"\n        @on-select-all=\"selectAll\"\n        @on-select-all-cancel=\"selectAll\"\n        @on-select-cancel=\"onSelectCancel\"\n      >\n        <template slot-scope=\"{ row, index }\" slot=\"avatars\">\n          <viewer>\n            <div class=\"tabBox_img\">\n              <img v-lazy=\"row.avatar\" />\n            </div>\n          </viewer>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"nickname\">\n          <div class=\"acea-row\">\n            <Icon\n              type=\"md-male\"\n              v-show=\"row.sex === '男'\"\n              color=\"#2db7f5\"\n              size=\"15\"\n              class=\"mr5\"\n            />\n            <Icon\n              type=\"md-female\"\n              v-show=\"row.sex === '女'\"\n              color=\"#ed4014\"\n              size=\"15\"\n              class=\"mr5\"\n            />\n            <div v-if=\"row.delete_time != null\" style=\"color:#ed4014;\">\n\t\t\t\t\t\t\t{{row.nickname}} (已注销)\n\t\t\t\t\t\t</div>\n\t\t\t<div v-else v-text=\"row.nickname\"></div>\n          </div>\n          <!-- <div v-show=\"row.vip_name\" class=\"vipName\">{{row.vip_name}}</div> -->\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"isMember\">\n          <div>{{ row.isMember ? \"是\" : \"否\" }}</div>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"follow_list\">\n          <div v-if=\"row.follow_list\">\n            <span v-for=\"(item, index1) in row.follow_list\" :key=\"index1\">{{\n              item.member.name\n            }}</span>\n          </div>\n\n          <!-- <div>{{ row.isMember ? \"是\" : \"否\" }}</div> -->\n        </template>\n        <!--                <template slot-scope=\"{ row, index }\" slot=\"status\">-->\n        <!--                    <i-switch v-model=\"row.status\" :value=\"row.status\" :true-value=\"1\" :false-value=\"0\" @on-change=\"onchangeIsShow(row)\" size=\"large\">-->\n        <!--                        <span slot=\"open\">显示</span>-->\n        <!--                        <span slot=\"close\">隐藏</span>-->\n        <!--                    </i-switch>-->\n        <!--                </template>-->\n        <template slot-scope=\"{ row, index }\" slot=\"action\">\n\t\t  <span v-if=\"row.delete_time != null\" style=\"color: #c5c8ce;\">编辑</span>\n          <a v-else @click=\"edit(row)\">编辑</a>\n          <Divider type=\"vertical\" v-if=\"row.is_extend_info\"/>\n          <a @click=\"extendInfo(row)\" v-if=\"row.is_extend_info\">信息补充</a>\n          <Divider type=\"vertical\" />\n          <a @click=\"changeMenu(row, '1')\">详情</a>\n          <!-- <template>\n\t\t\t\t    本身就没有等级\n            <Dropdown @on-click=\"changeMenu(row, $event, index)\">\n              <a href=\"javascript:void(0)\">\n                更多\n                <Icon type=\"ios-arrow-down\"></Icon>\n              </a>\n              <DropdownMenu slot=\"list\">\n              <DropdownItem name=\"1\">用户详情</DropdownItem>\n                <DropdownItem name=\"2\">积分余额</DropdownItem>\n                <DropdownItem name=\"3\">赠送会员</DropdownItem>\n                <DropdownItem name=\"4\" v-if=\"row.vip_name\">清除等级</DropdownItem>\n                <DropdownItem name=\"5\">设置分组</DropdownItem>\n                <DropdownItem name=\"6\">设置标签</DropdownItem>\n                <DropdownItem name=\"7\">修改上级推广人</DropdownItem>\n                <DropdownItem name=\"8\" v-if=\"row.spread_uid\"\n                  >清除上级推广人</DropdownItem\n                >\n              </DropdownMenu>\n            </Dropdown>\n          </template> -->\n        </template>\n      </Table>\n      <div class=\"acea-row row-right page\">\n        <Page\n          :total=\"total\"\n          :current=\"userFrom.page\"\n          show-elevator\n          show-total\n          @on-change=\"pageChange\"\n          :page-size=\"userFrom.limit\"\n        />\n      </div>\n    </Card>\n    <!-- 用户标签 -->\n    <Modal\n      v-model=\"labelListShow\"\n      scrollable\n      title=\"请选择用户标签\"\n      :closable=\"false\"\n      width=\"320\"\n      :footer-hide=\"true\"\n      :mask-closable=\"false\"\n    >\n      <labelList\n        ref=\"labelList\"\n        @activeData=\"activeData\"\n        @close=\"labelListClose\"\n      ></labelList>\n    </Modal>\n    <!-- 编辑表单 积分余额-->\n    <edit-from\n      ref=\"edits\"\n      :FromData=\"FromData\"\n\t  :userEdit=\"1\"\n      @submitFail=\"submitFail\"\n    ></edit-from>\n    <!-- 发送优惠券-->\n    <send-from\n      ref=\"sends\"\n      :is-all=\"isAll\"\n      :where=\"userFrom\"\n      :userIds=\"user_ids\"\n    ></send-from>\n    <!-- 会员详情-->\n    <user-details ref=\"userDetails\" :group-list=\"groupList\"></user-details>\n    <!--发送图文消息 -->\n    <Modal\n      v-model=\"modal13\"\n      scrollable\n      title=\"发送消息\"\n      width=\"1200\"\n      height=\"800\"\n      footer-hide\n      class=\"modelBox\"\n    >\n      <news-category\n        v-if=\"modal13\"\n        :isShowSend=\"isShowSend\"\n        :userIds=\"user_ids\"\n        :scrollerHeight=\"scrollerHeight\"\n        :contentTop=\"contentTop\"\n        :contentWidth=\"contentWidth\"\n        :maxCols=\"maxCols\"\n      ></news-category>\n    </Modal>\n    <!--修改推广人-->\n    <Modal\n      v-model=\"promoterShow\"\n      scrollable\n      title=\"修改推广人\"\n      class=\"order_box\"\n      :closable=\"false\"\n    >\n      <Form\n        ref=\"formInline\"\n        :model=\"formInline\"\n        :label-width=\"100\"\n        @submit.native.prevent\n      >\n        <FormItem label=\"用户头像：\" prop=\"image\">\n          <div class=\"picBox\" @click=\"customer\">\n            <div class=\"pictrue\" v-if=\"formInline.image\">\n              <img v-lazy=\"formInline.image\" />\n            </div>\n            <div class=\"upLoad acea-row row-center-wrapper\" v-else>\n              <Icon type=\"ios-camera-outline\" size=\"26\" />\n            </div>\n          </div>\n        </FormItem>\n      </Form>\n      <div slot=\"footer\">\n        <Button type=\"primary\" @click=\"putSend('formInline')\">提交</Button>\n        <Button @click=\"cancel('formInline')\">取消</Button>\n      </div>\n    </Modal>\n    <Modal\n      v-model=\"customerShow\"\n      scrollable\n      title=\"请选择商城用户\"\n      :closable=\"false\"\n      width=\"50%\"\n    >\n      <customerInfo\n        v-if=\"customerShow\"\n        @imageObject=\"imageObject\"\n      ></customerInfo>\n    </Modal>\n    <Modal\n      v-model=\"labelShow\"\n      scrollable\n      title=\"请选择用户标签\"\n      :closable=\"false\"\n      width=\"320\"\n      :footer-hide=\"true\"\n    >\n      <userLabel :uid=\"labelActive.uid\" @close=\"labelClose\"></userLabel>\n    </Modal>\n  </div>\n",null]}