{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/index/components/userChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/index/components/userChart.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { userApi, rankApi } from '@/api/index';\nimport echartsFrom from '@/components/echarts/index';\nexport default {\n    name: 'user-chart',\n    components: { echartsFrom },\n    data () {\n        return {\n            line: 'line',\n            circle: 'circle',\n            infoList: {},\n            series: [],\n            xData: [],\n            y1Data: [],\n            y2Data: [],\n            lists: [],\n            bing_data: [],\n            bing_xdata: []\n        }\n    },\n    methods: {\n        // 统计\n        getStatistics () {\n            userApi().then(async res => {\n                this.infoList = res.data;\n                this.series = [\n                    {\n                        data: res.data.series,\n                        name: '人数（人）',\n                        type: 'line',\n                        tooltip: true,\n                        smooth: true,\n                        symbol: 'none',\n                        areaStyle: {\n                            normal: {\n                                opacity: 0.2\n                            }\n                        }\n                    }\n                ];\n                this.bing_data = res.bing_data;\n                this.bing_xdata = res.bing_xdata;\n            }).catch(res => {\n                this.$Message.error(res.msg);\n            })\n        },\n        getRank () {\n            rankApi().then(async res => {\n                let data = res.data;\n                this.lists = data.list;\n            }).catch(res => {\n                this.$Message.error(res.msg);\n            })\n        },\n        // 监听页面宽度变化，刷新表格\n        handleResize () {\n            if (this.infoList && this.series.length !== 0) this.$refs.userChart.handleResize();\n            if (this.infoList) this.$refs.visitChart.handleResize();\n        }\n    },\n    mounted () {\n        this.getStatistics();\n        this.getRank();\n    },\n    beforeDestroy () {\n        if (this.visitChart) {\n            this.visitChart.dispose();\n            this.visitChart = null;\n        }\n    }\n}\n",null]}