{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/store/order/index.vue?vue&type=template&id=19e46162&scoped=true&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/store/order/index.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["\n<!-- 门店-门店订单 -->\n  <div>\n    <Card :bordered=\"false\" dis-hover class=\"mt15 ivu-mt\" :padding=\"0\">\n      <div class=\"new_card_pd\">\n        <!-- 查询条件 -->\n        <Form\n          ref=\"orderData\"\n          :model=\"orderData\"\n          :label-width=\"labelWidth\"\n          :label-position=\"labelPosition\"\n          class=\"tabform\"\n          inline\n          @submit.native.prevent\n        >\n         <FormItem label=\"选择门店：\">\n            <Select\n              v-model=\"orderData.store_id\"\n              clearable\n              filterable\n              @on-change=\"userSearchs\"\n             class=\"input-add\"\n            >\n              <Option v-for=\"item in staffData\" :value=\"item.id\" :key=\"item.id\"\n                >{{ item.name }}\n              </Option>\n            </Select>\n          </FormItem>\n          <FormItem label=\"创建时间：\">\n            <DatePicker\n              :editable=\"false\"\n              @on-change=\"onchangeTime\"\n              :value=\"timeVal\"\n              format=\"yyyy/MM/dd\"\n              type=\"datetimerange\"\n              placement=\"bottom-start\"\n              placeholder=\"自定义时间\"\n              class=\"input-add\"\n              :options=\"options\"\n            ></DatePicker>\n          </FormItem>\n          <FormItem label=\"会员类型：\">\n            <Select\n              v-model=\"vipData.member_type\"\n              clearable\n              @on-change=\"userSearchs\"\n             class=\"input-add\"\n            >\n              <Option\n                v-for=\"item in treeSelect\"\n                :value=\"item.id\"\n                :key=\"item.id\"\n                >{{ item.label }}</Option\n              >\n            </Select>\n          </FormItem>\n          \n           <FormItem label=\"订单状态：\">\n            <Select v-model=\"orderData.status\"  class=\"input-add\">\n              <Option value=\"\">全部</Option>\n              <Option value=\"0\">未支付</Option>\n              <Option value=\"1\">待配送</Option>\n              <Option value=\"2\">配送中</Option>\n              <Option value=\"3\">待评价</Option>\n              <Option value=\"5\">待核销</Option>\n              <Option value=\"6\">已核销</Option>\n              <Option value=\"4\">已完成</Option>\n              <Option value=\"-4\">已删除</Option>\n            </Select>\n          </FormItem>\n          <FormItem\n            label=\"订单号：\"\n            label-for=\"real_name\"\n            v-if=\"currentTab == 6 || currentTab == 7 || currentTab == 5\"\n          >\n            <Input\n              placeholder=\"订单号/商品名称\"\n              v-model=\"orderData.real_name\"\n               class=\"input-add\"\n            />\n          </FormItem>\n          <FormItem\n            label=\"用户搜索：\"\n            label-for=\"nickname\"\n            v-if=\"currentTab == 3 || currentTab == 4\"\n          >\n            <Input\n              placeholder=\"请输入用户名\"\n              v-model=\"rechargeData.nickname\"\n               class=\"input-add\"\n            />\n          </FormItem>\n          <FormItem>\n            <Button type=\"primary\" @click=\"orderSearch()\" class=\"ml75\">查询</Button>\n          </FormItem>\n        </Form>\n      </div>\n    </Card>\n    <Card :bordered=\"false\" dis-hover class=\"mt15 ivu-mt\">\n      <!-- Tab栏切换 -->\n      <div class=\"new_tab\">\n         <Tabs v-model=\"currentTab\" @on-click=\"onClickTab\">\n          <TabPane label=\"收银台订单\" name=\"6\" />\n          <TabPane label=\"配送订单\" name=\"7\" />\n          <TabPane label=\"核销订单\" name=\"5\" />\n          <TabPane label=\"充值订单\" name=\"3\" />\n          <TabPane label=\"付费会员订单\" name=\"4\" />\n        </Tabs>\n      </div>\n      <!-- 表格 -->\n      <Table\n        :columns=\"\n          currentTab == 6 || currentTab == 7 || currentTab == 5\n            ? columns\n            : currentTab == 3\n            ? rechargeColumns\n            : vipColumns\n        \"\n        :data=\"tableList\"\n        ref=\"table\"\n        :loading=\"loading\"\n        highlight-row\n        no-userFrom-text=\"暂无数据\"\n        no-filtered-userFrom-text=\"暂无筛选结果\"\n      >\n        <template slot-scope=\"{ row }\" slot=\"order_id\">\n          <span v-text=\"row.order_id\" style=\"display: block\"></span>\n          <span v-show=\"row.is_del === 1\" class=\"span-del\"\n            >用户已删除</span\n          >\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"userInfo\">\n          <div v-if=\"currentTab == 6 || currentTab == 7 || currentTab == 5\">\n            <a @click=\"showUserInfo(row)\" v-if=\"row.uid\">\n              {{ row.nickname }}\n              <span class=\"ml5\">/{{ row.uid }}</span>\n            </a>\n            <span v-else\n              >游客<span class=\"ml5\">/{{ row.uid }}</span></span\n            >\n          </div>\n          <div class=\"tabBox\" v-if=\"currentTab == 3\">\n            <div class=\"tabBox_img\" v-viewer>\n              <img v-lazy=\"row.avatar\" />\n            </div>\n            <span class=\"tabBox_tit\">{{ row.nickname }}</span>\n          </div>\n          <div class=\"tabBox\" v-if=\"currentTab == 4 && row.user\">\n            <div class=\"tabBox_img\" v-viewer>\n              <img v-lazy=\"row.user.avatar\" />\n            </div>\n            <span class=\"tabBox_tit\">{{ row.user.nickname }}</span>\n          </div>\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"info\">\n          <Tooltip theme=\"dark\" max-width=\"300\" :delay=\"600\">\n            <div class=\"tabBox\" v-for=\"(val, i) in row._info\" :key=\"i\">\n              <div class=\"tabBox_img\" v-viewer>\n                <img\n                  v-lazy=\"\n                    val.cart_info.productInfo.attrInfo\n                      ? val.cart_info.productInfo.attrInfo.image\n                      : val.cart_info.productInfo.image\n                  \"\n                />\n              </div>\n              <span class=\"info_title line1\">\n                <span class=\"font-color-red\" v-if=\"val.cart_info.is_gift\" >赠品</span>\n                {{ val.cart_info.productInfo.store_name + \" | \" }}\n                {{val.cart_info.productInfo.attrInfo ? val.cart_info.productInfo.attrInfo.suk : \"\"}}\n              </span>\n              <!-- <span class=\"tabBox_pice\"> {{ \"￥\" + val.cart_info.truePrice + \" x \" + val.cart_info.cart_num}}</span> -->\n            </div>\n            <div slot=\"content\">\n              <div v-for=\"(val, i) in row._info\" :key=\"i\">\n                <p class=\"font-color-red\" v-if=\"val.cart_info.is_gift\">赠品</p>\n                <p>{{ val.cart_info.productInfo.store_name }}</p>\n                <p> {{val.cart_info.productInfo.attrInfo ? val.cart_info.productInfo.attrInfo.suk: \"\"}}</p>\n                <p class=\"tabBox_pice\">{{ \"￥\" + val.cart_info.truePrice + \" x \" + val.cart_info.cart_num }}</p>\n              </div>\n            </div>\n          </Tooltip>\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"statusName\">\n          <Tag color=\"red\" size=\"medium\" v-if=\"row.status_name && row.status == 0\">{{row.status_name.status_name}}</Tag>\n          <Tag color=\"green\" size=\"medium\" v-if=\"row.status_name && row.status !== 0\">{{row.status_name.status_name}}</Tag><br/>\n          <Tag color=\"orange\" size=\"medium\" v-if=\"!row.is_all_refund && row.refund.length\">部分退款中</Tag>\n          <Tag color=\"orange\" size=\"medium\" v-if=\"row.is_all_refund && row.refund.length && row.refund_type != 6\">退款中</Tag>\n          <!-- <div class=\"pictrue-box\" v-if=\"row.status_name\">\n            <div\n              v-viewer\n              v-for=\"(item, index) in row.status_name.pics || []\"\n              :key=\"index\"\n            >\n              <img class=\"pictrue mr10\" v-lazy=\"item\" :src=\"item\" />\n            </div>\n          </div> -->\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"pay_price\">\n          {{ row.paid > 0 ? row.pay_price : 0 }}\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"action\">\n          <span v-if=\"currentTab == 6\">\n            <a @click=\"detail(row)\">订单详情</a>\n          </span>\n          <span v-if=\"currentTab == 7\">\n            <a :disabled=\"openErp\" v-if=\"row._status == 2\" @click=\"distribution(row)\">分配</a>\n            <Divider v-if=\"row._status == 2\" type=\"vertical\" />\n            <a @click=\"detail(row)\">详情</a>\n            <!-- <Divider type=\"vertical\" /> -->\n          </span>\n          <span v-if=\"currentTab == 5\">\n            <a :disabled=\"openErp\" v-if=\"row._status == 11\" @click=\"distribution(row)\">分配</a>\n            <Divider v-if=\"row._status == 11\" type=\"vertical\" />\n            <a @click=\"detail(row)\">详情</a>\n          </span>\n          <a @click=\"remark(row)\" v-if=\"currentTab == 3 || currentTab == 4\"\n            >备注</a\n          >\n        </template>\n      </Table>\n      <div class=\"acea-row row-right page\">\n        <Page\n          :total=\"total\"\n          :current=\"orderData.page\"\n          show-elevator\n          show-total\n          @on-change=\"pageChange\"\n          :page-size=\"orderData.limit\"\n        />\n      </div>\n    </Card>\n    <Distribution ref=\"distshow\"></Distribution>\n    <!-- 用户详情-->\n    <user-details ref=\"userDetails\" fromType=\"order\"></user-details>\n    <!-- 编辑 配送信息表单数据 退款 退积分 不退款-->\n    <edit-from\n      ref=\"edits\"\n      :FromData=\"FromData\"\n      @submitFail=\"submitFail\"\n    ></edit-from>\n    <!-- 详情 -->\n    <details-from\n      ref=\"detailss\"\n      :orderDatalist=\"orderDatalist\"\n      :orderId=\"orderId\"\n      :row-active=\"rowActive\"\n      :currentTab=\"currentTab\"\n\t  :openErp=\"openErp\"\n    ></details-from>\n    <!-- 备注 -->\n    <order-remark\n      ref=\"remarks\"\n      :orderId=\"orderId\"\n      @submitFail=\"submitFail\"\n    ></order-remark>\n    <!-- 记录 -->\n    <order-record ref=\"record\"></order-record>\n    <!-- 发送货 -->\n    <order-send\n      ref=\"send\"\n      :orderId=\"orderId\"\n      :status=\"status\"\n      :pay_type=\"pay_type\"\n      @submitFail=\"submitFail\"\n    >\n    </order-send>\n  </div>\n",null]}