{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/notify/smsConfig/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/notify/smsConfig/index.vue","mtime":1643092836000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport loginFrom from './components/loginFrom';\nimport forgetPassword from './components/forgetPassword';\nimport registerFrom from './components/register';\nimport tableList from './tableList';\nimport forgetPhone from './components/forgetPhone';\nimport { isLoginApi, logoutApi, smsNumberApi, serveInfoApi } from '@/api/setting';\nexport default {\n    name: 'smsConfig',\n    components: { loginFrom, forgetPassword, registerFrom, tableList, forgetPhone },\n    data () {\n        return {\n            imgUrl: require('@/assets/images/ren.png'),\n            spinShow: false,\n            isShowLogn: false, // 登录\n            isShow: false, // 修改密码\n            isShowReg: false, // 注册\n            isShowList: false, // 登录之后列表\n            smsAccount: '',\n            accountInfo:{},\n            isForgetPhone: false, // 修改手机号\n            isIndex: false, // 判断忘记密码返回的路径\n            sms: { open: 0 }, // 短信信息\n            query: { open: 0 }, // 物流查询\n            dump: { open: 0 }, // 电子面单打印\n            copy: { open: 0 }, // 商品采集\n            psd: false, //1修改密码，0忘记密码\n        }\n    },\n    created () {\n        this.onIsLogin();\n    },\n    methods: {\n        onChangePhone () {\n            this.isForgetPhone = true\n            this.isShowLogn = false;\n            this.isShowList = false;\n        },\n        onOpen (val) {\n            this.$refs.tableLists.onOpenIndex(val)\n        },\n        mealPay (val) {\n            this.$router.push({ path:'/admin/setting/sms/sms_pay/index',query:{type:val}});\n        },\n        // 开通服务\n        openService (val) {\n            switch (val) {\n            case 'sms':\n                this.sms.open = 1\n                break;\n            case 'copy':\n                this.copy.open = 1\n                break;\n            default:\n                this.dump.open = 1\n                this.query.open = 1\n                break;\n            }\n        },\n        // 平台用户信息\n        getServeInfo () {\n            this.spinShow = true;\n            serveInfoApi().then(async res => {\n                let data = res.data;\n                this.sms = {\n                    num: data.sms.num,\n                    open: data.sms.open,\n                    surp: data.sms.open\n                };\n                this.query = {\n                    num: data.query.num,\n                    open: data.query.open,\n                    surp: data.query.open\n                };\n                this.dump = {\n                    num: data.dump.num,\n                    open: data.dump.open,\n                    surp: data.dump.open\n                };\n                this.copy = {\n                    num: data.copy.num,\n                    open: data.copy.open,\n                    surp: data.copy.open\n                };\n                this.spinShow = false;\n                this.smsAccount = data.account;\n                this.accountInfo = data;\n            }).catch(res => {\n                this.$Message.error(res.msg);\n                this.isShowLogn = true;\n                this.isShowList = false;\n                this.spinShow = false;\n            })\n        },\n        // 查看是否登录\n        onIsLogin () {\n            this.spinShow = true;\n            isLoginApi().then(async res => {\n                let data = res.data;\n                this.isShowLogn = !data.status;\n                this.isShowList = data.status;\n                this.spinShow = false;\n                if (data.status) {\n                    this.getServeInfo();\n                }\n            }).catch(res => {\n                this.spinShow = false;\n                this.$Message.error(res.msg);\n            })\n        },\n        // 退出登录\n        signOut () {\n            logoutApi().then(async res => {\n                this.isShowLogn = true;\n                this.isShowList = false;\n            }).catch(res => {\n                this.$Message.error(res.msg);\n            })\n        },\n        // 修改密码\n        onChangePassswordIndex () {\n            this.isIndex = true;\n            this.psd = true;\n            this.passsword();\n        },\n        // 忘记密码\n        onChangePasssword () {\n            this.isIndex = false;\n            this.psd = false;\n            this.passsword();\n            // this.isShowLogn = false;\n            // this.isShow = true;\n            // this.isShowList = false;\n        },\n        passsword () {\n            this.isShowLogn = false;\n            this.isShow = true;\n            this.isShowList = false;\n        },\n\n        // 立即注册\n        onChangeReg () {\n            this.isShowLogn = false;\n            this.isShow = false;\n            this.isShowReg = true;\n        },\n        // 立即登录\n        logoup () {\n            this.isShowLogn = true;\n            this.isShow = false;\n            this.isShowReg = false;\n        },\n        // 登录跳转\n        onLogin () {\n            let url = this.$route.query.url;\n            if (url) {\n                this.$router.replace(url);\n            } else {\n                this.isShowLogn = false;\n                this.isShow = false;\n                this.isShowReg = false;\n                this.isForgetPhone = false;\n                this.isShowList = true;\n                this.getServeInfo();\n            }\n        },\n        // 密码返回\n        goback () {\n            if (this.isIndex) {\n                this.isShowList = true;\n                this.isShow = false;\n            } else {\n                this.isShowLogn = true;\n                this.isShow = false;\n            }\n        },\n        // 手机号返回\n        gobackPhone () {\n            this.isShowList = true;\n            this.isForgetPhone = false;\n        }\n    }\n}\n",null]}