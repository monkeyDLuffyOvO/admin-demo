{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/components/diyComponents/c_goods.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/components/diyComponents/c_goods.vue","mtime":1640264908000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport vuedraggable from 'vuedraggable'\nimport goodsList from '@/components/goodsList'\nimport sortList from '@/components/sortList'\nexport default {\n    name: 'c_goods',\n    props: {\n        name: {\n            type: String\n        },\n        configData:{\n            type:null\n        }\n    },\n    components: {\n        goodsList,\n        sortList,\n        draggable: vuedraggable\n    },\n    watch: {\n        configData: {\n            handler (nVal, oVal) {\n                this.defaults = nVal\n                this.type = nVal.selectConfig?(nVal.selectConfig.type?nVal.selectConfig.type:''):''\n                // this.type = nVal.selectConfig.type?nVal.selectConfig.type:''\n            },\n            immediate: true,\n            deep: true\n        }\n    },\n    data () {\n        return {\n            modals: false,\n            goodsList: [],\n            tempGoods: [],\n            defaults:{},\n            type:'',\n            is_new:'',\n            loading:true\n        }\n    },\n    created () {\n        this.defaults = this.configData\n        this.is_new = this.configData.is_new\n\n    },\n    methods: {\n        getProductDiy (data) {\n            this.tempGoods = data\n            this.loading = false\n        },\n        cancel () {\n            this.tempGoods = []\n        },\n        //对象数组去重；\n        unique(arr) {\n            const res = new Map();\n            return arr.filter((arr) => !res.has(arr.id) && res.set(arr.id, 1))\n        },\n        ok () {\n            if(!this.tempGoods.length){\n                return this.$Message.warning('请先选择商品');\n            }\n            let list = this.defaults.goodsList.list;\n            list.push.apply(list,this.tempGoods);\n            // list.push(this.tempGoods);\n            let picList = this.unique(list);\n            this.defaults.goodsList.list= picList;\n            // this.defaults.goodsList.list.push(this.tempGoods);\n        },\n        bindDelete (index) {\n            this.defaults.goodsList.list.splice(index, 1)\n        }\n    }\n}\n",null]}