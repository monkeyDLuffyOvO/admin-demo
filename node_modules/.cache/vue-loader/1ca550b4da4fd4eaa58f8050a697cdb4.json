{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/store/order/components/orderRemark.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/store/order/components/orderRemark.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tputRemarkData, putRechargeRemarkData, putVipRemarkData\n} from '@/api/store';\nexport default {\n\tname: 'orderMark',\n\tdata() {\n\t\treturn {\n\t\t\ttabs: '',\n\t\t\tformValidate: {\n\t\t\t\tremark: ''\n\t\t\t},\n\t\t\tmodals: false,\n\t\t\truleValidate: {\n\t\t\t\tremark: [{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: '请输入备注信息',\n\t\t\t\t\ttrigger: 'blur'\n\t\t\t\t}]\n\t\t\t}\n\t\t}\n\t},\n\tprops: {\n\t\torderId: Number,\n\t\ttab: Number,\n\t},\n\tmethods: {\n\t\tcurrentTab(tabs,remarks){\n\t\t\tthis.tabs = tabs\n\t\t\tthis.formValidate.remark= remarks\n\t\t},\n\t\tcancel(name) {\n\t\t\tthis.modals = false;\n\t\t\t// this.$refs[name].resetFields();\n\t\t},\n\t\tputRemark(name) {\n\t\t\tlet data = {\n\t\t\t\tid: this.orderId,\n\t\t\t\tremark: this.formValidate\n\t\t\t}\n\t\t\tthis.$refs[name].validate((valid) => {\n\t\t\t\tif (valid) {\n\t\t\t\t\tif(this.tabs == 3){\n\t\t\t\t\t\tputRechargeRemarkData(data).then(async res => {\n\t\t\t\t\t\t\tthis.$Message.success(res.msg);\n\t\t\t\t\t\t\tthis.modals = false;\n\t\t\t\t\t\t\tthis.$refs[name].resetFields();\n\t\t\t\t\t\t\tthis.$emit('submitFail')\n\t\t\t\t\t\t}).catch(res => {\n\t\t\t\t\t\t\tthis.$Message.error(res.msg);\n\t\t\t\t\t\t})\n\t\t\t\t\t} else if(this.tabs == 4){\n\t\t\t\t\t\tputVipRemarkData(data).then(async res => {\n\t\t\t\t\t\t\tthis.$Message.success(res.msg);\n\t\t\t\t\t\t\tthis.modals = false;\n\t\t\t\t\t\t\tthis.$refs[name].resetFields();\n\t\t\t\t\t\t\tthis.$emit('submitFail')\n\t\t\t\t\t\t}).catch(res => {\n\t\t\t\t\t\t\tthis.$Message.error(res.msg);\n\t\t\t\t\t\t})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tputRemarkData(data).then(async res => {\n\t\t\t\t\t\t\tthis.$Message.success(res.msg);\n\t\t\t\t\t\t\tthis.modals = false;\n\t\t\t\t\t\t\tthis.$refs[name].resetFields();\n\t\t\t\t\t\t\tthis.$emit('submitFail')\n\t\t\t\t\t\t}).catch(res => {\n\t\t\t\t\t\t\tthis.$Message.error(res.msg);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.$Message.warning('请填写备注信息');\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n}\n",null]}