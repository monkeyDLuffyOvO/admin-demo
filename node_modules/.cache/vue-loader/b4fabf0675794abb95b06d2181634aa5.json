{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/marketing/live/creat_live.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/marketing/live/creat_live.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import {mapState} from \"vuex\";\n    import uploadPictures from '@/components/uploadPictures';\n    import { liveAdd, liveAuchorList } from '@/api/live'\n    export default {\n        name: \"creat_live\",\n        components: {\n            uploadPictures\n        },\n        computed: {\n            ...mapState('admin/layout', [\n                'isMobile',\n\t\t\t\t\t\t\t\t'menuCollapse'\n            ]),\n            labelWidth () {\n                return this.isMobile ? undefined : 100;\n            },\n            labelPosition () {\n                return this.isMobile ? 'top' : 'right';\n            }\n        },\n        data(){\n            return {\n                gridBtn: {\n                    xl: 4,\n                    lg: 8,\n                    md: 8,\n                    sm: 8,\n                    xs: 8\n                },\n                gridPic: {\n                    xl: 6,\n                    lg: 8,\n                    md: 12,\n                    sm: 12,\n                    xs: 12\n                },\n                grid: {\n                    xl: 10,\n                    lg: 16,\n                    md: 18,\n                    sm: 24,\n                    xs: 24\n                },\n                formValidate:{\n                    name:'',\n                    anchor_name:'',\n                    anchor_wechat:'',\n                    phone:'',\n                    screen_type:0,\n                    close_like:1,\n                    close_goods:1,\n                    close_comment:1,\n                    cover_img:'',\n                    share_img:'',\n                    sort:0,\n                    type:0,\n                    start_time:''\n                },\n                screen_type:[\n                    {\n                        value:'竖屏',\n                        label:0\n                    },\n                    {\n                        value:'横屏',\n                        label:1\n                    }\n                ],\n                type:[\n                    // {\n                    //     value:'推流',\n                    //     label:1\n                    // },\n                    {\n                        value:'手机直播',\n                        label:0\n                    }\n                ],\n                close_like:[\n                    {\n                        value:'开启',\n                        label:1\n                    },\n                    {\n                        value:'关闭',\n                        label:0\n                    }\n                ],\n                close_goods:[\n                    {\n                        value:'开启',\n                        label:1\n                    },\n                    {\n                        value:'关闭',\n                        label:0\n                    }\n                ],\n                close_comment:[\n                    {\n                        value:'开启',\n                        label:1\n                    },\n                    {\n                        value:'关闭',\n                        label:0\n                    }\n                ],\n                timeVal:'',\n                modalPic: false,\n                isChoice: '单选',\n                activeIndex:0,\n                liveList: [],\n                modal3:false\n            }\n        },\n        mounted(){\n            this.getLive();\n        },\n        methods:{\n            cancel () {\n                this.modal3 = false\n            },\n            codeImg () {\n                this.modal3 = true\n            },\n            anchorName (e) {\n                this.liveList.filter((el,index)=>{\n                    if(el.wechat === e){\n                        this.formValidate.anchor_name = el.name\n                    }\n                });\n            },\n            //主播列表；\n            getLive () {\n                let formValidate = {\n                        kerword: '',\n                        page: '',\n                        limit: ''\n                    };\n                liveAuchorList(formValidate).then(res=>{\n                    this.liveList = res.data.list;\n                }).catch(error=>{\n                    this.$Message.error(error.msg);\n                })\n            },\n            // 点击图文封面\n            modalPicTap (type) {\n                this.activeIndex = type\n                this.modalPic = true;\n            },\n            // 选择日期\n            selectDate(e){\n                this.formValidate.start_time = e\n            },\n            // 获取图片信息\n            getPic (pc) {\n                this.$nextTick(() => {\n                    if(this.activeIndex == 0){\n                        this.formValidate.cover_img = pc.att_dir;\n                    }else{\n                        this.formValidate.share_img = pc.att_dir;\n                    }\n                    this.modalPic = false;\n                })\n            },\n            // 保存\n            handleSubmit(name){\n                liveAdd(this.formValidate).then(res=>{\n                }).then(res=>{\n                    this.$Message.success('添加成功');\n                    setTimeout(() => {\n                        this.$router.push({ path: '/admin/marketing/live/live_room' });\n                    }, 500);\n                }).catch(error=>{\n                    this.$Message.error(error.msg)\n                })\n            }\n        }\n    }\n",null]}