{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/work/customerBase/list.vue?vue&type=template&id=7bf4fee4&scoped=true&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/work/customerBase/list.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["\n<!-- 企业微信-客户列表 -->\n  <div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\" :padding=\"0\">\n      <div class=\"new_card_pd\">\n        <!-- 查询条件 -->\n        <Form :label-width=\"96\" inline :label-colon=\"true\">\n          <FormItem :label=\"tabIndex == 0 ? '创建时间':'访问时间'\">\n            <DatePicker\n              :editable=\"false\"\n              @on-change=\"onchangeTime\"\n              :value=\"timeVal\"\n              format=\"yyyy/MM/dd HH:mm\"\n              type=\"datetimerange\"\n              placement=\"bottom-start\"\n              placeholder=\"自定义时间\"\n              :options=\"options\"\n             class=\"input-add\"\n            ></DatePicker>\n          </FormItem>\n          <FormItem label=\"选择客服\" v-show=\"tabIndex == 0\">\n            <Input\n              v-model=\"usersName\"\n              placeholder=\"请输入\"\n              :clearable=\"true\"\n              @on-focus=\"addUser\"\n             class=\"input-add\"\n            />\n          </FormItem>\n          <FormItem label=\"客户标签\">\n            <div class=\"check_label acea-row row-middle\" @click=\"setLabel(0)\">\n              <Tag v-for=\"(item,index) in labelFormList\" :key=\"index\" :name=\"item.title\" closable @on-close=\"handleClose2\">{{item.title}}</Tag>\n            </div>\n          </FormItem>\n          <FormItem label=\"客户名称\">\n            <Input\n              v-model=\"tableFrom.name\"\n              placeholder=\"请输入客户名称\"\n              class=\"input-add mr14\"\n            />\n            <Button type=\"primary\" @click=\"searchData()\">查询</Button>\n          </FormItem>\n        </Form>\n      </div>\n    </Card>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <div class=\"new_tab\">\n        <!-- Tab栏切换 -->\n        <Tabs v-model=\"tabIndex\" @on-click=\"onChangeType\">\n          <TabPane label=\"企微客户\" name=\"0\"></TabPane>\n          <TabPane label=\"非企微客户\" name=\"1\"></TabPane>\n        </Tabs>\n      </div>\n      <div class=\"acea-row\">\n        <!-- 操作 -->\n        <Button\n          type=\"primary\"\n          class=\"mr-12\"\n          @click=\"clientSynch()\"\n          v-show=\"tabIndex == 0\"\n          >同步企业微信客户</Button\n        >\n        <Button\n          @click=\"setLabel(1)\"\n          :disabled=\"!selectGroup.length\"\n          v-show=\"tabIndex == 0\"\n          >批量设置标签</Button\n        >\n        <div v-show=\"tabIndex == 1\">\n          <Button\n            v-auth=\"['admin-user-coupon']\"\n            class=\"mr-12\"\n            :disabled=\"!selectUser.length\"\n            @click=\"onSend\"\n            >发送优惠券</Button\n          >\n          <Button\n            @click=\"setLabel(2)\"\n            :disabled=\"!selectUser.length\"\n            v-show=\"tabIndex == 1\"\n            >批量设置标签</Button\n          >\n        </div>\n      </div>\n      <!-- 表格 -->\n      <Table\n        ref=\"selection\"\n        :columns=\"columns1\"\n        :data=\"tableData.list\"\n        :loading=\"loading\"\n        class=\"ivu-mt\"\n        @on-select-all=\"selectAll\"\n        @on-select-all-cancel=\"selectAll\"\n        @on-selection-change=\"handleSelectRow\"\n        v-if=\"tabIndex == 0\"\n      >\n        <template slot-scope=\"{ row }\" slot=\"avatar\">\n          <viewer class=\"acea-row\">\n            <div class=\"tabBox_img mr-12\">\n              <img v-lazy=\"row.avatar\" />\n            </div>\n            <div class=\"acea-row row-column row-center\">\n              <span>{{ row.name }}</span>\n              <span>ID:{{ row.id }}</span>\n            </div>\n          </viewer>\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"gender\">\n          <span>{{ row.gender | genderFilter }}</span>\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"followOne\">\n          <span v-if=\"row.followOne\">{{ row.followOne.member.name }}</span>\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"corp_id\">\n          <div v-if=\"row.followOne\">\n            <Tag\n            size=\"medium\"\n            v-for=\"(item, index1) in row.followOne.tags\"\n            :key=\"index1\"\n            >{{ item.tag_name }}</Tag\n          >\n          </div>\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"external_userid\">\n          <span v-if=\"row.followOne\">{{ row.followOne.member.mastare_department_name }}</span>\n        </template>\n        <!--  -->\n        <template slot-scope=\"{ row }\" slot=\"type\">\n          <Tag color=\"blue\" size=\"medium\" v-if=\"row.type == 1\">微信用户</Tag>\n          <Tag color=\"gold\" size=\"medium\" v-else>企微用户</Tag>\n        </template>\n        <!-- action -->\n        <template slot-scope=\"{ row }\" slot=\"action\">\n          <a @click=\"workInfo(row)\" :disabled=\"row.uid == 0\">详情</a>\n          <Divider type=\"vertical\" />\n          <a @click=\"editMark(row)\">备注</a>\n          <Divider type=\"vertical\" />\n          <a @click=\"labeSet(row)\">设置标签</a>\n        </template>\n      </Table>\n      <Table\n        :columns=\"columns2\"\n        :data=\"tableData1.list\"\n        class=\"ivu-mt\"\n        ref=\"table\"\n        highlight-row\n        :loading=\"loading\"\n        no-userFrom-text=\"暂无数据\"\n        no-filtered-userFrom-text=\"暂无筛选结果\"\n        @on-select-all=\"userAll\"\n        @on-select-all-cancel=\"userAll\"\n        @on-selection-change=\"userSelectRow\"\n        v-if=\"tabIndex == 1\"\n      >\n        <template slot-scope=\"{ row }\" slot=\"avatars\">\n          <viewer class=\"acea-row\">\n            <div class=\"tabBox_img mr-12\">\n              <img v-lazy=\"row.avatar\" />\n            </div>\n            <div class=\"acea-row row-column row-center\">\n              <span>{{ row.nickname }}</span>\n              <span>UID:{{ row.uid }}</span>\n            </div>\n          </viewer>\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"nickname\">\n          <div class=\"acea-row\">\n            <Icon\n              type=\"md-male\"\n              v-show=\"row.sex === '男'\"\n              color=\"#2db7f5\"\n              size=\"15\"\n              class=\"mr5\"\n            />\n            <Icon\n              type=\"md-female\"\n              v-show=\"row.sex === '女'\"\n              color=\"#ed4014\"\n              size=\"15\"\n              class=\"mr5\"\n            />\n            <div v-text=\"row.nickname\"></div>\n          </div>\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"isMember\">\n          <div>{{ row.isMember ? \"是\" : \"否\" }}</div>\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"follow_list\">\n          <div v-if=\"row.follow_list\">\n            <span v-for=\"(item, index1) in row.follow_list\" :key=\"index1\">{{\n              item.member.name\n            }}</span>\n          </div>\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"action\">\n          <a @click=\"changeInfo(row)\">详情</a>\n        </template>\n      </Table>\n      <div class=\"acea-row row-right page\">\n        <Page\n          :total=\"tabIndex == 0 ? tableData.count : tableData1.count\"\n          :current=\"tableFrom.page\"\n          show-elevator\n          show-total\n          @on-change=\"pageChange\"\n          :page-size=\"tableFrom.limit\"\n        />\n      </div>\n    </Card>\n    <department\n      ref=\"department\"\n      :active-department=\"activeDepartment\"\n      :is-site=\"isSite\"\n      :only-department=\"onlyDepartment\"\n      @changeMastart=\"changeMastart\"\n    />\n    <Modal\n      v-model=\"labelShow\"\n      scrollable\n      title=\"请选择用户标签\"\n      :closable=\"false\"\n      width=\"600\"\n      :footer-hide=\"true\"\n      @on-cancel=\"labelCancel\"\n    >\n      <div class=\"label-wrapper\">\n        <div class=\"list-box\">\n          <div\n            class=\"label-box\"\n            v-for=\"(item, index) in labelList\"\n            :key=\"index\"\n          >\n            <div class=\"title\" v-if=\"item.children && item.children.length\">\n              {{ item.title }}\n            </div>\n            <div class=\"list\" v-if=\"item.children && item.children.length\">\n              <div\n                class=\"label-item\"\n                :class=\"{ on: label.selected }\"\n                v-for=\"(label, j) in item.children\"\n                :key=\"j\"\n                @click=\"selectLabel(label)\"\n              >\n                {{ label.title }}\n              </div>\n            </div>\n          </div>\n          <div v-if=\"!labelList\">暂无标签</div>\n        </div>\n        <div class=\"footer\">\n          <Button type=\"primary\" class=\"btns\" @click=\"labelConfirm()\">确定</Button>\n          <Button type=\"primary\" class=\"btns\" ghost @click=\"labelCancel()\">取消</Button>\n        </div>\n      </div>\n    </Modal>\n    <!-- 非企微用户详情 -->\n    <user-details ref=\"userDetails\" :group-list=\"groupList\"></user-details>\n    <!-- 发送优惠券-->\n    <send-from ref=\"sends\" :userIds=\"user_ids\"></send-from>\n    <!-- 企微用户编辑 -->\n     <Modal\n      v-model=\"markShow\"\n      title=\"设置备注\"\n      width=\"400\"\n      :closable=\"false\"\n      class-name=\"vertical-center-modal\"\n      @on-ok=\"editMaekConfirm()\"\n      @on-cancel=\"editMarkCancel()\"\n    >\n       <Form v-model=\"markShow\" :label-width=\"75\" label-position=\"right\">\n        <FormItem label=\"备注：\" required >\n            <Input type=\"textarea\" v-model=\"remark\"  placeholder=\"请输入备注\" class=\"input-add\"></Input>\n        </FormItem>\n       </Form>\n    </Modal>\n    <!-- 编辑表单 积分余额-->\n    <edit-from\n      ref=\"edits\"\n      :FromData=\"FromData\"\n\t    :userEdit=\"1\"\n      @submitFail=\"submitFail\"\n    ></edit-from>\n  </div>\n",null]}