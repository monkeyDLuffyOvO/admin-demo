{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/setting/storage/index.vue?vue&type=template&id=1037d12a&scoped=true&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/setting/storage/index.vue","mtime":1662686947000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["\n<!-- 存储配置 -->\n  <div class=\"message\">\n    \n    <div class=\"table-box\">\n      <Card :bordered=\"false\" :padding=\"20\" dis-hover>\n         <div class=\"new_tab\">\n           <Tabs v-model=\"currentTab\"  @on-click=\"changeTab\">\n              <TabPane\n                :label=\"item.label\"\n                :name=\"item.value.toString()\"\n                v-for=\"(item, index) in headerList\"\n                :key=\"index\"\n              />\n          </Tabs>\n         </div>\n        <div  class=\"table-box explain\">\n          <Card dis-hover>\n            <h3>使用说明</h3>\n            <template v-if=\"currentTab == 3\">\n              <p>阿里云oss开通方法：<a target=\"_blank\"  href=\"https://doc.crmeb.com/pro/crmebprov2/1213\">点击查看</a></p>\n            </template>\n            <template v-if=\"currentTab == 4\">\n              <p>腾讯云oss开通方法：<a target=\"_blank\"  href=\"https://doc.crmeb.com/pro/crmebprov2/1214\">点击查看</a></p>\n            </template>\n            <template v-if=\"currentTab == 2\">\n              <p>七牛云开通方法：<a target=\"_blank\"  href=\"https://doc.crmeb.com/pro/crmebprov2/1215\">点击查看</a></p>\n            </template>\n            <!-- <template v-if=\"currentTab == 1\">\n              <p>本地存储不支持视频上传，只支持图片上传；关闭本地存储需要打开其他云存储状态，否则将关闭上传功能</p>\n            </template> -->\n            <template v-if=\"currentTab == 1\" >\n              <p>上传图片时会生成缩略图</p>\n              <p>未设置按照系统默认生成，系统默认：大图800 * 800px，中图300 * 300px，小图150 * 150px</p>\n              <p>水印只在上传图片时生成，原图，大中小缩略图上都按照比例存在。</p>\n              <p>若上传图片时未开启水印，则该图在开启水印之后依旧无水印效果。</p>\n            </template>\n            <template v-else-if=\"currentTab == 5\" >\n              <p>上传图片时会生成缩略图</p>\n              <p>未设置按照系统默认生成，系统默认：大图800 * 800px，中图300 * 300px，小图150 * 150px</p>\n              <p>水印只在上传图片时生成，原图，大中小缩略图上都按照比例存在。</p>\n              <p>若上传图片时未开启水印，则该图在开启水印之后依旧无水印效果。</p>\n            </template>\n            <template v-else>\n              <p>第一步： 添加【存储空间】（空间名称不能重复）</p>\n              <p>第二步： 开启【使用状态】</p>\n              <template v-if=\"currentTab == 2\">\n                <p>第三步（必选）： 选择云存储空间列表上的修改【空间域名操作】</p>\n                <p>\n                  第四步（必选）：\n                  选择云存储空间列表上的修改【CNAME配置】，打开后复制记录值到对应的平台解析\n                </p>\n              </template>\n              <template v-else>\n                <p>第三步（可选）： 选择云存储空间列表上的修改【空间域名操作】</p>\n                <p>\n                  第四步（可选）：\n                  选择云存储空间列表上的修改【CNAME配置】，打开后复制记录值到对应的平台解析\n                </p>\n              </template>\n            </template>\n          </Card>\n        </div>\n        <div class=\"table-box\" v-if=\"currentTab == 1\">\n          <Card :bordered=\"false\" :padding=\"0\" dis-hover>\n            <Form ref=\"formValidate\" :model=\"formData\" :rules=\"rules\" :label-width=\"123\">\n                <FormItem label=\"存储类型：\" :label-width=\"90\">\n                    <RadioGroup v-model=\"formData.upload_type\">\n                        <Radio :label=\"1\">本地存储</Radio>\n                        <Radio :label=\"3\">阿里云存储</Radio>\n                        <Radio :label=\"4\">腾讯云存储</Radio>\n                        <Radio :label=\"2\">七牛云存储</Radio>\n                    </RadioGroup>\n                </FormItem>\n                <div>缩略图设置：</div>\n                <div class=\"thumb-list\">\n                    <div class=\"item\">\n                        <div class=\"image\">\n                            <img src=\"@/assets/images/thumb1.png\">\n                            <div>缩略大图</div>\n                        </div>\n                        <div>\n                            <FormItem label=\"宽：\" :label-width=\"63\" prop=\"thumb_big_width\">\n                                <Input v-model=\"formData.thumb_big_width\" placeholder=\"请输入宽\">\n                                    <span slot=\"append\">px</span>\n                                </Input>\n                            </FormItem>\n                            <FormItem label=\"高：\" :label-width=\"63\" prop=\"thumb_big_height\">\n                                <Input v-model=\"formData.thumb_big_height\" placeholder=\"请输入高\">\n                                    <span slot=\"append\">px</span>\n                                </Input>\n                            </FormItem>\n                        </div>\n                    </div>\n                    <div class=\"item\">\n                        <div class=\"image\">\n                            <img src=\"@/assets/images/thumb2.png\">\n                            <div>缩略中图</div>\n                        </div>\n                        <div>\n                            <FormItem label=\"宽：\" :label-width=\"63\" prop=\"thumb_mid_width\">\n                                <Input v-model=\"formData.thumb_mid_width\" placeholder=\"请输入宽\">\n                                    <span slot=\"append\">px</span>\n                                </Input>\n                            </FormItem>\n                            <FormItem label=\"高：\" :label-width=\"63\" prop=\"thumb_mid_height\">\n                                <Input v-model=\"formData.thumb_mid_height\" placeholder=\"请输入高\">\n                                    <span slot=\"append\">px</span>\n                                </Input>\n                            </FormItem>\n                        </div>\n                    </div>\n                    <div class=\"item\">\n                        <div class=\"image\">\n                            <img src=\"@/assets/images/thumb2.png\">\n                            <div>缩略小图</div>\n                        </div>\n                        <div>\n                            <FormItem label=\"宽：\" :label-width=\"63\" prop=\"thumb_small_width\">\n                                <Input v-model=\"formData.thumb_small_width\" placeholder=\"请输入宽\">\n                                    <span slot=\"append\">px</span>\n                                </Input>\n                            </FormItem>\n                            <FormItem label=\"高：\" :label-width=\"63\" prop=\"thumb_small_height\">\n                                <Input v-model=\"formData.thumb_small_height\" placeholder=\"请输入高\">\n                                    <span slot=\"append\">px</span>\n                                </Input>\n                            </FormItem>\n                        </div>\n                    </div>\n                </div>\n                <FormItem label=\"是否开启水印：\">\n                    <i-switch v-model=\"formData.image_watermark_status\" :true-value=\"1\" :false-value=\"0\" size=\"large\">\n                        <span slot=\"open\">开启</span>\n                        <span slot=\"close\">关闭</span>\n                    </i-switch>\n                </FormItem>\n                <FormItem v-show=\"formData.image_watermark_status\" label=\"水印类型：\">\n                    <RadioGroup v-model=\"formData.watermark_type\">\n                        <Radio :label=\"1\">图片</Radio>\n                        <Radio :label=\"2\">文字</Radio>\n                    </RadioGroup>\n                </FormItem>\n                <div v-show=\"formData.image_watermark_status\" class=\"form-item-list\">\n                    <FormItem v-if=\"formData.watermark_type === 1\" key=\"watermark_image\" label=\"水印图片：\">\n                        <div v-if=\"formData.watermark_image\" class=\"upload-list\">\n                            <img v-lazy=\"formData.watermark_image\">\n                            <div class=\"upload-list-cover\">\n                                <Icon type=\"ios-eye-outline\" @click.native=\"handleView\"></Icon>\n                                <Icon type=\"ios-trash-outline\" @click.native=\"handleRemove\"></Icon>\n                            </div>\n                        </div>\n                        <div v-else class=\"upload\" @click=\"modalPicTap('dan')\">\n                            <Icon type=\"ios-add\" size=\"20\" />\n                        </div>\n                    </FormItem>\n                    <FormItem v-if=\"formData.watermark_type === 2\" key=\"watermark_text\" label=\"水印文字：\">\n                        <Input v-model=\"formData.watermark_text\" placeholder=\"请输入水印文字\"></Input>\n                    </FormItem>\n                    <FormItem v-if=\"formData.watermark_type === 2\" key=\"watermark_text_size\" label=\"水印文字大小：\" prop=\"watermark_text_size\" :rules=\"{\n                        validator (rule, value, callback) {\n                            if (!value || /(^[1-9]\\d*$)/.test(value)) {\n                                callback();\n                            } else {\n                                callback(false);\n                            }\n                        },\n                        message: '必须为正整数',\n                        trigger: 'blur'\n                    }\">\n                        <Input v-model=\"formData.watermark_text_size\" placeholder=\"请输入水印文字大小\">\n                            <span slot=\"append\">px</span>\n                        </Input>\n                    </FormItem>\n                    <FormItem v-if=\"formData.watermark_type === 2\" key=\"watermark_text_color\" label=\"水印字体颜色：\">\n                        <ColorPicker v-model=\"formData.watermark_text_color\" />\n                    </FormItem>\n                    <FormItem label=\"水印位置：\">\n                        <RadioGroup v-model=\"formData.watermark_position\" type=\"button\">\n                            <Radio v-for=\"item in 9\" :key=\"item\" :label=\"item\"></Radio>\n                        </RadioGroup>\n                        <span class=\"tip\">{{ positionText }}</span>\n                    </FormItem>\n                    <FormItem v-if=\"formData.watermark_type === 1\" key=\"watermark_opacity\" label=\"水印透明度：\" prop=\"watermark_opacity\" :rules=\"{\n                        validator: (rule, value, callback) => {\n                            if (!value || /^([0-9]{1,2}|100)$/.test(value)) {\n                                callback();\n                            } else {\n                                callback(false);\n                            }\n                        },\n                        message: '必须为0-100的整数',\n                        trigger: 'blur'\n                    }\">\n                        <Input v-model=\"formData.watermark_opacity\" placeholder=\"请输入水印透明度\"></Input>\n                    </FormItem>\n                    <FormItem v-if=\"formData.watermark_type === 1\" key=\"watermark_rotate\" label=\"水印倾斜度：\" prop=\"watermark_rotate\"\n                        :rules=\"{\n                            validator (rule, value, callback) {\n                                if (!value || /^([0-9]{1,2}|360)$/.test(value)) {\n                                    callback();\n                                } else {\n                                    callback(false);\n                                }\n                            },\n                            message: '必须为0-360的整数',\n                            trigger: 'blur'\n                        }\"\n                    >\n                        <Input v-model=\"formData.watermark_rotate\" placeholder=\"请输入水印倾斜度\"></Input>\n                    </FormItem>\n                    <FormItem v-if=\"formData.watermark_type === 2\" key=\"watermark_text_angle\" label=\"水印字体旋转角度：\">\n                        <Input v-model=\"formData.watermark_text_angle\" placeholder=\"请输入水印字体旋转角度\"></Input>\n                    </FormItem>\n                    <FormItem label=\"水印横坐标偏移量：\" prop=\"watermark_x\">\n                        <Input v-model=\"formData.watermark_x\" placeholder=\"请输入横坐标偏移量\">\n                            <span slot=\"append\">px</span>\n                        </Input>\n                    </FormItem>\n                    <FormItem label=\"水印纵坐标偏移量：\" prop=\"watermark_y\">\n                        <Input v-model=\"formData.watermark_y\" placeholder=\"请输入纵坐标偏移量\">\n                            <span slot=\"append\">px</span>\n                        </Input>\n                    </FormItem>\n                </div>\n                <FormItem>\n                    <Button type=\"primary\" @click=\"handleSubmit('formValidate')\">保存</Button>\n                </FormItem>\n            </Form>\n          </Card>\n        </div>\n        <div class=\"table-box\" v-else>\n          <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n            <Row type=\"flex\" class=\"mb20\">\n              <Col span=\"24\">\n                <Button type=\"primary\" @click=\"addStorageBtn\">添加存储空间</Button>\n                <Button type=\"success\" @click=\"synchro\" class=\"ml20\"\n                  >同步存储空间</Button\n                >\n                <Button @click=\"addConfigBtn\" style=\"float: right\"\n                  >修改配置信息</Button\n                >\n              </Col>\n            </Row>\n            <Table\n              :columns=\"columns\"\n              :data=\"levelLists\"\n              ref=\"table\"\n              class=\"mt25\"\n              :loading=\"loading\"\n              highlight-row\n              no-userFrom-text=\"暂无数据\"\n              no-filtered-userFrom-text=\"暂无筛选结果\"\n            >\n              <template slot-scope=\"{ row, index }\" slot=\"status\">\n                <!-- {{row}}{{index}} -->\n                <i-switch\n                  v-model=\"row.status\"\n                  :value=\"row.status\"\n                  :true-value=\"1\"\n                  :false-value=\"0\"\n                  @on-change=\"changeSwitch(row, index)\"\n                  size=\"large\"\n                >\n                  <span slot=\"open\">开启</span>\n                  <span slot=\"close\">关闭</span>\n                </i-switch>\n              </template>\n              <template slot-scope=\"{ row, index }\" slot=\"action\">\n                <template v-if=\"row.domain && row.domain != row.cname\">\n                  <span class=\"btn\" @click=\"config(row)\">CNAME配置</span>\n                  <Divider type=\"vertical\" />\n                </template>\n                <span class=\"btn\" @click=\"edit(row)\">修改空间域名</span>\n                <Divider type=\"vertical\" />\n                <span class=\"btn\" @click=\"del(row, '删除该数据', index)\">删除</span>\n              </template>\n            </Table>\n            <div class=\"acea-row row-right page\">\n              <Page\n                :total=\"total\"\n                :current=\"list.page\"\n                show-elevator\n                show-total\n                @on-change=\"pageChange\"\n                :page-size=\"list.limit\"\n              />\n            </div>\n          </Card>\n        </div>\n      </Card>\n    </div>\n    <Modal v-model=\"configuModal\" title=\"CNAME配置\">\n      <div>\n        <div class=\"confignv\">\n          <span class=\"configtit\">主机记录：</span>{{ configData.domain }}\n        </div>\n        <div class=\"confignv\">\n          <span class=\"configtit\">记录类型：</span>CNAME\n        </div>\n        <div class=\"confignv\">\n          <span class=\"configtit\">记录值：</span>{{ configData.cname }}\n          <span class=\"copy copy-data\" :data-clipboard-text=\"configData.cname\"\n            >复制</span\n          >\n        </div>\n      </div>\n      <div slot=\"footer\"></div>\n    </Modal>\n    <Modal\n      v-model=\"modalPic\"\n      width=\"960px\"\n      scrollable\n      footer-hide\n      closable\n      title=\"上传商品图\"\n      :mask-closable=\"false\"\n      :z-index=\"888\"\n    >\n      <uploadPictures\n        :isChoice=\"isChoice\"\n        @getPic=\"getPic\"\n        :gridBtn=\"gridBtn\"\n        :gridPic=\"gridPic\"\n        v-if=\"modalPic\"\n      ></uploadPictures>\n    </Modal>\n    <Modal v-model=\"visible\">\n        <img :src=\"formData.watermark_image\" v-if=\"visible\" style=\"width: 100%\">\n    </Modal>\n  </div>\n",null]}