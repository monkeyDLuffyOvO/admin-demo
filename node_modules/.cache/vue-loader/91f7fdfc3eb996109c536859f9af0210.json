{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/statistic/product/components/productRanking.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/statistic/product/components/productRanking.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import { statisticProductListApi } from '@/api/statistic'\n    import goodsDetail from \"../components/goodsDetail\";\n    import { formatDate } from '@/utils/validate';\n    export default {\n        name: \"productRanking\",\n        components: {\n            goodsDetail\n        },\n        data() {\n            return {\n                validateFun:this.$validateFun,\n                // options: this.$timeOptions,\n\t\t\t\toptions: {\n\t\t\t\t  shortcuts: [\n\t\t\t\t    {\n\t\t\t\t      text: \"今天\",\n\t\t\t\t      value() {\n\t\t\t\t        const end = new Date();\n\t\t\t\t        const start = new Date();\n\t\t\t\t        start.setTime(\n\t\t\t\t          new Date(\n\t\t\t\t            new Date().getFullYear(),\n\t\t\t\t            new Date().getMonth(),\n\t\t\t\t            new Date().getDate()\n\t\t\t\t          )\n\t\t\t\t        );\n\t\t\t\t        return [start, end];\n\t\t\t\t      },\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      text: \"昨天\",\n\t\t\t\t      value() {\n\t\t\t\t        const end = new Date();\n\t\t\t\t        const start = new Date();\n\t\t\t\t        start.setTime(\n\t\t\t\t          start.setTime(\n\t\t\t\t            new Date(\n\t\t\t\t              new Date().getFullYear(),\n\t\t\t\t              new Date().getMonth(),\n\t\t\t\t              new Date().getDate() - 1\n\t\t\t\t            )\n\t\t\t\t          )\n\t\t\t\t        );\n\t\t\t\t        end.setTime(\n\t\t\t\t          end.setTime(\n\t\t\t\t            new Date(\n\t\t\t\t              new Date().getFullYear(),\n\t\t\t\t              new Date().getMonth(),\n\t\t\t\t              new Date().getDate() - 1\n\t\t\t\t            )\n\t\t\t\t          )\n\t\t\t\t        );\n\t\t\t\t        return [start, end];\n\t\t\t\t      },\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      text: \"最近7天\",\n\t\t\t\t      value() {\n\t\t\t\t        const end = new Date();\n\t\t\t\t        const start = new Date();\n\t\t\t\t        start.setTime(\n\t\t\t\t          start.setTime(\n\t\t\t\t            new Date(\n\t\t\t\t              new Date().getFullYear(),\n\t\t\t\t              new Date().getMonth(),\n\t\t\t\t              new Date().getDate() - 6\n\t\t\t\t            )\n\t\t\t\t          )\n\t\t\t\t        );\n\t\t\t\t        return [start, end];\n\t\t\t\t      },\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      text: \"最近30天\",\n\t\t\t\t      value() {\n\t\t\t\t        const end = new Date();\n\t\t\t\t        const start = new Date();\n\t\t\t\t        start.setTime(\n\t\t\t\t          start.setTime(\n\t\t\t\t            new Date(\n\t\t\t\t              new Date().getFullYear(),\n\t\t\t\t              new Date().getMonth(),\n\t\t\t\t              new Date().getDate() - 29\n\t\t\t\t            )\n\t\t\t\t          )\n\t\t\t\t        );\n\t\t\t\t        return [start, end];\n\t\t\t\t      },\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      text: \"本月\",\n\t\t\t\t      value() {\n\t\t\t\t        const end = new Date();\n\t\t\t\t        const start = new Date();\n\t\t\t\t        start.setTime(\n\t\t\t\t          start.setTime(\n\t\t\t\t            new Date(new Date().getFullYear(), new Date().getMonth(), 1)\n\t\t\t\t          )\n\t\t\t\t        );\n\t\t\t\t        return [start, end];\n\t\t\t\t      },\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      text: \"本年\",\n\t\t\t\t      value() {\n\t\t\t\t        const end = new Date();\n\t\t\t\t        const start = new Date();\n\t\t\t\t        start.setTime(\n\t\t\t\t          start.setTime(new Date(new Date().getFullYear(), 0, 1))\n\t\t\t\t        );\n\t\t\t\t        return [start, end];\n\t\t\t\t      },\n\t\t\t\t    },\n\t\t\t\t  ],\n\t\t\t\t},\n                name: '近30天',\n                timeVal: [],\n                dataTime: '',\n                formValidate: {\n                    limit: 10,\n                    page: 1,\n                    sort: 'visit',\n                    data: ''\n                },\n                loading: false,\n                tabList: [],\n                total: 0,\n                columns4: [\n                    {\n                        title: '商品图片',\n                        slot: 'image',\n                        minWidth: 80\n                    },\n                    {\n                        title: '商品名称',\n                        width: 180,\n                        key: 'store_name'\n                    },\n                    {\n                        title: '浏览量',\n                        key: 'visit',\n                        minWidth: 100\n                    },\n                    {\n                        title: '访客数',\n                        key: 'user',\n                        minWidth: 100\n                    },\n                    {\n                        title: '加购件数',\n                        key: 'cart',\n                        minWidth: 100\n                    },\n                    {\n                        title: '下单件数',\n                        key: 'orders',\n                        minWidth: 100\n                    },\n                    {\n                        title: '支付件数',\n                        key: 'pay',\n                        minWidth: 100\n                    },\n                    {\n                        title: '支付金额',\n                        key: 'price',\n                        minWidth: 100\n                    },\n                    {\n                        title: '毛利率(%)',\n                        slot: 'profit',\n                        minWidth: 100\n                    },\n                    {\n                        title: '收藏数',\n                        key: 'collect',\n                        minWidth: 100\n                    },\n                    {\n                        title: '访客-支付转化率(%)',\n                        slot: 'changes',\n                        minWidth: 120\n                    },\n                    {\n                        title: '操作',\n                        slot: 'action',\n                        fixed: 'right',\n                        minWidth: 80\n                    }\n                ],\n                goodsId: \"\",\n                isProductBox: false,\n                list: [\n                    {\n                        val:\"visit\",\n                        name:'浏览量'\n                    },\n                    {\n                        val:\"user\",\n                        name:'访客数'\n                    },\n                    {\n                        val:\"cart\",\n                        name:'加购件数'\n                    },\n                    {\n                        val:\"orders\",\n                        name:'下单件数'\n                    },\n                    {\n                        val:\"price\",\n                        name:'支付金额'\n                    },\n                    {\n                        val:\"profit\",\n                        name:'毛利率'\n                    },\n                    {\n                        val:\"collect\",\n                        name:'收藏数'\n                    },\n                    {\n                        val:\"changes\",\n                        name:'访客-支付转化率'\n                    }\n                ]\n            }\n        },\n        created() {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.setTime(new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() - 29)));\n            this.timeVal = [start, end]\n            this.formValidate.data = formatDate(start, 'yyyy/MM/dd')+ '-'+ formatDate(end, 'yyyy/MM/dd');\n        },\n        mounted() {\n            this.getList();\n        },\n        methods: {\n            // 具体日期\n            onchangeTime (e) {\n                this.timeVal = e\n                this.formValidate.data = this.timeVal.join('-');\n                this.name = this.formValidate.data;\n            },\n            changeMenu(name){\n                this.formValidate.sort = name;\n                this.getList();\n            },\n            // 列表\n            getList () {\n                this.loading = true\n                statisticProductListApi(this.formValidate).then(async res => {\n                    let data = res.data;\n                    this.tabList = data;\n                    this.loading = false;\n                }).catch(res => {\n                    this.loading = false;\n                    this.$Message.error(res.msg);\n                })\n            },\n            look(row){\n                this.goodsId = row.product_id;\n                this.isProductBox = true\n            }\n        }\n    }\n",null]}