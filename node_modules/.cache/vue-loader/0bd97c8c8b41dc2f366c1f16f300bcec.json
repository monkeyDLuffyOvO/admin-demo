{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/echarts/trade/order.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/echarts/trade/order.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport searchFrom from '../../../components/searchFrom/searchFrom';\nimport cardsData from '../../../components/cards/cards';\nimport { getOrdes } from '@/api/order';\nimport { mapState } from 'vuex';\nimport echarts from 'echarts';\nfunction getDate (d) {\n    const date = new Date(d);\n    const hour = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();\n    const mins = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\n    return `${hour}:${mins}`;\n}\nexport default {\n    name: 'order',\n    data () {\n        return {\n            typeStatus: 0,\n            typeName: [],\n            visitDate: '',\n            xData: [],\n            y1Data: [],\n            y2Data: [],\n            tablists: null,\n            cardLists: [\n                {\n                    className: 'layui-bg-blue',\n                    col: 4,\n                    count: 3,\n                    field: '件',\n                    name: '订单数量'\n                },\n                {\n                    className: 'layui-bg-blue',\n                    col: 4,\n                    count: 3,\n                    field: '件',\n                    name: '订单数量'\n                }\n            ], // 请求接口数据\n            columns1: [\n                {\n                    title: 'Name',\n                    key: 'name'\n                },\n                {\n                    title: 'Age',\n                    key: 'age'\n                },\n                {\n                    title: 'Address',\n                    key: 'address'\n                }\n            ],\n            data2: [\n                {\n                    name: 'John Brown',\n                    age: 18,\n                    address: 'New York No. 1 Lake Park',\n                    date: '2016-10-03'\n                },\n                {\n                    name: 'Jim Green',\n                    age: 24,\n                    address: 'London No. 1 Lake Park',\n                    date: '2016-10-01'\n                },\n                {\n                    name: 'Joe Black',\n                    age: 30,\n                    address: 'Sydney No. 1 Lake Park',\n                    date: '2016-10-02'\n                },\n                {\n                    name: 'Jon Snow',\n                    age: 26,\n                    address: 'Ottawa No. 2 Lake Park',\n                    date: '2016-10-04'\n                },\n                {\n                    name: 'John Brown',\n                    age: 18,\n                    address: 'New York No. 1 Lake Park',\n                    date: '2016-10-03'\n                },\n                {\n                    name: 'Jim Green',\n                    age: 24,\n                    address: 'London No. 1 Lake Park',\n                    date: '2016-10-01'\n                },\n                {\n                    name: 'Joe Black',\n                    age: 30,\n                    address: 'Sydney No. 1 Lake Park',\n                    date: '2016-10-02'\n                },\n                {\n                    name: 'Jon Snow',\n                    age: 26,\n                    address: 'Ottawa No. 2 Lake Park',\n                    date: '2016-10-04'\n                }\n            ]\n        }\n    },\n    components: {\n        searchFrom,\n        cardsData\n    },\n    computed: {\n        ...mapState('admin/order', [\n            'orderStatus',\n            'orderTime'\n        ])\n    },\n    mounted () {\n        this.getTabs();\n        this.handleGetData();\n        this.handleSetVisitChart();\n    },\n    methods: {\n        // 订单类型  @on-changeTabs=\"getChangeTabs\"\n        getTabs () {\n            getOrdes({}).then(async res => {\n                if (res.status === 200) {\n                    this.tablists = res.data;\n                    this.typeName = [\n                        {\n                            'name': '全部',\n                            'num': this.tablists.all,\n                            'label': ''\n                        },\n                        {\n                            'name': '未支付',\n                            'num': this.tablists.unpaid,\n                            'label': 0\n                        },\n                        {\n                            'name': '未发货',\n                            'num': this.tablists.unshipped,\n                            'label': 1\n                        },\n                        {\n                            'name': '待收货',\n                            'num': this.tablists.untake,\n                            'label': 2\n                        },\n                        {\n                            'name': '待评价',\n                            'num': this.tablists.unevaluate,\n                            'label': 3\n                        },\n                        {\n                            'name': '交易完成',\n                            'num': this.tablists.complete,\n                            'label': 4\n                        },\n                        {\n                            'name': '退款中',\n                            'num': this.tablists.refunding,\n                            'label': -1\n                        },\n                        {\n                            'name': '已退款',\n                            'num': this.tablists.refund,\n                            'label': -2\n                        }\n                    ]\n                } else {\n                    this.$Message.error(res.msg);\n                }\n            }).catch(res => {\n                this.$Message.error(res.msg);\n            })\n        },\n        // 点击订单类型\n        onChangeType (type) {\n\n        },\n        // 点击时间\n        getSeachTime (tme) {\n        },\n        // 点击订单状态\n        getTypeNum (status) {\n            this.typeStatus = status\n        },\n        // 点击订单状态\n        getData () {\n            // 调图标数据函数\n        },\n        // 图表\n        handleGetData () {\n            const date = (new Date()).getTime();\n            this.xData = [\n                getDate(date),\n                getDate(date - 60000 * 5),\n                getDate(date - 60000 * 10),\n                getDate(date - 60000 * 15),\n                getDate(date - 60000 * 20),\n                getDate(date - 60000 * 25),\n                getDate(date - 60000 * 30),\n                getDate(date - 60000 * 35),\n                getDate(date - 60000 * 40),\n                getDate(date - 60000 * 45),\n                getDate(date - 60000 * 50)\n            ].reverse();\n            this.y1Data = [45, 169, 400, 285, 316, 148, 150, 234, 158, 100, 266];\n            this.y2Data = [15, 39, 152, 94, 102, 86, 39, 38, 95, 30, 86];\n        },\n        handleSetVisitChart () {\n            this.visitChart = echarts.init(this.$refs.visitChart);\n            this.visitChart.setOption(\n                {\n                    xAxis: {\n                        type: 'category',\n                        axisLine: {\n                            lineStyle: {\n                                color: '#D7DDE4'\n                            }\n                        },\n                        axisTick: {\n                            alignWithLabel: true,\n                            lineStyle: {\n                                color: '#D7DDE4'\n                            }\n                        },\n                        axisLabel: {\n                            textStyle: {\n                                color: '#7F8B9C'\n                            }\n                        },\n                        splitLine: {\n                            show: false,\n                            lineStyle: {\n                                color: '#F5F7F9'\n                            }\n                        },\n                        data: this.xData,\n                        boundaryGap: false\n                    },\n                    yAxis: {\n                        axisLine: {\n                            show: false\n                        },\n                        axisTick: {\n                            show: false\n                        },\n                        axisLabel: {\n                            textStyle: {\n                                color: '#7F8B9C'\n                            }\n                        },\n                        splitLine: {\n                            show: true,\n                            lineStyle: {\n                                color: '#F5F7F9'\n                            }\n                        },\n                        type: 'value'\n                    },\n                    legend: {\n                        data: ['浏览量（PV）', '访客数（UV）'],\n                        x: 'right'\n                    },\n                    series: [\n                        {\n                            data: this.y1Data,\n                            name: '浏览量（PV）',\n                            type: 'line',\n                            tooltip: true,\n                            smooth: true,\n                            symbol: 'none',\n                            areaStyle: {\n                                normal: {\n                                    opacity: 0.2\n                                }\n                            }\n                        },\n                        {\n                            data: this.y2Data,\n                            name: '访客数（UV）',\n                            type: 'line',\n                            tooltip: true,\n                            smooth: true,\n                            symbol: 'none',\n                            areaStyle: {\n                                normal: {\n                                    opacity: 0.2\n                                }\n                            }\n                        }\n                    ],\n                    color: ['#1495EB', '#00CC66', '#F9D249', '#ff9900', '#9860DF'],\n                    grid: {\n                        left: 20,\n                        right: 20,\n                        bottom: 20,\n                        top: 40,\n                        containLabel: true\n                    },\n                    tooltip: {\n                        trigger: 'axis'\n                    }\n                }\n            );\n        },\n        handleResize () {\n            this.visitChart.resize();\n        }\n    },\n    beforeDestroy () {\n        if (this.visitChart) {\n            this.visitChart.dispose();\n            this.visitChart = null;\n        }\n    }\n}\n",null]}