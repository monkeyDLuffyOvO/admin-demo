{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/product/specs/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/product/specs/index.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import { mapState } from 'vuex';\n    import { productSpecsList } from '@/api/product';\n    export default {\n        name: \"specs\",\n        data() {\n            return {\n                grid: {\n                    xl: 7,\n                    lg: 7,\n                    md: 12,\n                    sm: 24,\n                    xs: 24\n                },\n                loading: false,\n                columns1: [\n                    {\n                        title: 'ID',\n                        key: 'id',\n                        width: 80\n                    },\n                    {\n                        title: '参数模板名称',\n                        key: 'name',\n                        minWidth: 100\n                    },\n                    {\n                        title: '排序',\n                        key: 'sort',\n                        width: 100\n                    },\n                    {\n                        title: '创建时间',\n                        key: 'add_time',\n                        minWidth: 100\n                    },\n                    {\n                        title: '操作',\n                        slot: 'action',\n                        fixed: 'right',\n                        minWidth: 120\n                    }\n                ],\n                specsFrom: {\n                    page: 1,\n                    limit: 15,\n\t\t\t\t\t          name:''\n                },\n                list: [],\n                total:0\n            }\n        },\n        computed: {\n            ...mapState('admin/layout', [\n                'isMobile'\n            ]),\n            labelWidth () {\n                return this.isMobile ? undefined : 96;\n            },\n            labelPosition () {\n                return this.isMobile ? 'top' : 'right';\n            }\n        },\n        created () {\n            this.getList();\n        },\n        methods:{\n\t\t\t\t\t\tspecsSearchs(){\n\t\t\t\t\t\t\tthis.specsFrom.page = 1;\n\t\t\t\t\t\t\tthis.list = [];\n\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t},\n            // 添加\n            add () {\n                this.$router.push({ path: \"/admin/product/ensure/create/\" + 0 });\n            },\n            // 单位列表\n            getList () {\n                this.loading = true;\n                productSpecsList(this.specsFrom).then(res => {\n                    let data = res.data;\n                    this.list = data.list;\n                    this.total = data.count;\n                    this.loading = false;\n                }).catch(err => {\n                    this.loading = false;\n                    this.$Message.error(err.msg);\n                })\n            },\n            pageChange (index) {\n                this.specsFrom.page = index;\n                this.getList();\n            },\n            //修改\n            edit(id){\n\t\t\t\t\t\t\t  this.$router.push({ path: \"/admin/product/ensure/create/\" + id });\n            },\n            // 删除\n            del (row, tit, num) {\n                let delfromData = {\n                    title: tit,\n                    num: num,\n                    url: `product/specs/${row.id}`,\n                    method: 'DELETE',\n                    ids: ''\n                };\n                this.$modalSure(delfromData).then((res) => {\n                    this.$Message.success(res.msg);\n                    this.list.splice(num, 1);\n\t\t\t\t\t\t\t\t\t\tif (!this.list.length) {\n\t\t\t\t\t\t\t\t\t\t  this.specsFrom.page =\n\t\t\t\t\t\t\t\t\t\t    this.specsFrom.page == 1 ? 1 : this.specsFrom.page - 1;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthis.getList();\n                }).catch(err => {\n                    this.$Message.error(err.msg);\n                });\n            }\n        }\n    }\n",null]}