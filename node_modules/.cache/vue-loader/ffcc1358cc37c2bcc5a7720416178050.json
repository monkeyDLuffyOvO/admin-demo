{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/setting/storeService/feedback.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/setting/storeService/feedback.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import { kefuFeedBack, kefuFeedBackEdit } from '@/api/setting';\n    import { mapState } from 'vuex';\n    import timeOptions from \"@/utils/timeOptions\";\n    export default {\n        name: 'feedback',\n        data () {\n            return {\n                loading: false,\n                list: [],\n                page: 1,\n                limit: 15,\n                options: timeOptions,\n                formValidate: {\n                    time: '',\n                    title: ''\n                },\n                fromList: {\n                    title: '选择时间',\n                    custom: true,\n                    fromTxt: [\n                        { text: '全部', val: '' },\n                        { text: '今天', val: 'today' },\n                        { text: '昨天', val: 'yesterday' },\n                        { text: '最近7天', val: 'lately7' },\n                        { text: '最近30天', val: 'lately30' },\n                        { text: '本月', val: 'month' },\n                        { text: '本年', val: 'year' }\n                    ]\n                },\n                timeVal: [],\n                count: 0,\n                columns1: [\n                    {\n                        title: 'ID',\n                        key: 'id',\n                        width: 80\n                    },\n                    {\n                        title: '昵称',\n                        key: 'rela_name',\n                        minWidth: 120\n                    },\n                    {\n                        title: '电话',\n                        key: 'phone',\n                        minWidth: 120\n                    },\n                    {\n                        title: '内容',\n                        key: 'content',\n                        minWidth: 320\n                    },\n                    {\n                        title: '状态',\n                        slot: 'status',\n                        minWidth: 120\n                    },\n                    {\n                        title: '时间',\n                        key: 'add_time',\n                        minWidth: 120\n                    },\n                    {\n                        title: '操作',\n                        slot: 'action',\n                        fixed: 'right',\n                        minWidth: 150\n                    }\n                ]\n            }\n        },\n        computed: {\n\t\t\t\t\t\t...mapState(\"admin/layout\", [\"isMobile\"]),\n            labelWidth () {\n                return this.isMobile ? undefined : 96\n            },\n            labelPosition () {\n                return this.isMobile ? 'top' : 'right'\n            }\n        },\n        created () {\n            this.getList()\n        },\n        methods: {\n            // 备注；\n            remarks (id) {\n                this.$modalForm(kefuFeedBackEdit(id)).then(() => this.getList());\n            },\n            // 选择\n            selChange () {\n                this.page = 1;\n                this.getList()\n            },\n            // 选择时间\n            selectChange (tab) {\n                this.formValidate.time = tab\n                this.timeVal = []\n                this.page = 1\n                this.getList()\n            },\n            // 具体日期\n            onchangeTime (e) {\n                this.timeVal = e\n                this.formValidate.time = this.timeVal.join('-')\n            },\n            getList () {\n                kefuFeedBack({\n                    page: this.page,\n                    limit: this.limit,\n                    time: this.formValidate.time,\n                    title: this.formValidate.title\n                }).then(res => {\n                    this.list = res.data.data\n                    this.count = res.data.count\n                })\n            },\n            // 删除\n            del (row, tit, num) {\n                let delfromData = {\n                    title: tit,\n                    num: num,\n                    url: `/app/feedback/${row.id}`,\n                    method: 'DELETE',\n                    ids: ''\n                };\n                this.$modalSure(delfromData).then((res) => {\n                    this.$Message.success(res.msg);\n                    this.list.splice(num, 1);\n                }).catch(res => {\n                    this.$Message.error(res.msg);\n                });\n            },\n            pageChange (index) {\n                this.page = index;\n                this.getList();\n            }\n        }\n    }\n",null]}