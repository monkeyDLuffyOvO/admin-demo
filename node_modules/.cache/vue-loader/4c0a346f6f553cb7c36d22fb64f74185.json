{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/system/out/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/system/out/index.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import { mapState } from 'vuex';\n    import { outListApi, outStatusApi, outSaveApi, outSavesApi } from '@/api/setting';\n    export default {\n        name: 'user_level',\n        data () {\n            return {\n                grid: {\n                    xl: 7,\n                    lg: 7,\n                    md: 12,\n                    sm: 24,\n                    xs: 24\n                },\n\t\t\t\tmodalsid: '',\n                loading: false,\n                columns1: [\n                    {\n                        title: 'ID',\n                        key: 'id',\n                        width: 50\n                    },\n                    {\n                        title: '账号',\n                        key: 'appid',\n                        minWidth: 100\n                    },\n                    {\n                        title: '描述',\n                        key: 'title',\n                        minWidth: 120\n                    },\n\t\t\t\t\t{\n\t\t\t\t\t    title: '添加时间',\n\t\t\t\t\t    key: 'add_time',\n\t\t\t\t\t    minWidth: 100\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t    title: '最后登录时间',\n\t\t\t\t\t    key: 'last_time',\n\t\t\t\t\t    minWidth: 100\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t    title: '登录',\n\t\t\t\t\t    key: 'ip',\n\t\t\t\t\t    minWidth: 100\n\t\t\t\t\t},\n                    {\n                        title: '状态',\n                        slot: 'status',\n                        minWidth: 120\n                    },\n                    {\n                        title: '操作',\n                        slot: 'action',\n                        fixed: 'right',\n                        minWidth: 80\n                    }\n                ],\n                formValidate: {\n                    name: '',\n\t\t\t\t\tstatus: \"\",\n                    page: 1,\n                    limit: 15\n                },\n\t\t\t\tmodalsdate:{\n\t\t\t\t\tappid: \"\",\n\t\t\t\t\tappsecret: '',\n\t\t\t\t\ttitle: ''\n\t\t\t\t},\n\t\t\t\t ruleValidate: {\n\t\t\t\t\tappid: [\n\t\t\t\t\t\t{ required: true, message: '请输入正确的账号 (不少于8位数)', trigger: 'blur', min:8}\n\t\t\t\t\t],\n\t\t\t\t\tappsecret: [\n\t\t\t\t\t\t{ required: true, message: '请输入正确的密码 (不少于32位数)', trigger: 'blur', min:32 }\n\t\t\t\t\t]\n\t\t\t\t},\n                levelLists: [],\n                total: 0,\n\t\t\t\tmodals: false,\n\t\t\t\ttype: 0,\n            }\n        },\n        created () {\n            this.getList();\n        },\n        computed: {\n            ...mapState('admin/layout', [\n                'isMobile'\n            ]),\n            labelWidth () {\n                return this.isMobile ? undefined : 96;\n            },\n            labelPosition () {\n                return this.isMobile ? 'top' : 'right';\n            }\n        },\n        methods: {\n            // 删除\n            del (row, tit, num) {\n                let delfromData = {\n                    title: tit,\n                    num: num,\n                    url: `setting/system_out/delete/${row.id}`,\n                    method: 'DELETE',\n                    ids: ''\n                };\n                this.$modalSure(delfromData).then((res) => {\n                    this.$Message.success(res.msg);\n                    this.levelLists.splice(num, 1);\n                }).catch(res => {\n                    this.$Message.error(res.msg);\n                });\n            },\n            // 修改是否显示\n            onchangeIsShow (row) {\n                outStatusApi(row.id,row.status).then(res => {\n                    this.$Message.success(res.msg);\n                }).catch(res => {\n                    this.$Message.error(res.msg);\n                })\n            },\n            // 等级列表\n            getList () {\n                this.loading = true;\n                outListApi(this.formValidate).then(res => {\n                    let data = res.data\n                    this.levelLists = data.list;\n                    this.total = data.count;\n                    this.loading = false;\n                }).catch(res => {\n                    this.loading = false;\n                    this.$Message.error(res.msg);\n                })\n            },\n            pageChange (index) {\n                this.formValidate.page = index;\n                this.getList();\n            },\n            // 添加\n\t\t\tadd() {\n\t\t\t    this.modals = true\n\t\t\t\tthis.type = 0\n\t\t\t},\n            // 编辑\n            edit (row) {\n\t\t\t\tthis.modals = true\n\t\t\t\tthis.modalsdate.appid = row.appid\n\t\t\t\tthis.modalsdate.title = row.title\n\t\t\t\tthis.modalsid = row.id\n\t\t\t\tthis.type = 1\n            },\n\t\t\tok(name){\n\t\t\t\tthis.$refs[name].validate((valid) => {\n\t\t\t\t  if (valid) {\n\t\t\t\t\t  outSaveApi(this.modalsdate).then(res=>{\n\t\t\t\t\t\t  this.modalsdate = {\n\t\t\t\t\t\t  \tappid: \"\",\n\t\t\t\t\t\t  \tappsecret: '',\n\t\t\t\t\t\t  \ttitle: ''\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t  this.modals = false,\n\t\t\t\t\t\t  this.$Message.success(res.msg);\n\t\t\t\t\t\t  this.modalsid = ''\n\t\t\t\t\t\t  this.getList()\n\t\t\t\t\t  }).catch(err=>{\n\t\t\t\t\t\t  this.$Message.error(err.msg);\n\t\t\t\t\t  })\n\t\t\t\t  } else {\n\t\t\t\t    this.$Message.warning(\"请完善数据\");\n\t\t\t\t  }\n\t\t\t\t});\n\t\t\t},\n\t\t\toks(name){\n\t\t\t\tthis.$refs[name].validate((valid) => {\n\t\t\t\t  if (valid) {\n\t\t\t\t\t  outSavesApi(this.modalsid,this.modalsdate).then(res=>{\n\t\t\t\t\t\t  this.modalsdate = {\n\t\t\t\t\t\t  \tappid: \"\",\n\t\t\t\t\t\t  \tappsecret: '',\n\t\t\t\t\t\t  \ttitle: ''\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t  this.modals = false,\n\t\t\t\t\t\t  this.$Message.success(res.msg);\n\t\t\t\t\t\t  this.modalsid = ''\n\t\t\t\t\t\t  this.getList()\n\t\t\t\t\t  }).catch(err=>{\n\t\t\t\t\t\t  this.$Message.error(err.msg);\n\t\t\t\t\t  })\n\t\t\t\t  } else {\n\t\t\t\t    this.$Message.warning(\"请完善数据\");\n\t\t\t\t  }\n\t\t\t\t});\n\t\t\t},\n\t\t\tcancel(){\n\t\t\t\tthis.modalsid = ''\n\t\t\t\tthis.modalsdate = {\n\t\t\t\t\tappid: \"\",\n\t\t\t\t\tappsecret: '',\n\t\t\t\t\ttitle: ''\n\t\t\t\t}\n\t\t\t\tthis.modals = false\n\t\t\t},\n\t\t\treset(){\n\t\t\t\t  let len = 32\n\t\t\t\t  let chars =\n\t\t\t\t\t'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678' \n\t\t\t\t  let maxPos = chars.length\n\t\t\t\t  let pwd = ''\n\t\t\t\t  for (let i = 0; i < len; i++) {\n\t\t\t\t\tpwd += chars.charAt(Math.floor(Math.random() * maxPos))\n\t\t\t\t  }\n\t\t\t\t  this.modalsdate.appsecret =  pwd\n\t\t\t},\n            // 表格搜索\n            userSearchs () {\n                this.formValidate.page = 1;\n                this.getList();\n            }\n        }\n    }\n",null]}