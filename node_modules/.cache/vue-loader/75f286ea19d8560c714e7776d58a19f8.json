{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/work/channelCode/index.vue?vue&type=template&id=32c755ce&scoped=true&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/work/channelCode/index.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["\n<!-- 企业微信-企微渠道码 -->\n  <div>\n    <!-- <div class=\"i-layout-page-header\">\n      <PageHeader\n        class=\"product_tabs\"\n        title=\"企业渠道码\"\n        hidden-breadcrumb\n      ></PageHeader>\n    </div> -->\n     <Card :bordered=\"false\" dis-hover class=\"ivu-mt\" :padding=\"0\">\n      <div class=\"new_card_pd\">\n        <!-- 提示 -->\n        <Alert closable show-icon>\n          <p>\n            1.可以生成带参数的二维码名片，支持活码功能，即随机选取设置的活码成员推给用户。加企业微信为好友后，可以给微信联系人自动回复相应欢迎消息和打标签。\n          </p>\n          <p>\n            2.受限于官方，单人类型的渠道码创建后尽量不要再修改成员，否则会造成列表中，该二维码中间的头像与配置的成员头像不一致，但是并不影响功能使用。\n          </p>\n          <p>\n            3.如果企业在企业微信后台为相关成员配置了可用的欢迎语，使用本系统配置欢迎语，则均不起效，推送的还是企业微信官方的。\n          </p>\n        </Alert>\n        <!-- 查询条件 -->\n      <Form :label-width=\"96\" inline :label-colon=\"true\">\n          <FormItem label=\"二维码搜索\">\n              <Input placeholder=\"请输入二维码名称\" v-model=\"tableFrom.name\" class=\"input-add\"/>\n          </FormItem>\n          <FormItem label=\"类型选择\">\n              <Select class=\"input-add mr14\" clearable  v-model=\"tableFrom.type\">\n                <Option value=\"0\">全天在线</Option>\n                <Option value=\"1\">自动上下线</Option>\n              </Select>\n              <Button type=\"primary\" @click=\"codeSearchs()\">查询</Button>\n          </FormItem>\n          </Form>\n      </div>\n     </Card>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <Row type=\"flex\" :wrap=\"false\">\n        <Col class=\"left-wrapper\">\n          <Menu :active-name=\"sortName\">\n            <MenuItem :name=\"item.id\" \n            class=\"menu-item\"\n            :class=\"index === current ? 'showOn' : ''\"\n            v-for=\"(item,index) in channelCateList\" :key=\"index\"\n            @click.native=\"bindMenuItem(item, index)\">\n            {{item.name}}\n            <div class=\"icon-box\" v-if=\"index != 0\">\n                <Icon type=\"ios-more\" size=\"24\" @click.stop=\"showMenu(item)\" />\n              </div>\n              <div\n                class=\"right-menu ivu-poptip-inner\"\n                v-show=\"item.status\"\n                v-if=\"index != 0\"\n              >\n                <div class=\"ivu-poptip-body\" @click=\"labelEdit(item)\">\n                  <div class=\"ivu-poptip-body-content\">\n                    <div class=\"ivu-poptip-body-content-inner\">编辑</div>\n                  </div>\n                </div>\n                <div\n                  class=\"ivu-poptip-body\"\n                  @click=\"delChannelCate(item, '删除分类', index)\"\n                >\n                  <div class=\"ivu-poptip-body-content\">\n                    <div class=\"ivu-poptip-body-content-inner\">删除</div>\n                  </div>\n                </div>\n              </div>\n            </MenuItem>\n          </Menu>\n        </Col>\n        <Col class=\"auto\">\n        <div class=\"acea-row ml-20 mb-15\">\n            <router-link :to=\"'/admin/work/createCode'\">\n              <Button type=\"primary\" class=\"mr-12\">添加二维码</Button\n              >\n            </router-link>\n            <Button type=\"success\" class=\"mr-12\"  @click=\"addChannelCate()\">添加分类</Button>\n            <Button class=\"mr-12\"  @click=\"branchCate()\" :disabled=\"!branchRow.length\">批量移动</Button>\n            <Button class=\"mr-12\"  @click=\"downPic()\" :disabled=\"!branchRow.length\">批量下载</Button>\n          </div>\n          <Table ref=\"selection\" \n          :columns=\"columns1\" \n          :data=\"tableData.list\" \n          :loading=\"loading\"\n          @on-select-all=\"selectAll\"\n          @on-select-all-cancel=\"selectAll\"\n          @on-selection-change=\"handleSelectRow\">\n            <template slot-scope=\"{ row }\" slot=\"qrcode_url\">\n              <viewer class=\"acea-row\">\n                <div class=\"tabBox_img\">\n                  <img v-lazy=\"row.qrcode_url\" />\n                </div>\n              </viewer>\n            </template>\n            <template slot-scope=\"{ row }\" slot=\"category\">\n              <span v-if=\"row.category\">{{row.category.name}}</span>\n            </template>\n            <template slot-scope=\"{ row }\" slot=\"skip_verify\">\n              <span>{{row.skip_verify ? '自动添加' : '手动添加'}}</span>\n            </template>\n            <template slot-scope=\"{ row }\" slot=\"type\">\n              <span>{{row.type ? '自动上线' : '全天在线'}}</span>\n            </template>\n            <template slot-scope=\"{ row }\" slot=\"label_name\">\n              <Tag  size=\"medium\" v-for=\"(item,index1) in row.label_name\" :key=\"index1\">{{item}}</Tag>\n            </template>\n            <template slot-scope=\"{ row, index }\" slot=\"action\">\n              <a @click=\"editData(row)\">编辑</a>\n              <Divider type=\"vertical\" />\n              <a @click=\"codeInfo(row)\">详情</a>\n              <Divider type=\"vertical\" />\n              <template>\n                <Dropdown\n                  @on-click=\"changeMenu(row, $event, index)\"\n                  style=\"z-index: 999\"\n                >\n                  <a href=\"javascript:void(0)\">\n                    更多\n                    <Icon type=\"ios-arrow-down\"></Icon>\n                  </a>\n                  <DropdownMenu slot=\"list\">\n                    <DropdownItem name=\"1\">移动</DropdownItem>\n                    <DropdownItem name=\"2\">删除</DropdownItem>\n                    <DropdownItem name=\"3\">客户列表</DropdownItem>\n                  </DropdownMenu>\n                </Dropdown>\n              </template>\n            </template>\n          </Table>\n          <div class=\"acea-row row-right page\">\n            <Page\n              :total=\"tableData.count\"\n              :current=\"tableFrom.page\"\n              show-elevator\n              show-total\n              @on-change=\"pageChange\"\n              :page-size=\"tableFrom.limit\"\n            />\n          </div>\n        </Col>\n      </Row>\n    </Card>\n     <Modal\n        v-model=\"codeInfoStatus\"\n        title=\"渠道码详情\"\n        :footer-hide=\"true\"\n        width=\"900\"\n        >\n        <div class=\"acea-row\">\n          <div class=\"left_container acea-row row-center\">\n            <div class=\"qrcode_box\">\n              <img :src=\"infoData.qrcode_url\" alt=\"\">\n              <p class=\"qrcode_name\">{{infoData.name}}</p>\n              <Button type=\"primary\" :long=\"true\" @click=\"downloadCodeImg()\">下载活码</Button>\n              <Button :long=\"true\" class=\"mt12\" @click=\"editData(infoData)\">修改</Button>\n            </div>\n          </div>\n          <div class=\"right_container\">\n            <p class=\"base_info\">基本信息</p>\n            <p class=\"base_cell\">创建时间：{{infoData.create_time}} </p> \n            <p class=\"base_cell\">当前使用成员：\n              <span v-for=\"(item,index) in infoData.presentUseUserList\" :key=\"index\">{{item}}&nbsp;</span>\n            </p>\n            <p class=\"base_cell\">备用成员：\n              <span v-for=\"(item,index) in infoData.reserve_user_list\" :key=\"index\">{{item}}&nbsp;</span>\n            </p>\n            <p class=\"base_cell\" v-if=\"infoData.type === 1\">使用成员：\n              <span v-for=\"(item,index) in infoData.cycle\" :key=\"index\">\n                <span v-for=\"(item1,index1) in item.userItem\" :key=\"index1\">\n                  {{item1.name}}\n                </span>\n                &nbsp;</span>\n            </p>\n            <p class=\"base_cell\" v-if=\"infoData.type === 0\">使用成员：\n              <span v-for=\"(item,index) in infoData.user_list\" :key=\"index\">{{item.name}}&nbsp;</span>\n            </p>\n            <p class=\"base_cell\">员工添加上限：{{infoData.add_upper_limit ? '开启' : '关闭'}}</p>\n            <p class=\"base_cell\">自动通过好友：{{infoData.skip_verify ? '开启' : '关闭'}}</p>\n            <div class=\"dashed_line\"></div>\n            <p class=\"base_info\">欢迎语设置</p>\n            <div class=\"welcome_card acea-row\" v-for=\"(item,index) in infoData.welcome_words.attachments\" :key=\"index\">\n              <span class=\"pr-10\">欢迎语{{index + 1}}: </span>\n              <img v-if=\"item.msgtype == 'image'\" :src=\"item.image.pic_url\" alt=\"\" >\n              <div v-if=\"item.msgtype == 'miniprogram'\">\n                <span class=\"iconfont iconxiaochengxu\"></span>\n                <span>{{item.miniprogram.title}}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n    </Modal>\n    <Modal\n      v-model=\"clentStatus\"\n      title=\"客户列表\"\n      :footer-hide=\"true\"\n      width=\"600\"\n      >\n      <Table :columns=\"clientColumn\" :data=\"clientList.list\" :loading=\"userLoading\">\n         <template slot-scope=\"{ row }\" slot=\"avatar\">\n          <viewer class=\"acea-row row-center\">\n            <div class=\"tabBox_img\">\n              <img v-lazy=\"row.client.avatar\" />\n            </div>\n          </viewer>\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"name\">\n          <span>{{row.client.name}}</span>\n        </template>\n      </Table>\n      <div class=\"acea-row row-right page\">\n        <Page\n          :total=\"clientList.count\"\n          :current=\"clientForm.page\"\n          show-elevator\n          show-total\n          @on-change=\"clientChange\"\n          :page-size=\"clientForm.limit\"\n        />\n      </div>\n    </Modal>\n    <Modal\n      v-model=\"branchStatus\"\n      title=\"移动分类\"\n      width=\"400\"\n      class-name=\"vertical-center-modal\"\n      @on-ok=\"branchCateConfirm\"\n      >\n      <Form :label-width=\"75\" label-position=\"right\" :label-colon=\"true\">\n        <FormItem label=\"分类\">\n          <Select v-model=\"branchCateId\" class=\"input-add\">\n              <Option v-for=\"item in channelCateList\" :value=\"item.id.toString()\" :key=\"item.id\">{{ item.name }}</Option>\n          </Select>\n        </FormItem>\n      </Form>\n    </Modal>\n  </div>\n",null]}