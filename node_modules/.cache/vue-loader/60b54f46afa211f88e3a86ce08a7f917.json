{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/store/statistics/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/store/statistics/index.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapState } from 'vuex'\nimport { headerApi, orderCharts, storeApi, operateApi } from '@/api/store'\nimport echartsFrom from '@/components/echarts/index'\nimport cardsData from \"@/components/cards/cards\";\nimport timeOptions from \"@/utils/timeOptions\"\nexport default {\n\tname: \"home\",\n\tcomponents: { cardsData, echartsFrom },\n\tdata() {\n\t\treturn{\n\t\t\tloading:false,\n\t\t\toptionData:{},\n\t\t\tformValidate: {\n\t\t\t  status: \"\",\n\t\t\t  extract_type: \"\",\n\t\t\t  nireid: \"\",\n\t\t\t  data: \"thirtyday\",\n\t\t\t  page: 1,\n\t\t\t  limit: 20,\n\t\t\t},\n\t\t\ttimeVal: [],\n\t\t\toptions:timeOptions,\n\t\t\tcardLists: [],\n\t\t\textractStatistics: {},\n\t\t\tseries: [],\n\t\t\tyAxisData: [],\n\t\t\tinfoList: {},\n\t\t\tinfoLists: {},\n\t\t\tcircle: 'circle1',\n\t\t\tinlie: 'inlie',\n\t\t\tcolumns: [\n\t\t\t    {\n\t\t\t        title: '门店名称',\n\t\t\t        key: 'name',\n\t\t\t        minWidth: 80\n\t\t\t    },\n\t\t\t    {\n\t\t\t        title: '门店实际收款',\n\t\t\t        width: 180,\n\t\t\t        key: 'store_price'\n\t\t\t    },\n\t\t\t    {\n\t\t\t        title: '门店商品销售额',\n\t\t\t        key: 'store_order_price',\n\t\t\t        minWidth: 100\n\t\t\t    },\n\t\t\t    {\n\t\t\t        title: '门店商品销量',\n\t\t\t        key: 'store_product_count',\n\t\t\t        minWidth: 100\n\t\t\t    },\n\t\t\t    {\n\t\t\t        title: '门店新增用户数',\n\t\t\t        key: 'store_user_count',\n\t\t\t        minWidth: 100\n\t\t\t    },\n\t\t\t],\n\t\t\tcolumns2: [\n\t\t\t    {\n\t\t\t        title: '头像',\n\t\t\t        slot: 'avatar',\n\t\t\t        minWidth: 50\n\t\t\t    },\n\t\t\t    {\n\t\t\t        title: '用户名称',\n\t\t\t        minWidth: 100,\n\t\t\t        slot: 'nickname'\n\t\t\t    },\n\t\t\t    {\n\t\t\t        title: '订单号',\n\t\t\t        key: 'order_id',\n\t\t\t        minWidth: 100\n\t\t\t    },\n\t\t\t    {\n\t\t\t        title: '交易金额',\n\t\t\t        slot: 'pay_price',\n\t\t\t        minWidth: 100\n\t\t\t    },\n\t\t\t    {\n\t\t\t        title: '成交时间',\n\t\t\t        slot: 'pay_time',\n\t\t\t        minWidth: 100\n\t\t\t    },\n\t\t\t],\n\t\t\ttabList: [],\n\t\t\ttabList2: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState('admin/layout', [\n\t\t    'isMobile'\n\t\t]),\n\t  labelWidth() {\n\t    return this.isMobile ? undefined : 80;\n\t  },\n\t  labelPosition() {\n\t    return this.isMobile ? \"top\" : \"right\";\n\t  },\n\t},\n\tcreated(){\n\t\tthis.cardList()\n\t\tthis.orderchart()\n\t\tthis.staff()\n\t\tthis.trends()\n\t},\n\tmethods:{\n\t\tint(){\n\t\t\tthis.cardList()\n\t\t\tthis.orderchart()\n\t\t\tthis.trends()\n\t\t\tthis.staff()\n\t\t},\n\t\ttrends(){\n\t\t\toperateApi({data:this.formValidate.data}).then(res=>{\n\t\t\t\tthis.infoList = res.data || {}\n\t\t\t\tthis.series = this.infoList.series || [],\n\t\t\t\tthis.yAxisData = [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'value',\n\t\t\t\t\t\tname: '',\n\t\t\t\t\t\taxisLine: {\n\t\t\t\t\t\t\tshow: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\taxisTick: {\n\t\t\t\t\t\t\tshow: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\t\t\tcolor: '#7F8B9C'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsplitLine: {\n\t\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\t\tcolor: '#F5F7F9'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'value',\n\t\t\t\t\t\tname: '',\n\t\t\t\t\t\taxisLine: {\n\t\t\t\t\t\t\tshow: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\taxisTick: {\n\t\t\t\t\t\t\tshow: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\t\t\tcolor: '#7F8B9C'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsplitLine: {\n\t\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\t\tcolor: '#F5F7F9'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t})\n\t\t},\n\t\torderchart(){\n\t\t\torderCharts({data:this.formValidate.data}).then(res=>{\n\t\t\t\tthis.tabList2 = res.data.order_list\n\t\t\t\tthis.infoLists = res.data\n\t\t\t\t\n\t\t\t})\n\t\t},\n\t\tstaff(){\n\t\t\tstoreApi({data:this.formValidate.data}).then(res=>{\n\t\t\t\tthis.tabList = res.data\n\t\t\t})\n\t\t},\n\t\t// 选择时间\n\t\tselectChange(tab) {\n\t\t  this.formValidate.page = 1;\n\t\t  this.formValidate.data = tab;\n\t\t  this.timeVal = [];\n\t\t  this.int()\n\t\t},\n\t\t// 具体日期\n\t\tonchangeTime(e) {\n\t\t  this.timeVal = e;\n\t\t  this.formValidate.data = this.timeVal[0] ? this.timeVal.join(\"-\") : \"\";\n\t\t  if(e[0]==''){\n\t\t\tthis.formValidate.data = 'thirtyday';\n\t\t  }\n\t\t  this.formValidate.page = 1;\n\t\t  this.int()\n\t\t},\n\t\tcardList(){\n\t\t\theaderApi({data:this.formValidate.data}).then(res=>{\n\t\t\t\tthis.extractStatistics = res.data\n\t\t\t\tthis.cardLists = [\n\t\t\t\t\t  {\n\t\t\t\t\t    col: 6,\n\t\t\t\t\t    count: this.extractStatistics.store_income,\n\t\t\t\t\t    name: \"门店订单金额\",\n\t\t\t\t\t    className: \"iconmendiandingdanjine\",\n\t\t\t\t\t\t\ttype:1\n\t\t\t\t\t  },\n\t\t\t\t\t  {\n\t\t\t\t\t    col: 6,\n\t\t\t\t\t    count: this.extractStatistics.store_use_yue,\n\t\t\t\t\t    name: \"余额消耗金额\",\n\t\t\t\t\t    className: \"iconyuexiaohaojine\",\n\t\t\t\t\t\t\ttype:1\n\t\t\t\t\t  },\n\t\t\t\t\t  {\n\t\t\t\t\t    col: 6,\n\t\t\t\t\t    count: this.extractStatistics.recharge_price,\n\t\t\t\t\t    name: \"用户充值金额\",\n\t\t\t\t\t    className: \"iconmendianxinzengyonghushu\",\n\t\t\t\t\t\t\ttype:1\n\t\t\t\t\t  },\n\t\t\t\t\t  {\n\t\t\t\t\t    col: 6,\n\t\t\t\t\t    count: this.extractStatistics.cashier_order_price,\n\t\t\t\t\t    name: \"收银订单金额\",\n\t\t\t\t\t    className: \"iconshouyindingdanjine\",\n\t\t\t\t\t\t\ttype:1\n\t\t\t\t\t  },\n\t\t\t\t\t  {\n\t\t\t\t\t    col: 6,\n\t\t\t\t\t    count: this.extractStatistics.vip_price,\n\t\t\t\t\t    name: \"付费会员金额\",\n\t\t\t\t\t    className: \"iconfufeihuiyuanjine\",\n\t\t\t\t\t\t\ttype:1\n\t\t\t\t\t  },\n\t\t\t\t\t  {\n\t\t\t\t\t    col: 6,\n\t\t\t\t\t    count: this.extractStatistics.store_order_price,\n\t\t\t\t\t    name: \"分配订单金额\",\n\t\t\t\t\t    className: \"iconfenpeidingdanjine\",\n\t\t\t\t\t\t\ttype:1\n\t\t\t\t\t  },\n\t\t\t\t\t  {\n\t\t\t\t\t    col: 6,\n\t\t\t\t\t    count: this.extractStatistics.store_writeoff_order_price,\n\t\t\t\t\t    name: \"核销订单金额\",\n\t\t\t\t\t    className: \"iconhexiaodingdanjine\",\n\t\t\t\t\t\t\ttype:1\n\t\t\t\t\t  },\n\t\t\t\t\t  {\n\t\t\t\t\t    col: 6,\n\t\t\t\t\t    count: this.extractStatistics.store_user_count,\n\t\t\t\t\t    name: \"门店新增用户数\",\n\t\t\t\t\t    className: \"iconxinzengyonghushu1\",\n\t\t\t\t\t\t\ttype:1\n\t\t\t\t\t  },\n\t\t\t\t\t  {\n\t\t\t\t\t    col: 6,\n\t\t\t\t\t    count: this.extractStatistics.store_pay_user_count,\n\t\t\t\t\t    name: \"门店成交用户数\",\n\t\t\t\t\t    className: \"iconmendianchengjiaoyonghushu\",\n\t\t\t\t\t\t\ttype:1\n\t\t\t\t\t  },\n\t\t\t\t\t  {\n\t\t\t\t\t    col: 6,\n\t\t\t\t\t    count: this.extractStatistics.card_count,\n\t\t\t\t\t    name: \"微信会员卡激活数\",\n\t\t\t\t\t    className: \"iconhuiyuankajihuoshu\",\n\t\t\t\t\t\t\ttype:1\n\t\t\t\t\t  }\n\t\t\t\t\t]\n\t\t\t\t\n\t\t\t})\n\t\t\t},\n\t\t\n\t\t// 监听页面宽度变化，刷新表格\n\t\thandleResize () {\n\t\t    if (this.infoList) this.$refs.visitChart.handleResize()\n\t\t}\n\t}\n}\n",null]}