{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/kefu/mobile/user/userLabel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/kefu/mobile/user/userLabel.vue","mtime":1640264908000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { userLabel,userLabelPut } from '@/api/kefu'\nexport default {\n    name: \"userLaber\",\n    props: {\n        change: Boolean,\n        uid: Number,\n        labelList: {\n            type: Array,\n            default: ()=> []\n        }\n    },\n    data() {\n        return {\n          //  labelList:[],\n            activeIds:[]\n        }\n    },\n    watch: {\n        labelList: function (data) {\n            data.map(el=>{\n                el.label.map(label=>{\n                    if(label.disabled){\n                        this.activeIds.push(label.id)\n                    }\n                })\n            })\n        }\n    },\n    methods: {\n        selectLabel(label){\n            if(label.disabled){\n                let index = this.activeIds.indexOf(label.id)\n                this.activeIds.splice(index,1)\n                label.disabled = false\n            }else{\n                this.activeIds.push(label.id)\n                label.disabled = true\n            }\n        },\n        // 确定\n        subBtn(){\n            let unLaberids = [];\n            this.labelList.map(item=>{\n                item.label.map( i => {\n                    if(i.disabled == false){\n                        unLaberids.push(i.id);\n                    }\n                });\n            });\n            userLabelPut(this.uid,{\n                label_ids: this.activeIds,\n                un_label_ids: unLaberids\n            }).then(res=>{\n                this.$Message.success(res.msg)\n                this.$emit('editLabel', false)\n            }).catch(error=>{\n                this.$Message.error(error.msg)\n            })\n        },\n        close: function () {\n            this.$emit(\"closeChange\", false);\n        },\n    }\n}\n",null]}