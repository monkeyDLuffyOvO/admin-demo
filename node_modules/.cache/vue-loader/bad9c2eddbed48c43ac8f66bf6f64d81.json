{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/components/customerInfo/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/components/customerInfo/index.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { kefucreateApi } from \"@/api/setting\";\nimport template from \"../../pages/setting/devise/template.vue\";\nimport timeOptions from \"@/utils/timeOptions\";\nimport { mapState } from 'vuex';\nexport default {\n  components: { template },\n  name: \"index\",\n  data() {\n    return {\n      formValidate: {\n        page: 1,\n        limit: 15,\n        data: \"\",\n        nickname: \"\",\n      },\n      tableList2: [],\n      timeVal: [],\n      options: timeOptions,\n      fromList: {\n        title: \"选择时间\",\n        custom: true,\n        fromTxt: [\n          { text: \"全部\", val: \"\" },\n          { text: \"今天\", val: \"today\" },\n          { text: \"昨天\", val: \"yesterday\" },\n          { text: \"最近7天\", val: \"lately7\" },\n          { text: \"最近30天\", val: \"lately30\" },\n          { text: \"本月\", val: \"month\" },\n          { text: \"本年\", val: \"year\" },\n        ],\n      },\n      currentid: 0,\n      productRow: {},\n      columns4: [\n        {\n          title: \"选择\",\n          key: \"chose\",\n          width: 60,\n          align: \"center\",\n          render: (h, params) => {\n            let uid = params.row.uid;\n            let flag = false;\n            if (this.currentid === uid) {\n              flag = true;\n            } else {\n              flag = false;\n            }\n            let self = this;\n            return h(\"div\", [\n              h(\"Radio\", {\n                props: {\n                  value: flag,\n                },\n                on: {\n                  \"on-change\": () => {\n                    self.currentid = uid;\n                    this.productRow = params.row;\n                    if (this.productRow.uid) {\n                      if (this.$route.query.fodder === \"image\") {\n                        /* eslint-disable */\n                        let imageObject = {\n                          image: this.productRow.headimgurl,\n                          uid: this.productRow.uid,\n                        };\n                        form_create_helper.set(\"image\", imageObject);\n                        form_create_helper.close(\"image\");\n                      } else {\n                        this.$emit(\"imageObject\", {\n                          image: this.productRow.headimgurl,\n                          uid: this.productRow.uid,\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: this.productRow.nickname\n                        });\n                      }\n                    } else {\n                      this.$Message.warning(\"请先选择商品\");\n                    }\n                  },\n                },\n              }),\n            ]);\n          },\n        },\n        {\n          title: \"ID\",\n          key: \"uid\",\n          width: 80,\n        },\n        {\n          title: \"微信用户名称\",\n          key: \"nickname\",\n          minWidth: 180,\n        },\n        {\n          title: \"客服头像\",\n          slot: \"headimgurl\",\n          minWidth: 60,\n        },\n        {\n          title: \"用户类型\",\n          slot: \"user_type\",\n          minWidth: 100,\n        },\n        {\n          title: \"性别\",\n          slot: \"sex\",\n          minWidth: 60,\n        },\n        {\n          title: \"地区\",\n          slot: \"country\",\n          minWidth: 120,\n        },\n        {\n          title: \"是否关注公众号\",\n          slot: \"subscribe\",\n          minWidth: 120,\n        },\n      ],\n      loading2: false,\n      total2: 0,\n    };\n  },\n  computed: {\n    ...mapState('admin/layout', [\n        'isMobile'\n    ]),\n    labelWidth () {\n        return this.isMobile ? undefined : 96;\n    },\n    labelPosition () {\n        return this.isMobile ? 'top' : 'right';\n    }\n  },\n  created() {},\n  mounted() {\n    this.getListService();\n  },\n  methods: {\n    // 具体日期\n    onchangeTime(e) {\n      this.timeVal = e;\n      this.formValidate.data = this.timeVal[0] ? this.timeVal.join(\"-\") : \"\";\n      this.getListService();\n    },\n    // 选择时间\n    selectChange(tab) {\n      this.formValidate.data = tab;\n      this.timeVal = [];\n      this.getListService();\n    },\n    // 客服列表\n    getListService() {\n      this.loading2 = true;\n      kefucreateApi(this.formValidate)\n        .then(async (res) => {\n          let data = res.data;\n          this.tableList2 = data.list;\n          this.total2 = data.count;\n          this.tableList2.map((item) => {\n            item._isChecked = false;\n          });\n          this.loading2 = false;\n        })\n        .catch((res) => {\n          this.loading2 = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    pageChange2(pageIndex) {\n      this.formValidate.page = pageIndex;\n      this.getListService();\n    },\n    // 搜索\n    userSearchs() {\n      this.formValidate.page = 1;\n      this.getListService();\n    },\n  },\n};\n",null]}