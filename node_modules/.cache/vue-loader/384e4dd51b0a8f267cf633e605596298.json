{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/statistic/transaction/components/toDay.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/statistic/transaction/components/toDay.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { statisticTopTradeApi } from '@/api/statistic'\nimport echartsNew from '@/components/echartsNew/index'\nimport echarts from 'echarts'\nexport default {\n    name: 'ToDay',\n    components: {\n        echartsNew\n    },\n    data() {\n        return {\n            style: {\n                height: '200px'\n            },\n            styleToday: {\n                height: '130px'\n            },\n            legendData: ['今天', '昨天'],\n            seriesData: [],\n            timer: [],\n            grid: {\n                xl: 12,\n                lg: 12,\n                md: 12,\n                sm: 24,\n                xs: 24\n            },\n            statisticsData: null,\n            optionTodatOrder: {}, // 今日订单数\n            orderData: {},\n            orderUserData: {},\n            optionData: {},  // 今日交易数据\n            listLoading: false,\n            optionDataOrder: {},\n            optionOrderUser: {} // 今日支付人数\n        }\n    },\n    beforeDestroy() {\n        if (this.visitChart) {\n            this.visitChart.dispose()\n            this.visitChart = null\n        }\n    },\n    mounted() {\n        this.getList()\n        // this.getOrder()\n        // this.getOrderUser()\n    },\n    methods: {\n        getList() {\n            this.listLoading = true\n            statisticTopTradeApi({time: 'today'}).then(res => {\n                // 今日交易数据\n                this.statisticsData = res.data;\n                const leftOrder = res.data.left;\n                const leftToday = [];\n                const leftLegendData = leftOrder.x;\n                Object.keys(leftOrder.series[0].value).forEach((key) => {\n                    leftToday.push(Number(leftOrder.series[0].value[key]))\n                })\n                const leftYesterday = [];\n                Object.keys(leftOrder.series[1].value).forEach((key) => {\n                    leftYesterday.push(Number(leftOrder.series[1].value[key]))\n                })\n                const seriesData = [\n                    {\n                        name: '今天',\n                        type: 'line',\n                        areaStyle: {\n                            normal: {\n                                color: new echarts.graphic.LinearGradient(\n                                    0, 0, 0, 1,\n                                    [{\n                                        offset: 0,\n                                        color: '#5B8FF9'\n                                    },\n                                        {\n                                            offset: 0.5,\n                                            color: '#fff'\n                                        },\n                                        {\n                                            offset: 1,\n                                            color: '#fff'\n                                        }\n                                    ]\n                                )\n                            }\n                        },\n                        itemStyle: {\n                            normal: {\n                                color: '#5B8FF9',\n                                lineStyle: {\n                                    color: '#5B8FF9'\n                                }\n                            }\n                        },\n                        data: leftToday,\n                        symbol: \"none\",\n                        smooth: true\n                    },\n                    {\n                        name: '昨天',\n                        type: 'line',\n                        areaStyle: {\n                            normal: {\n                                color: new echarts.graphic.LinearGradient(\n                                    0, 0, 0, 1,\n                                    [{\n                                        offset: 0,\n                                        color: '#BFBFBF'\n                                    },\n                                        {\n                                            offset: 0.5,\n                                            color: '#fff'\n                                        },\n                                        {\n                                            offset: 1,\n                                            color: '#fff'\n                                        }\n                                    ]\n                                )\n                            }\n                        },\n                        itemStyle: {\n                            normal: {\n                                color: '#D9D9D9',\n                                lineStyle: {\n                                    color: '#D9D9D9'\n                                }\n                            }\n                        },\n                        data: leftYesterday,\n                        symbol: \"none\",\n                        smooth: true\n                    }\n                ]\n                this.optionData = {\n                    tooltip: {\n                        trigger: 'axis',\n                    },\n                    legend: {\n                        x: '1px',\n                        y: '10px',\n                        data: ['今天', '昨天']\n                    },\n                    grid: {\n                        left: '0%',\n                        right: '4%',\n                        bottom: '3%',\n                        containLabel: true\n                    },\n                    xAxis: [{\n                        boundaryGap: false,\n                        data: leftLegendData,\n                        axisLine: {\n                            show: false\n                        },\n                        show: false\n                    }],\n                    yAxis: {\n                        show: false\n                    },\n                    series: seriesData\n                }\n\n                // 今日订单数\n                const rightOrder = res.data.right;\n                const rightLegendData = rightOrder.today.x;\n                const rightTodayOrder = [];\n                Object.keys(rightOrder.today.series[0].value).forEach((key) => {\n                    rightTodayOrder.push(Number(rightOrder.today.series[0].value[key]))\n                })\n                const rightSeriesDataOrder = [{\n                    name: '今天',\n                    type: 'line',\n                    areaStyle: {\n                        normal: {\n                            color: new echarts.graphic.LinearGradient(\n                                0, 0, 0, 1,\n                                [{\n                                    offset: 0,\n                                    color: '#5B8FF9'\n                                },\n                                    {\n                                        offset: 0.5,\n                                        color: '#fff'\n                                    },\n                                    {\n                                        offset: 1,\n                                        color: '#fff'\n                                    }\n                                ]\n                            )\n                        }\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: '#5B8FF9',\n                            lineStyle: {\n                                color: '#5B8FF9'\n                            }\n                        }\n                    },\n                    data: rightTodayOrder,\n                    symbol: \"none\",\n                    smooth: true\n                }]\n                this.optionTodatOrder = {\n                    tooltip: {\n                        trigger: 'axis',\n                        axisPointer: {\n                            type: 'cross',\n                            label: {\n                                backgroundColor: '#6a7985'\n                            }\n                        }\n                    },\n                    legend: {\n                        x: '1px',\n                        y: '10px',\n                        data: ['今天']\n                    },\n                    grid: {\n                        left: '0%',\n                        right: '4%',\n                        bottom: '3%',\n                        containLabel: true\n                    },\n                    axisLine: {\n                        show: false\n                    },\n                    xAxis: [{\n                        type: 'category',\n                        boundaryGap: false,\n                        data: rightLegendData,\n                        axisLine: {\n                            show: false\n                        },\n                        show: false\n                    }],\n                    yAxis: {\n                        show: false\n                    },\n                    series: rightSeriesDataOrder\n                }\n\n                // 今日支付人数\n                const rightTodayPay = [];\n                Object.keys(rightOrder.today.series[1].value).forEach((key) => {\n                    rightTodayPay.push(Number(rightOrder.today.series[1].value[key]))\n                })\n                const seriesDataPay = [{\n                    name: '今天',\n                    type: 'line',\n                    areaStyle: {\n                        normal: {\n                            color: new echarts.graphic.LinearGradient(\n                                0, 0, 0, 1,\n                                [{\n                                    offset: 0,\n                                    color: '#5B8FF9'\n                                },\n                                    {\n                                        offset: 0.5,\n                                        color: '#fff'\n                                    },\n                                    {\n                                        offset: 1,\n                                        color: '#fff'\n                                    }\n                                ]\n                            )\n                        }\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: '#5B8FF9',\n                            lineStyle: {\n                                color: '#5B8FF9'\n                            }\n                        }\n                    },\n                    data: rightTodayPay,\n                    symbol: \"none\",\n                    smooth: true\n                }]\n                this.optionOrderUser = {\n                    tooltip: {\n                        trigger: 'axis',\n                        axisPointer: {\n                            type: 'cross',\n                            label: {\n                                backgroundColor: '#6a7985'\n                            }\n                        }\n                    },\n                    legend: {\n                        x: '1px',\n                        y: '10px',\n                        data: ['今天']\n                    },\n                    grid: {\n                        left: '0%',\n                        right: '4%',\n                        bottom: '3%',\n                        containLabel: true\n                    },\n                    axisLine: {\n                        show: false\n                    },\n                    xAxis: [{\n                        type: 'category',\n                        boundaryGap: false,\n                        data: leftLegendData,\n                        axisLine: {\n                            show: false\n                        },\n                        show: false\n                    }],\n                    yAxis: {\n                        show: false\n                    },\n                    series: seriesDataPay\n                }\n            }).catch(res => {\n                this.listLoading = false\n                this.$Message.error(res.msg)\n            })\n        },\n        getOrder() {\n\n        },\n        getOrderUser() {\n\n        }\n    }\n}\n",null]}