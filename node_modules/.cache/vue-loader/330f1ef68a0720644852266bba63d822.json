{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/marketing/storeCombination/create.vue?vue&type=template&id=4ed01a40&scoped=true&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/marketing/storeCombination/create.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["\n<div class=\"form-submit\">\n    <div class=\"i-layout-page-header\">\n        <PageHeader class=\"product_tabs\" hidden-breadcrumb>\n            <div slot=\"title\">\n                <router-link :to=\"{ path: '/admin/marketing/store_combination/index' }\">\n                    <!-- <Button icon=\"ios-arrow-back\" size=\"small\"  class=\"mr20\">返回</Button> -->\n                    <div class=\"font-sm after-line\">\n                        <span class=\"iconfont iconfanhui\"></span>\n                        <span class=\"pl10\">返回</span>\n                    </div>\n                </router-link>\n                <span v-text=\"$route.params.id ? '编辑拼团商品' : '添加拼团商品'\" class=\"mr20 ml16\"></span>\n            </div>\n        </PageHeader>\n    </div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n        <Row type=\"flex\" class=\"mt30 acea-row row-middle row-center\">\n            <Col span=\"20\">\n            <Steps :current=\"current\">\n                <Step title=\"选择拼团商品\"></Step>\n                <Step title=\"填写基础信息\"></Step>\n                <Step title=\"修改商品详情\"></Step>\n            </Steps>\n            </Col>\n            <Col span=\"23\">\n            <Col span=\"24\">\n            <div class=\"lines mt25\"></div>\n            </Col>\n            <Form class=\"form mt30\" ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\"\n                :label-width=\"labelWidth\" :label-position=\"labelPosition\" @submit.native.prevent>\n                <FormItem label=\"选择商品：\" prop=\"image_input\" v-if=\"current === 0\">\n                    <div class=\"picBox\" @click=\"changeGoods\">\n                        <div class=\"pictrue\" v-if=\"formValidate.image\"><img v-lazy=\"formValidate.image\"></div>\n                        <div class=\"upLoad acea-row row-center-wrapper\" v-else>\n                            <Icon type=\"ios-camera-outline\" size=\"26\" />\n                        </div>\n                    </div>\n                </FormItem>\n                <Row v-show=\"current === 1\" type=\"flex\">\n                    <Col span=\"24\">\n                    <FormItem label=\"拼团活动名称：\" prop=\"title\" label-for=\"title\">\n                        <Input placeholder=\"请输入拼团活动名称\" element-id=\"title\" v-model=\"formValidate.title\"\n                            class=\"perW40\" />\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"拼团活动简介：\" prop=\"info\" label-for=\"info\">\n                        <Input placeholder=\"请输入拼团活动简介\" type=\"textarea\" :rows=\"4\" element-id=\"info\"\n                            v-model=\"formValidate.info\" class=\"perW40\" />\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"单位：\" prop=\"unit_name\" label-for=\"unit_name\">\n                        <Select v-model=\"formValidate.unit_name\" clearable placeholder=\"请输入单位\" class=\"perW40\">\n                            <Option v-for=\"(item, index) in unitNameList\" :value=\"item.name\" :key=\"index\">{{\n                                    item.name\n                            }}</Option>\n                        </Select>\n                        <span class=\"addClass\" @click=\"addUnit\">新增单位</span>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem prop=\"images\">\n                        <div class=\"custom-label\" slot=\"label\">\n                            <div>\n                                <div>商品轮播图</div>\n                            </div>\n                            <div>：</div>\n                        </div>\n                        <div class=\"acea-row\">\n                            <div class=\"pictrue\" v-for=\"(item, index) in formValidate.images\" :key=\"index\"\n                                draggable=\"true\" @dragstart=\"handleDragStart($event, item)\"\n                                @dragover.prevent=\"handleDragOver($event, item)\"\n                                @dragenter=\"handleDragEnter($event, item)\" @dragend=\"handleDragEnd($event, item)\">\n                                <img v-lazy=\"item\">\n                                <Button shape=\"circle\" icon=\"md-close\" @click.native=\"handleRemove(index)\"\n                                    class=\"btndel\"></Button>\n                            </div>\n                            <div v-if=\"formValidate.images.length < 10\" class=\"upLoad acea-row row-center-wrapper\"\n                                @click=\"modalPicTap('duo')\">\n                                <Icon type=\"ios-camera-outline\" size=\"26\" />\n                            </div>\n                        </div>\n                        <div class=\"tips\"> 建议尺寸：800 * 800px，可拖拽改变图片顺序，默认首张图为主图，最多上传10张</div>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <div class=\"lines\"></div>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"活动时间：\" prop=\"section_time\">\n                        <div class=\"acea-row row-middle\">\n                            <DatePicker :editable=\"false\" type=\"datetimerange\" format=\"yyyy-MM-dd HH:mm\"\n                                placeholder=\"请选择活动时间\" @on-change=\"onchangeTime\" :value=\"formValidate.section_time\"\n                                v-model=\"formValidate.section_time\" class=\"perW40\"></DatePicker>\n                        </div>\n                        <div class=\"tips\">设置活动开启结束时间，用户可以在设置时间内发起参与拼团</div>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"拼团时效：\" prop=\"effective_time\">\n                        <div class=\"acea-row row-middle\">\n                            <InputNumber :min=\"1\" :precision=\"0\" placeholder=\"请输入拼团时效\" class=\"perW40\"\n                                element-id=\"effective_time\" v-model=\"formValidate.effective_time\" />\n                            <span class=\"ml10\">小时</span>\n                        </div>\n                        <div class=\"tips\">用户发起拼团后开始计时，需在设置时间内邀请到规定好友人数参团，超过时效时间，则系统判定拼团失败，自动发起退款</div>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"拼团人次：\" prop=\"people\">\n                        <div class=\"acea-row row-middle\">\n                            <InputNumber :min=\"2\" @on-change=\"peopleChange\" placeholder=\"请输入拼团人次\" :precision=\"0\"\n                                element-id=\"people\" v-model=\"formValidate.people\" class=\"perW40\" />\n                            <span class=\"ml10\">次</span>\n                        </div>\n                        <div class=\"tips\">单次拼团需要参与的用户数</div>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"总购买数量限制：\" prop=\"num\">\n                        <div class=\"acea-row row-middle\">\n                            <InputNumber :min=\"1\" placeholder=\"请输入总数量限制\" :precision=\"0\" element-id=\"num\"\n                                v-model=\"formValidate.num\" class=\"perW40\" />\n                            <span class=\"ml10\">个</span>\n                        </div>\n                        <div class=\"tips\">该商品活动期间内，用户可购买的最大数量。例如设置为4，表示本次活动有效期内，每个用户最多可购买4件</div>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"单次购买数量限制：\" prop=\"once_num\">\n                        <div class=\"acea-row row-middle\">\n                            <InputNumber :min=\"1\" placeholder=\"请输入单次购买数量限制\" :precision=\"0\" element-id=\"once_num\"\n                                v-model=\"formValidate.once_num\" class=\"perW40\" />\n                            <span class=\"ml10\">个</span>\n                        </div>\n                        <div class=\"tips\">用户参与拼团时，一次购买最大数量限制。例如设置为2，表示每次参与拼团时，用户一次购买数量最大可选择2个</div>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"补齐人数：\">\n                        <div class=\"acea-row row-middle\">\n                            <InputNumber placeholder=\"请输入补齐人数\" @on-change=\"peopleNumchange\" :min=\"0\"\n                                :max=\"formValidate.people - 1\" :precision=\"0\" v-model=\"formValidate.peopleNum\"\n                                class=\"perW40\" />\n                            <span class=\"ml10\">人</span>\n                        </div>\n                        <div class=\"tips\">\n                            当用户参与拼团后，成团时效内未成团情况下，设置补齐人数可虚拟成团。例如：成团人数为10人，补齐人数为4人，真实用户需要参与6人成团才可以在最后未成团时自动补齐虚拟人员\n                        </div>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\" v-show=\"\">\n                    <FormItem label=\"虚拟成团比例(%)：\" prop=\"virtual\">\n                        <div class=\"acea-row row-middle\">\n                            <InputNumber :min=\"0\" disabled placeholder=\"请输入虚拟成团比例\" :precision=\"0\" :max=\"100\"\n                                element-id=\"virtual\" v-model=\"formValidate.virtual\" class=\"perW40\"\n                                :formatter=\"value => `${value}%`\" :parser=\"value => value.replace('%', '')\" />\n                        </div>\n                        <div class=\"tips\">拼团结束前若用户发起的活动未成团，并且现有人数比例大于设置比例，自动补齐人数，拼团成功。100%为不自动补齐</div>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"规格选择：\">\n                        <Table :data=\"specsData\" :columns=\"columns\" border @on-selection-change=\"changeCheckbox\">\n                            <template slot-scope=\"{ row, index }\" slot=\"pic\">\n                                <div class=\"acea-row row-middle row-center-wrapper\"\n                                    @click=\"modalPicTap('dan', 'danTable', index)\">\n                                    <div class=\"pictrue pictrueTab\" v-if=\"row.pic\"><img v-lazy=\"row.pic\"></div>\n                                    <div class=\"upLoad pictrueTab acea-row row-center-wrapper\" v-else>\n                                        <Icon type=\"ios-camera-outline\" size=\"21\" class=\"iconfont\" />\n                                    </div>\n                                </div>\n                            </template>\n                        </Table>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <div class=\"lines\"></div>\n                    </Col>\n                    <Col v-if=\"formValidate.product_type == 0\">\n                    <FormItem label=\"配送方式：\">\n                        <CheckboxGroup v-model=\"formValidate.delivery_type\">\n                            <Checkbox label=\"1\">快递</Checkbox>\n                            <Checkbox label=\"3\">门店配送</Checkbox>\n                            <Checkbox label=\"2\">到店自提</Checkbox>\n                        </CheckboxGroup>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\" v-if=\"formValidate.product_type == 0\">\n                    <FormItem label=\"运费设置：\">\n                        <RadioGroup v-model=\"formValidate.freight\">\n                            <Radio :label=\"1\">包邮</Radio>\n                            <Radio :label=\"2\">固定邮费</Radio>\n                            <Radio :label=\"3\">运费模板</Radio>\n                        </RadioGroup>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\" v-if=\"formValidate.freight == 2 && formValidate.product_type == 0\">\n                    <FormItem label=\"\" prop=\"freight\">\n                        <div class=\"acea-row row-middle\">\n                            <InputNumber :min=\"0\" v-model=\"formValidate.postage\" placeholder=\"请输入金额\"\n                                class=\"perW20 maxW\" />\n                            <span class=\"ml10\">元</span>\n                        </div>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\" v-if=\"formValidate.freight == 3 && formValidate.product_type == 0\">\n                    <FormItem label=\"\" prop=\"\">\n                        <div class=\"acea-row\">\n                            <Select v-model=\"formValidate.temp_id\" clearable class=\"perW20 maxW\">\n                                <Option v-for=\"(item, index) in templateList\" :value=\"item.id\" :key=\"index\">{{\n                                        item.name\n                                }}</Option>\n                            </Select>\n                            <Button @click=\"addTemp\" class=\"ml15\">添加运费模板</Button>\n                        </div>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"排序：\">\n                        <InputNumber placeholder=\"请输入排序\" element-id=\"sort\" :precision=\"0\" :min=\"0\"\n                            v-model=\"formValidate.sort\" class=\"perW20 maxW\" />\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"活动状态：\" props=\"is_show\" label-for=\"is_show\">\n                        <i-switch v-model=\"formValidate.is_show\" :true-value=\"1\" :false-value=\"0\" size=\"large\">\n                            <span slot=\"open\">开启</span>\n                            <span slot=\"close\">关闭</span>\n                        </i-switch>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"热门推荐：\" props=\"is_hot\" label-for=\"is_hot\">\n                        <i-switch v-model=\"formValidate.is_host\" :true-value=\"1\" :false-value=\"0\" size=\"large\">\n                            <span slot=\"open\">开启</span>\n                            <span slot=\"close\">关闭</span>\n                        </i-switch>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\" v-if=\"formValidate.product_type\">\n                    <FormItem label=\"支持退款：\" props=\"status\" label-for=\"status\">\n                        <i-switch v-model=\"formValidate.is_support_refund\" :true-value=\"1\" :false-value=\"0\"\n                            size=\"large\">\n                            <span slot=\"open\">开启</span>\n                            <span slot=\"close\">关闭</span>\n                        </i-switch>\n                    </FormItem>\n                    </Col>\n\n                    <!--<Col v-bind=\"grid2\">-->\n                    <!--<FormItem label=\"拼团价：\" prop=\"price\" label-for=\"price\">-->\n                    <!--<InputNumber placeholder=\"请输入拼团价\" element-id=\"price\" v-width=\"'100%'\"  v-model=\"formValidate.price\"/>-->\n                    <!--</FormItem>-->\n                    <!--</Col>-->\n\n                    <!--<Col v-bind=\"grid2\">-->\n                    <!--<FormItem label=\"库存：\" prop=\"stock\" label-for=\"stock\">-->\n                    <!--<InputNumber placeholder=\"请输入库存\" :min=\"1\" :precision=\"0\" element-id=\"stock\"  v-model=\"formValidate.stock\" v-width=\"'100%'\"/>-->\n                    <!--</FormItem>-->\n                    <!--</Col>-->\n                    <!--<Col v-bind=\"grid2\">-->\n                    <!--<FormItem label=\"虚拟销量：\">-->\n                    <!--<InputNumber placeholder=\"请输入虚拟销量\" :precision=\"0\" element-id=\"sales\"  v-model=\"formValidate.sales\" style=\"width: 100%\"/>-->\n                    <!--</FormItem>-->\n                    <!--</Col>-->\n\n                    <!--<Col v-bind=\"grid2\">-->\n                    <!--<FormItem label=\"邮费：\">-->\n                    <!--<InputNumber placeholder=\"请输入邮费\" element-id=\"postage\" v-model=\"formValidate.postage\" v-width=\"'100%'\"/>-->\n                    <!--</FormItem>-->\n                    <!--</Col>-->\n                    <!--<Col v-bind=\"grid2\">-->\n                    <!--<FormItem label=\"是否包邮：\" props=\"is_postage\" label-for=\"is_postage\">-->\n                    <!--<RadioGroup element-id=\"is_postage\" v-model=\"formValidate.is_postage\">-->\n                    <!--<Radio :label=\"1\" class=\"radio\">是</Radio>-->\n                    <!--<Radio :label=\"0\">否</Radio>-->\n                    <!--</RadioGroup>-->\n                    <!--</FormItem>-->\n                    <!--</Col>-->\n                </Row>\n                <Row v-show=\"current === 2\">\n                    <Col span=\"24\">\n                    <FormItem label=\"内容：\">\n                        <WangEditor style=\"width: 90%\" :content=\"formValidate.description\"\n                            @editorContent=\"getEditorContent\"></WangEditor>\n                    </FormItem>\n                    </Col>\n                </Row>\n                <!-- <FormItem>\n                        <Button class=\"submission mr15\" @click=\"step\" v-show=\"current!==0\" :disabled=\"$route.params.id&&current===1\">上一步</Button>\n                        <Button type=\"primary\" :disabled=\"submitOpen && current === 2\" class=\"submission\" @click=\"next('formValidate')\" v-text=\"current===2?'提交':'下一步'\"></Button>\n                    </FormItem> -->\n            </Form>\n            <Spin size=\"large\" fix v-if=\"spinShow\"></Spin>\n            </Col>\n        </Row>\n    </Card>\n    <Card :bordered=\"false\" dis-hover class=\"fixed-card\"\n        :style=\"{ left: `${!menuCollapse ? '200px' : isMobile ? '0' : '80px'}` }\">\n        <Form>\n            <FormItem>\n                <Button class=\"submission mr15\" @click=\"step\" v-show=\"current !== 0\"\n                    :disabled=\"$route.params.id && current === 1\">上一步</Button>\n                <Button type=\"primary\" :disabled=\"submitOpen && current === 2\" class=\"submission\"\n                    @click=\"next('formValidate')\" v-text=\"current === 2 ? '提交' : '下一步'\"></Button>\n            </FormItem>\n        </Form>\n    </Card>\n    <!-- 选择商品-->\n    <Modal v-model=\"modals\" title=\"商品列表\" footerHide class=\"paymentFooter\" scrollable width=\"900\"\n        @on-cancel=\"cancel\">\n        <goods-list ref=\"goodslist\" :goodsType=\"1\" v-if=\"modals\" @getProductId=\"getProductId\"></goods-list>\n    </Modal>\n    <!-- 上传图片-->\n    <Modal v-model=\"modalPic\" width=\"960px\" scrollable footer-hide closable title='上传商品图' :mask-closable=\"false\"\n        :z-index=\"1\">\n        <uploadPictures :isChoice=\"isChoice\" @getPic=\"getPic\" @getPicD=\"getPicD\" :gridBtn=\"gridBtn\"\n            :gridPic=\"gridPic\" v-if=\"modalPic\"></uploadPictures>\n    </Modal>\n    <freightTemplate :template=\"template\" v-on:changeTemplate=\"changeTemplate\" ref=\"templates\"></freightTemplate>\n</div>\n",null]}