{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/system/maintain/systemCleardata/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/system/maintain/systemCleardata/index.vue","mtime":1640264908000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import { replaceSiteUrlApi,hotProductStock } from '@/api/system';\n    export default {\n        name: 'systemCleardata',\n        data () {\n            return {\n                value6: '',\n                modals: false,\n                grid: {\n                    xl: 6,\n                    lg: 8,\n                    md: 12,\n                    sm: 24,\n                    xs: 24\n                },\n                tabList: [\n                    {\n                        title: '更换域名',\n                        tlt: '替换所有本地上传的图片域名',\n                        typeName: 'primary',\n                        type: '11'\n                    },\n\t\t\t\t\t{\n\t\t\t\t\t    title: '预热营销商品库存',\n\t\t\t\t\t    tlt: '更新系统,切换redis库（缓存前缀）,整体预热库存',\n\t\t\t\t\t    typeName: 'primary',\n\t\t\t\t\t    type: '12'\n\t\t\t\t\t},\n                    {\n                        title: '清除用户生成的临时附件',\n                        tlt: '清除用户生成的临时附件，不会影响商品图',\n                        typeName: 'error',\n                        type: 'temp'\n                    },\n                    {\n                        title: '清除回收站商品',\n                        tlt: '清除回收站商品，谨慎操作',\n                        typeName: 'error',\n                        type: 'recycle'\n                    },\n                    {\n                      title: '清除商城数据',\n                      tlt: '清除商城数据，谨慎操作',\n                      typeName: 'error',\n                      type: 'store'\n                    },\n                    {\n                        title: '清除订单数据',\n                        tlt: '清除用户所有订单数据，谨慎操作',\n                        typeName: 'error',\n                        type: 'order'\n                    },\n                    {\n                        title: '清除客服数据',\n                        tlt: '清除添加的客服数据，谨慎操作',\n                        typeName: 'error',\n                        type: 'kefu'\n                    },\n                    {\n                        title: '清除微信数据',\n                        tlt: '清除微信菜单保存数据，微信关键字无效回复',\n                        typeName: 'error',\n                        type: 'wechat'\n                    },\n                    {\n                        title: '清除内容分类',\n                        tlt: '清除添加的文章和文章分类,谨慎操作',\n                        typeName: 'error',\n                        type: 'article'\n                    },\n                    {\n                      title: '清除用户数据',\n                      tlt: '用户相关的所有表都将被清除，谨慎操作',\n                      typeName: 'error',\n                      type: 'user'\n                    },\n                    {\n                        title: '清除所有附件',\n                        tlt: '清除所有附件用户生成和后台上传,谨慎操作',\n                        typeName: 'error',\n                        type: 'attachment'\n                    },\n                    {\n                        title: '清除系统记录',\n                        tlt: '清除系统记录,谨慎操作',\n                        typeName: 'error',\n                        type: 'system'\n                    }\n                ]\n            }\n        },\n        methods: {\n            // 清除数据\n            onChange (item) {\n                if (item.type === '11') {\n                    this.modals = true;\n                }else if(item.type === '12') {\n\t\t\t\t\thotProductStock().then(res=>{\n\t\t\t\t\t\tthis.$Message.success(res.msg)\n\t\t\t\t\t}).catch(err=>{\n\t\t\t\t\t\tthis.$Message.error(err.msg)\n\t\t\t\t\t})\n\t\t\t\t} else {\n                    this.clearFroms(item)\n                }\n            },\n            clearFroms (item) {\n                let delfromData = {\n                    title: item.title,\n                    url: `system/clear/${item.type}`,\n                    method: 'get',\n                    ids: ''\n                };\n                this.$modalSure(delfromData).then((res) => {\n                    this.$Message.success(res.msg);\n                }).catch(res => {\n                    this.$Message.error(res.msg);\n                });\n            },\n            // 更换域名\n            changeYU () {\n                replaceSiteUrlApi({ url: this.value6 }).then(res => {\n                    this.modals = false;\n                    this.$Message.success(res.msg);\n                }).catch(res => {\n                    this.$Message.error(res.msg);\n                })\n            }\n        }\n    }\n",null]}