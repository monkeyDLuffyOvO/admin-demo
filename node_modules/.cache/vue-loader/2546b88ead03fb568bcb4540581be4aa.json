{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/marketing/storeBargain/create.vue?vue&type=template&id=432dcd1d&scoped=true&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/marketing/storeBargain/create.vue","mtime":1662341777000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["\n<div class=\"form-submit\">\n    <div class=\"i-layout-page-header\">\n        <PageHeader class=\"product_tabs\" hidden-breadcrumb>\n            <div slot=\"title\">\n                <router-link :to=\"{ path: '/admin/marketing/store_bargain/index' }\">\n                    <!-- <Button icon=\"ios-arrow-back\" size=\"small\"  class=\"mr20\">返回</Button> -->\n                    <div class=\"font-sm after-line\">\n                        <span class=\"iconfont iconfanhui\"></span>\n                        <span class=\"pl10\">返回</span>\n                    </div>\n                </router-link>\n                <span v-text=\"$route.params.id ? '编辑砍价商品' : '添加砍价商品'\" class=\"mr20 ml16\"></span>\n            </div>\n        </PageHeader>\n    </div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n        <Row type=\"flex\" class=\"mt30 acea-row row-middle row-center\">\n            <Col span=\"20\">\n            <Steps :current=\"current\">\n                <Step title=\"选择砍价商品\"></Step>\n                <Step title=\"填写基础信息\"></Step>\n                <Step title=\"修改商品详情\"></Step>\n                <Step title=\"修改商品规则\"></Step>\n            </Steps>\n            </Col>\n            <Col span=\"23\">\n            <Col span=\"24\">\n            <div class=\"lines mt25\" ></div>\n            </Col>\n            <Form class=\"form mt30\" ref=\"formValidate\" :rules=\"ruleValidate\" :model=\"formValidate\"\n                @on-validate=\"validate\" :label-width=\"labelWidth\" :label-position=\"labelPosition\"\n                @submit.native.prevent>\n                <FormItem label=\"选择商品：\" prop=\"image_input\" v-show=\"current === 0\">\n                    <div class=\"picBox\" @click=\"changeGoods\">\n                        <div class=\"pictrue\" v-if=\"formValidate.image\"><img v-lazy=\"formValidate.image\"></div>\n                        <div class=\"upLoad acea-row row-center-wrapper\" v-else>\n                            <Icon type=\"ios-camera-outline\" size=\"26\" class=\"iconfonts\" />\n                        </div>\n                    </div>\n                </FormItem>\n                <Row v-show=\"current === 1\" type=\"flex\">\n                    <Col span=\"24\">\n                    <FormItem label=\"砍价活动名称：\" prop=\"title\" label-for=\"title\">\n                        <Input placeholder=\"请输入砍价活动名称\" element-id=\"title\" v-model=\"formValidate.title\"\n                            class=\"perW40\" />\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"砍价活动简介：\" prop=\"info\" label-for=\"info\">\n                        <Input placeholder=\"请输入砍价活动简介\" type=\"textarea\" :rows=\"4\" element-id=\"info\"\n                            v-model=\"formValidate.info\" class=\"perW40\" />\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"单位：\" prop=\"unit_name\" label-for=\"unit_name\">\n                        <Select v-model=\"formValidate.unit_name\" clearable placeholder=\"请输入单位\" class=\"perW40\">\n                            <Option v-for=\"(item, index) in unitNameList\" :value=\"item.name\" :key=\"index\">{{\n                                    item.name\n                            }}</Option>\n                        </Select>\n                        <span class=\"addClass\" @click=\"addUnit\">新增单位</span>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem prop=\"images\">\n                        <div class=\"custom-label\" slot=\"label\">\n                            <div>\n                                <div>商品轮播图</div>\n                            </div>\n                            <div>：</div>\n                        </div>\n                        <div class=\"acea-row\">\n                            <div class=\"pictrue\" v-for=\"(item, index) in formValidate.images\" :key=\"index\"\n                                draggable=\"true\" @dragstart=\"handleDragStart($event, item)\"\n                                @dragover.prevent=\"handleDragOver($event, item)\"\n                                @dragenter=\"handleDragEnter($event, item)\" @dragend=\"handleDragEnd($event, item)\">\n                                <img v-lazy=\"item\">\n                                <Button shape=\"circle\" icon=\"md-close\" @click.native=\"handleRemove(index)\"\n                                    class=\"btndel\"></Button>\n                            </div>\n                            <div v-if=\"formValidate.images.length < 10\" class=\"upLoad acea-row row-center-wrapper\"\n                                @click=\"modalPicTap('duo')\">\n                                <Icon type=\"ios-camera-outline\" size=\"26\" class=\"iconfonts\" />\n                            </div>\n                        </div>\n                        <div class=\"tips\"> 建议尺寸：800 * 800px，可拖拽改变图片顺序，默认首张图为主图，最多上传10张</div>\n                    </FormItem>\n                    </Col>\n\n                    <!--<Col v-bind=\"grid2\">-->\n                    <!--<FormItem label=\"砍价商品名称：\" prop=\"store_name\" label-for=\"store_name\">-->\n                    <!--<Input placeholder=\"请输入砍价商品名称\"  v-model=\"formValidate.store_name\"/>-->\n                    <!--</FormItem>-->\n                    <!--</Col>-->\n                    <Col span=\"24\">\n                    <div class=\"lines\"></div>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"活动时间：\" prop=\"section_time\">\n                        <div class=\"acea-row row-middle\">\n                            <DatePicker :editable=\"false\" type=\"datetimerange\" format=\"yyyy-MM-dd HH:mm\"\n                                placeholder=\"请选择活动时间\" @on-change=\"onchangeTime\" class=\"perW40\"\n                                :value=\"formValidate.section_time\" v-model=\"formValidate.section_time\"></DatePicker>\n                        </div>\n                        <div class=\"tips\">设置活动开启结束时间，用户可以在设置时间内发起参与砍价</div>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"砍价人数：\" prop=\"people_num\" label-for=\"people_num\">\n                        <div class=\"acea-row row-middle\">\n                            <InputNumber placeholder=\"请输入砍价人数\" element-id=\"people_num\" :min=\"1\" :precision=\"0\"\n                                v-model=\"formValidate.people_num\" class=\"perW40\" />\n                            <span class=\"ml10\">人</span>\n                        </div>\n                        <div class=\"tips\">需要多少人砍价成功</div>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"帮砍次数：\" prop=\"bargain_num\" label-for=\"bargain_num\">\n                        <div class=\"acea-row row-middle\">\n                            <InputNumber placeholder=\"请输入帮砍次数\" element-id=\"bargain_num\" :min=\"1\" :precision=\"0\"\n                                v-model=\"formValidate.bargain_num\" class=\"perW40\" />\n                            <span class=\"ml10\">次</span>\n                        </div>\n                        <div class=\"tips\">单个商品用户可以帮砍的次数，例：次数设置为1，甲和乙同时将商品A的砍价链接发给丙，丙只能帮甲或乙其中一个人砍价</div>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"购买数量限制：\" prop=\"num\">\n                        <div class=\"acea-row row-middle\">\n                            <InputNumber placeholder=\"购买数量限制\" :precision=\"0\" :min=\"1\" v-model=\"formValidate.num\"\n                                class=\"perW40\" />\n                        </div>\n                        <div class=\"tips\">单个活动每个用户发起砍价次数限制</div>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"规格选择：\">\n                        <Table :data=\"specsData\" :columns=\"columns\" border>\n                            <template slot-scope=\"{ row, index }\" slot=\"pic\">\n                                <div class=\"acea-row row-middle row-center-wrapper\"\n                                    @click=\"modalPicTap('dan', 'danTable', index)\">\n                                    <div class=\"pictrue pictrueTab\" v-if=\"specsData[index].pic\"><img\n                                            v-lazy=\"specsData[index].pic\"></div>\n                                    <div class=\"upLoad pictrueTab acea-row row-center-wrapper\" v-else>\n                                        <Icon type=\"ios-camera-outline\" size=\"21\" class=\"iconfonts\" />\n                                    </div>\n                                </div>\n                            </template>\n                            <template slot-scope=\"{ row, index }\" slot=\"price\">\n                                <InputNumber v-model=\"specsData[index].price\" :min=\"0\" active-change\n                                    class=\"priceBox\"></InputNumber>\n                            </template>\n                            <template slot-scope=\"{ row, index }\" slot=\"min_price\">\n                                <InputNumber v-model=\"specsData[index].min_price\" :min=\"0\" active-change\n                                    class=\"priceBox\"></InputNumber>\n                            </template>\n                            <template slot-scope=\"{ row, index }\" slot=\"quota\">\n                                <InputNumber v-model=\"specsData[index].quota\" :min=\"1\" active-change\n                                    class=\"priceBox\"></InputNumber>\n                            </template>\n                        </Table>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <div class=\"lines\"></div>\n                    </Col>\n                    <Col v-if=\"formValidate.product_type == 0\">\n                    <FormItem label=\"配送方式：\">\n                        <CheckboxGroup v-model=\"formValidate.delivery_type\">\n                            <Checkbox label=\"1\">快递</Checkbox>\n                            <Checkbox label=\"3\">门店配送</Checkbox>\n                            <Checkbox label=\"2\">到店自提</Checkbox>\n                        </CheckboxGroup>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\" v-if=\"formValidate.product_type == 0\">\n                    <FormItem label=\"运费设置：\">\n                        <RadioGroup v-model=\"formValidate.freight\">\n                            <Radio :label=\"1\">包邮</Radio>\n                            <Radio :label=\"2\">固定邮费</Radio>\n                            <Radio :label=\"3\">运费模板</Radio>\n                        </RadioGroup>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\" v-if=\"formValidate.freight == 2 && formValidate.product_type == 0\">\n                    <FormItem label=\"\" prop=\"freight\">\n                        <div class=\"acea-row row-middle\">\n                            <InputNumber :min=\"0\" v-model=\"formValidate.postage\" placeholder=\"请输入金额\"\n                                class=\"perW20 maxW\" />\n                            <span class=\"ml10\">元</span>\n                        </div>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\" v-if=\"formValidate.freight == 3 && formValidate.product_type == 0\">\n                    <FormItem label=\"\" prop=\"\">\n                        <div class=\"acea-row\">\n                            <Select v-model=\"formValidate.temp_id\" clearable class=\"perW20 maxW\">\n                                <Option v-for=\"(item, index) in templateList\" :value=\"item.id\" :key=\"index\">{{\n                                        item.name\n                                }}</Option>\n                            </Select>\n                            <Button @click=\"addTemp\" class=\"ml15\">添加运费模板</Button>\n                        </div>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"排序：\">\n                        <InputNumber placeholder=\"请输入排序\" element-id=\"sort\" :precision=\"0\" :min=\"0\"\n                            v-model=\"formValidate.sort\" class=\"perW20 maxW\" />\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                    <FormItem label=\"活动状态：\" props=\"status\" label-for=\"status\">\n                        <!-- <RadioGroup element-id=\"status\" v-model=\"formValidate.status\">\n                            <Radio :label=\"1\" class=\"radio\">开启</Radio>\n                            <Radio :label=\"0\">关闭</Radio>\n                        </RadioGroup> -->\n                    <i-switch v-model=\"formValidate.status\" :true-value=\"1\" :false-value=\"0\" size=\"large\">\n                        <span slot=\"open\">开启</span>\n                        <span slot=\"close\">关闭</span>\n                    </i-switch>\n                    </FormItem>\n                    </Col>\n                    <Col span=\"24\" v-if=\"formValidate.product_type\">\n                    <FormItem label=\"支持退款：\" props=\"status\" label-for=\"status\">\n                        <i-switch v-model=\"formValidate.is_support_refund\" :true-value=\"1\" :false-value=\"0\"\n                            size=\"large\">\n                            <span slot=\"open\">开启</span>\n                            <span slot=\"close\">关闭</span>\n                        </i-switch>\n                    </FormItem>\n                    </Col>\n                    <!--<Col v-bind=\"grid2\">-->\n                    <!--<FormItem label=\"砍价金额：\" prop=\"price\">-->\n                    <!--<InputNumber  placeholder=\"请输入砍价金额\" element-id=\"price\" :precision=\"2\"  v-model=\"formValidate.price\" style=\"width: 100%\"/>-->\n                    <!--</FormItem>-->\n                    <!--</Col>-->\n                    <!--<Col v-bind=\"grid2\">-->\n                    <!--<FormItem label=\"砍价最低金额：\" prop=\"min_price\" label-for=\"min_price\">-->\n                    <!--<InputNumber  placeholder=\"请输入砍价最低金额\" element-id=\"min_price\" :precision=\"2\"  v-model=\"formValidate.min_price\" style=\"width: 100%\"/>-->\n                    <!--</FormItem>-->\n                    <!--</Col>-->\n                    <!--                            <Col v-bind=\"grid2\">-->\n                    <!--                                <FormItem label=\"单次砍价最大金额：\" prop=\"bargain_max_price\">-->\n                    <!--                                    <InputNumber  placeholder=\"请输单次砍价最大金额\" :min=\"0\" element-id=\"bargain_max_price\" v-model=\"formValidate.bargain_max_price\" style=\"width: 100%\"/>-->\n                    <!--                                </FormItem>-->\n                    <!--                            </Col>-->\n                    <!--                            <Col v-bind=\"grid2\">-->\n                    <!--                                <FormItem label=\"单次砍价最小金额：\" prop=\"bargain_min_price\" label-for=\"bargain_min_price\">-->\n                    <!--                                    <InputNumber  placeholder=\"请输入单次砍价最小金额\" :min=\"0\" element-id=\"bargain_min_price\"  v-model=\"formValidate.bargain_min_price\" style=\"width: 100%\"/>-->\n                    <!--                                </FormItem>-->\n                    <!--                            </Col>-->\n                    <!--<Col v-bind=\"grid2\">-->\n                    <!--<FormItem label=\"成本价：\" prop=\"cost\">-->\n                    <!--<InputNumber  placeholder=\"请输入成本价\" element-id=\"cost\" :precision=\"2\"  v-model=\"formValidate.cost\" style=\"width: 100%\"/>-->\n                    <!--</FormItem>-->\n                    <!--</Col>-->\n                    <!--<Col v-bind=\"grid2\">-->\n                    <!--<FormItem label=\"库存：\" prop=\"stock\">-->\n                    <!--<InputNumber placeholder=\"请输入库存\"  element-id=\"stock\" :min=\"1\" :precision=\"0\"  v-model=\"formValidate.stock\" style=\"width: 100%\"/>-->\n                    <!--</FormItem>-->\n                    <!--</Col>-->\n                    <!--<Col v-bind=\"grid2\">-->\n                    <!--<FormItem label=\"销量：\">-->\n                    <!--<InputNumber placeholder=\"请输入销量\" element-id=\"sales\" :precision=\"0\"  v-model=\"formValidate.sales\" style=\"width: 100%\"/>-->\n                    <!--</FormItem>-->\n                    <!--</Col>-->\n\n                    <!--                            <Col v-bind=\"grid2\">-->\n                    <!--                                <FormItem label=\"赠送积分：\">-->\n                    <!--                                    <InputNumber placeholder=\"请输入赠送积分\" element-id=\"give_integral\" :precision=\"0\"  v-model=\"formValidate.give_integral\" style=\"width: 100%\"/>-->\n                    <!--                                </FormItem>-->\n                    <!--                            </Col>-->\n                    <!--<Col v-bind=\"grid2\">-->\n                    <!--<FormItem label=\"邮费：\">-->\n                    <!--<InputNumber placeholder=\"请输入邮费\" element-id=\"postage\" :precision=\"0\" v-model=\"formValidate.postage\" style=\"width: 100%\"/>-->\n                    <!--</FormItem>-->\n                    <!--</Col>-->\n                    <!--<Col v-bind=\"grid2\">-->\n                    <!--<FormItem label=\"是否包邮：\" props=\"is_postage\" label-for=\"is_postage\">-->\n                    <!--<RadioGroup element-id=\"is_postage\" v-model=\"formValidate.is_postage\">-->\n                    <!--<Radio :label=\"1\" class=\"radio\">是</Radio>-->\n                    <!--<Radio :label=\"0\">否</Radio>-->\n                    <!--</RadioGroup>-->\n                    <!--</FormItem>-->\n                    <!--</Col>-->\n                    <!--                            <Col v-bind=\"grid2\">-->\n                    <!--                                <FormItem label=\"热门推荐：\" props=\"is_hot\" label-for=\"is_hot\">-->\n                    <!--                                    <RadioGroup element-id=\"is_hot\" v-model=\"formValidate.is_hot\">-->\n                    <!--                                        <Radio :label=\"1\" class=\"radio\">开启</Radio>-->\n                    <!--                                        <Radio :label=\"0\">关闭</Radio>-->\n                    <!--                                    </RadioGroup>-->\n                    <!--                                </FormItem>-->\n                    <!--                            </Col>-->\n                </Row>\n                <div v-if=\"current === 2\">\n                    <FormItem label=\"内容：\">\n                        <WangEditor style=\"width: 90%\" :content=\"description\" @editorContent=\"getEditorContent\"\n                            :key=\"1\"></WangEditor>\n                    </FormItem>\n                </div>\n                <div v-if=\"current === 3\">\n                    <FormItem label=\"规则：\">\n                        <WangEditor style=\"width: 90%\" :content=\"rule\" @editorContent=\"getEditorContent2\" :key=\"2\">\n                        </WangEditor>\n                    </FormItem>\n                </div>\n                <!-- <FormItem>\n                        <Button class=\"submission mr15\" @click=\"step\" v-show=\"current!==0\" :disabled=\"$route.params.id&&$route.params.id!=='0'&&current===1\">上一步</Button>\n                        <Button type=\"primary\" :disabled=\"submitOpen && current === 2\" class=\"submission\" @click=\"next('formValidate')\" v-text=\"current===2?'提交':'下一步'\"></Button>\n                    </FormItem> -->\n                <Spin size=\"large\" fix v-if=\"spinShow\"></Spin>\n            </Form>\n            </Col>\n        </Row>\n    </Card>\n    <Card :bordered=\"false\" dis-hover class=\"fixed-card\"\n        :style=\"{ left: `${!menuCollapse ? '200px' : isMobile ? '0' : '80px'}` }\">\n        <Form>\n            <FormItem>\n                <Button class=\"submission mr15\" @click=\"step\" v-show=\"current !== 0\"\n                    :disabled=\"$route.params.id && $route.params.id !== '0' && (current === 1)\">上一步</Button>\n                <Button type=\"primary\" :disabled=\"submitOpen && current === 3\" class=\"submission\"\n                    @click=\"next('formValidate')\" v-text=\"current === 3 ? '提交' : '下一步'\"></Button>\n            </FormItem>\n        </Form>\n    </Card>\n    <!-- 选择商品-->\n    <Modal v-model=\"modals\" title=\"商品列表\" footerHide class=\"paymentFooter\" scrollable width=\"900\"\n        @on-cancel=\"cancel\">\n        <goods-list ref=\"goodslist\" :goodsType=\"1\" @getProductId=\"getProductId\"></goods-list>\n    </Modal>\n\n    <!-- 上传图片-->\n    <Modal v-model=\"modalPic\" width=\"960px\" scrollable footer-hide closable title='上传商品图' :mask-closable=\"false\"\n        :z-index=\"1\">\n        <uploadPictures :isChoice=\"isChoice\" @getPic=\"getPic\" @getPicD=\"getPicD\" :gridBtn=\"gridBtn\"\n            :gridPic=\"gridPic\" v-if=\"modalPic\"></uploadPictures>\n    </Modal>\n    <freightTemplate :template=\"template\" v-on:changeTemplate=\"changeTemplate\" ref=\"templates\"></freightTemplate>\n</div>\n",null]}