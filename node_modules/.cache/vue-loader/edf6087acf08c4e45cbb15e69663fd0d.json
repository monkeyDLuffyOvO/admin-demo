{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/pages/platform/index/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/pages/platform/index/index.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { orderApi, userApi } from '@/api/index'\nimport echartsFrom from '@/components/echarts/index'\nimport cardsData from \"@/components/cards/cards\";\nexport default {\n\tname: \"home\",\n\tcomponents: { cardsData, echartsFrom },\n\tdata() {\n\t\treturn{\n\t\t\tloading:false,\n\t\t\toptionData:{},\n\t\t\tformValidate: {\n\t\t\t  status: \"\",\n\t\t\t  extract_type: \"\",\n\t\t\t  nireid: \"\",\n\t\t\t  data: \"\",\n\t\t\t  page: 1,\n\t\t\t  limit: 20,\n\t\t\t},\n\t\t\ttimeVal: [],\n\t\t\tfromList: {\n\t\t\t  title: \"选择时间\",\n\t\t\t  custom: true,\n\t\t\t  fromTxt: [\n\t\t\t    { text: \"全部\", val: \"\" },\n\t\t\t    { text: \"近一周\", val: \"week\" },\n\t\t\t    { text: \"近30天\", val: \"month\" },\n\t\t\t    { text: \"近半年\", val: \"year\" },\n\t\t\t  ],\n\t\t\t},\n\t\t\tcardLists: [],\n\t\t\textractStatistics: {\n\t\t\t\tprice: '11',\n\t\t\t\tbrokerage_count: '23',\n\t\t\t\tpriced: '34'\n\t\t\t\t\n\t\t\t},\n\t\t\tseries: [],\n\t\t\tyAxisData: [],\n\t\t\tinfoList: {},\n\t\t\tinfoLists: {},\n\t\t\tcircle: 'circle1',\n\t\t\tinlie: 'inlie',\n\t\t\tcolumns4: [\n\t\t\t    {\n\t\t\t        title: '店员名称',\n\t\t\t        key: 'name',\n\t\t\t        minWidth: 80\n\t\t\t    },\n\t\t\t    {\n\t\t\t        title: '推广用户数',\n\t\t\t        width: 180,\n\t\t\t        key: 'store_name'\n\t\t\t    },\n\t\t\t    {\n\t\t\t        title: '推广用户消费金额',\n\t\t\t        key: 'visit',\n\t\t\t        minWidth: 100\n\t\t\t    },\n\t\t\t    {\n\t\t\t        title: '推广付费会员数',\n\t\t\t        key: 'user',\n\t\t\t        minWidth: 100\n\t\t\t    },\n\t\t\t    {\n\t\t\t        title: '推广付费会员金额',\n\t\t\t        key: 'cart',\n\t\t\t        minWidth: 100\n\t\t\t    },\n\t\t\t],\n\t\t\ttabList: [\n\t\t\t\t{name:\"小四\",store_name:\"12\",pay:\"122\",cart:\"22\",user:'55',visit:'22'},\n\t\t\t\t{name:\"李三\",store_name:\"145\",pay:\"645\",cart:\"22\",user:'224',visit:'2'},\n\t\t\t\t{name:\"王五\",store_name:\"43\",pay:\"353\",cart:\"22\",user:'75',visit:'98'},\n\t\t\t\t{name:\"王五\",store_name:\"43\",pay:\"353\",cart:\"22\",user:'75',visit:'98'},\n\t\t\t\t{name:\"王五\",store_name:\"43\",pay:\"353\",cart:\"22\",user:'75',visit:'98'}\n\t\t\t],\n\t\t}\n\t},\n\tcomputed: {\n\t  labelWidth() {\n\t    return this.isMobile ? undefined : 80;\n\t  },\n\t  labelPosition() {\n\t    return this.isMobile ? \"top\" : \"left\";\n\t  },\n\t},\n\tcreated(){\n\t\tthis.cardList()\n\t\tthis.getStatistics()\n\t},\n\tmethods:{\n\t\t// 统计\n\t\tgetStatistics () {\n\t\t    let data = {\n\t\t        cycle: this.visitDate\n\t\t    }\n\t\t    orderApi(data).then(async res => {\n\t\t        this.infoList = res.data || {}\n\t\t        this.series = this.infoList.series || [],\n\t\t\t\tthis.yAxisData = [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'value',\n\t\t\t\t\t\tname: '',\n\t\t\t\t\t\taxisLine: {\n\t\t\t\t\t\t\tshow: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\taxisTick: {\n\t\t\t\t\t\t\tshow: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\t\t\tcolor: '#7F8B9C'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsplitLine: {\n\t\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\t\tcolor: '#F5F7F9'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'value',\n\t\t\t\t\t\tname: '',\n\t\t\t\t\t\taxisLine: {\n\t\t\t\t\t\t\tshow: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\taxisTick: {\n\t\t\t\t\t\t\tshow: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\t\t\tcolor: '#7F8B9C'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsplitLine: {\n\t\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\t\tcolor: '#F5F7F9'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t    }).catch(res => {\n\t\t        this.$Message.error(res.msg)\n\t\t    })\n\t\t\tuserApi().then(async res => {\n\t\t\t    this.infoLists = res.data;\n\t\t\t\t})\n\t\t},\n\t\t// 选择时间\n\t\tselectChange(tab) {\n\t\t  this.formValidate.page = 1;\n\t\t  this.formValidate.data = tab;\n\t\t  this.timeVal = [];\n\t\t  // this.getList();\n\t\t},\n\t\t// 具体日期\n\t\tonchangeTime(e) {\n\t\t  this.timeVal = e;\n\t\t  this.formValidate.data = this.timeVal[0] ? this.timeVal.join(\"-\") : \"\";\n\t\t  this.formValidate.page = 1;\n\t\t  // this.getList();\n\t\t},\n\t\tcardList(){\n\t\t\tthis.cardLists = [\n\t\t\t  {\n\t\t\t    col: 6,\n\t\t\t    count: this.extractStatistics.price,\n\t\t\t    name: \"门店实际收款\",\n\t\t\t    className: \"md-basket\",\n\t\t\t  },\n\t\t\t  {\n\t\t\t    col: 6,\n\t\t\t    count: this.extractStatistics.brokerage_count,\n\t\t\t    name: \"余额消耗金额\",\n\t\t\t    className: \"md-pricetags\",\n\t\t\t  },\n\t\t\t  {\n\t\t\t    col: 6,\n\t\t\t    count: this.extractStatistics.priced,\n\t\t\t    name: \"用户充值金额\",\n\t\t\t    className: \"md-cash\",\n\t\t\t  },\n\t\t\t  {\n\t\t\t    col: 6,\n\t\t\t    count: this.extractStatistics.priced,\n\t\t\t    name: \"收银订单金额\",\n\t\t\t    className: \"ios-cash\",\n\t\t\t  },\n\t\t\t  {\n\t\t\t    col: 6,\n\t\t\t    count: this.extractStatistics.priced,\n\t\t\t    name: \"付费会员金额\",\n\t\t\t    className: \"md-cash\",\n\t\t\t  },\n\t\t\t  {\n\t\t\t    col: 6,\n\t\t\t    count: this.extractStatistics.priced,\n\t\t\t    name: \"分配订单金额\",\n\t\t\t    className: \"ios-cash\",\n\t\t\t  },\n\t\t\t  {\n\t\t\t    col: 6,\n\t\t\t    count: this.extractStatistics.priced,\n\t\t\t    name: \"核销订单金额\",\n\t\t\t    className: \"md-cash\",\n\t\t\t  },\n\t\t\t  {\n\t\t\t    col: 6,\n\t\t\t    count: this.extractStatistics.priced,\n\t\t\t    name: \"门店新增用户数\",\n\t\t\t    className: \"md-cash\",\n\t\t\t  },\n\t\t\t  {\n\t\t\t    col: 6,\n\t\t\t    count: this.extractStatistics.priced,\n\t\t\t    name: \"门店成交用户数\",\n\t\t\t    className: \"md-cash\",\n\t\t\t  },\n\t\t\t  {\n\t\t\t    col: 6,\n\t\t\t    count: this.extractStatistics.priced,\n\t\t\t    name: \"门店会员卡激活数\",\n\t\t\t    className: \"md-cash\",\n\t\t\t  }\n\t\t\t]\n\t\t},\n\t\t\n\t\t// 监听页面宽度变化，刷新表格\n\t\thandleResize () {\n\t\t    if (this.infoList) this.$refs.visitChart.handleResize()\n\t\t}\n\t}\n}\n",null]}