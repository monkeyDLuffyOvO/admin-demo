{"remainingRequest":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js??ref--0-2!/home/darkcrossunicorn/文档/admin/src/components/labelList/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/darkcrossunicorn/文档/admin/src/components/labelList/index.vue","mtime":1658973957000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/darkcrossunicorn/文档/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { productUserLabel } from \"@/api/product\";\nexport default {\n  name: \"userLabel\",\n  props: {\n    // dataLabel: {\n    // \ttype: Array,\n    // \tdefault: () => []\n    // }\n  },\n  data() {\n    return {\n      labelList: [],\n      dataLabel: [],\n      isUser: false,\n    };\n  },\n  mounted() {},\n  methods: {\n    // getArrEqual:function (arr1, arr2) {\n    // \tlet newArr = [];\n    // \t   for (let i = 0; i < arr2.length; i++) {\n    // \t       for (let j = 0; j < arr1.length; j++) {\n    // \t\t\t\t\t   if(arr2[i].id){\n    // \t\t\t\t\t\t\t if(arr1[j] === arr2[i].id){\n    // \t\t\t\t\t\t\t     newArr.push(arr2[i]);\n    // \t\t\t\t\t\t\t }\n    // \t\t\t\t\t\t }else{\n    // \t\t\t\t\t\t\t if(arr1[j] === arr2[i]){\n    // \t\t\t\t\t\t\t     newArr.push(arr1[j]);\n    // \t\t\t\t\t\t\t }\n    // \t\t\t\t\t\t }\n    // \t   }\n    // \t}\n    // \treturn newArr;\n    // },\n    inArray: function (search, array) {\n      for (let i in array) {\n        if (array[i].id == search) {\n          return true;\n        }\n      }\n      return false;\n    },\n    // 用户标签\n    userLabel(data) {\n      this.dataLabel = data;\n      productUserLabel()\n        .then((res) => {\n          res.data.map((el) => {\n            if (el.children) {\n              this.isUser = true;\n              el.children.map((label) => {\n                if (this.inArray(label.id, this.dataLabel)) {\n                  label.disabled = true;\n                } else {\n                  label.disabled = false;\n                }\n              });\n            }\n          });\n          this.labelList = res.data;\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    selectLabel(label) {\n      if (label.disabled) {\n        let index = this.dataLabel.indexOf(\n          this.dataLabel.filter((d) => d.id == label.id)[0]\n        );\n        this.dataLabel.splice(index, 1);\n        label.disabled = false;\n      } else {\n        this.dataLabel.push({ label_name: label.label_name, id: label.id });\n        label.disabled = true;\n      }\n    },\n    // 确定\n    subBtn() {\n      this.$emit(\"activeData\", JSON.parse(JSON.stringify(this.dataLabel)));\n    },\n    cancel() {\n      this.$emit(\"close\");\n    },\n  },\n};\n",null]}